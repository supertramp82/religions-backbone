d3=function(){function d(r){return null!=r&&!isNaN(r)}function f(r){return r.length}function m(r,a){try{for(var b in a)Object.defineProperty(r.prototype,b,{value:a[b],enumerable:!1})}catch(c){r.prototype=a}}function k(){}function c(){}function y(r,a,b){return function(){var c=b.apply(a,arguments);return c===a?r:c}}function a(){}function b(r){function a(){for(var z=b,c=-1,h=z.length,ia;++c<h;)(ia=z[c].on)&&ia.apply(this,arguments);return r}var b=[],c=new k;a.on=function(a,z){var h=c.get(a),e;if(2>
arguments.length)return h&&h.on;h&&(h.on=null,b=b.slice(0,e=b.indexOf(h)).concat(b.slice(e+1)),c.remove(a));z&&b.push(c.set(a,{on:z}));return r};return a}function e(){s.event.stopPropagation();s.event.preventDefault()}function p(){for(var r=s.event,a;a=r.sourceEvent;)r=a;return r}function q(r,a){function b(){r.on(a,null)}r.on(a,function(){e();b()},!0);setTimeout(b,0)}function K(r){for(var z=new a,c=0,h=arguments.length;++c<h;)z[arguments[c]]=b(z);z.of=function(a,b){return function(c){try{var h=c.sourceEvent=
s.event;c.target=r;s.event=c;z[c.type].apply(a,b)}finally{s.event=h}}};return z}function B(r,a){var b=r.ownerSVGElement||r;if(b.createSVGPoint){var c=b.createSVGPoint();if(0>Ed&&(xa.scrollX||xa.scrollY)){var b=s.select(za.body).append("svg").style("position","absolute").style("top",0).style("left",0),h=b[0][0].getScreenCTM();Ed=!(h.f||h.e);b.remove()}Ed?(c.x=a.pageX,c.y=a.pageY):(c.x=a.clientX,c.y=a.clientY);c=c.matrixTransform(r.getScreenCTM().inverse());return[c.x,c.y]}b=r.getBoundingClientRect();
return[a.clientX-b.left-r.clientLeft,a.clientY-b.top-r.clientTop]}function N(r){for(var a=-1,b=r.length,c=[];++a<b;)c.push(r[a]);return c}function F(r){Fd(r,ba);return r}function v(r){return function(){return Gd(r,this)}}function M(r){return function(){return Hd(r,this)}}function I(r,a){function b(){this.removeAttribute(r)}function c(){this.removeAttributeNS(r.space,r.local)}function h(){this.setAttribute(r,a)}function e(){this.setAttributeNS(r.space,r.local,a)}function l(){var b=a.apply(this,arguments);
null==b?this.removeAttribute(r):this.setAttribute(r,b)}function d(){var b=a.apply(this,arguments);null==b?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,b)}r=s.ns.qualify(r);return null==a?r.local?c:b:"function"===typeof a?r.local?d:l:r.local?e:h}function C(r){return r.trim().replace(/\s+/g," ")}function R(r){return RegExp("(?:^|\\s+)"+s.requote(r)+"(?:\\s+|$)","g")}function H(r,a){function b(){for(var c=-1;++c<h;)r[c](this,a)}function c(){for(var b=-1,P=a.apply(this,
arguments);++b<h;)r[b](this,P)}r=r.trim().split(/\s+/).map(w);var h=r.length;return"function"===typeof a?c:b}function w(r){var a=R(r);return function(b,c){if(h=b.classList)return c?h.add(r):h.remove(r);var h=b.getAttribute("class")||"";c?(a.lastIndex=0,a.test(h)||b.setAttribute("class",C(h+" "+r))):b.setAttribute("class",C(h.replace(a," ")))}}function W(r,a,b){function c(){this.style.removeProperty(r)}function h(){this.style.setProperty(r,a,b)}function e(){var c=a.apply(this,arguments);null==c?this.style.removeProperty(r):
this.style.setProperty(r,c,b)}return null==a?c:"function"===typeof a?e:h}function Aa(r,a){function b(){delete this[r]}function c(){this[r]=a}function h(){var b=a.apply(this,arguments);null==b?delete this[r]:this[r]=b}return null==a?b:"function"===typeof a?h:c}function ea(r){return function(){return se(this,r)}}function ca(r){arguments.length||(r=s.ascending);return function(a,b){return!a-!b||r(a.__data__,b.__data__)}}function U(){}function Ta(r,a,b){function c(){var a=this[l];a&&(this.removeEventListener(r,
a,a.$),delete this[l])}function h(){var V=n(a,nb(arguments));c.call(this);this.addEventListener(r,this[l]=V,V.$=b);V._=a}function e(){var a=RegExp("^__on([^.]+)"+s.requote(r)+"$"),z,b;for(b in this)if(z=b.match(a)){var c=this[b];this.removeEventListener(z[1],c,c.$);delete this[b]}}var l="__on"+r,d=r.indexOf("."),n=Ba;0<d&&(r=r.substring(0,d));var g=Id.get(r);g&&(r=g,n=Ca);return d?a?h:c:a?U:e}function Ba(a,z){return function(b){var c=s.event;s.event=b;z[0]=this.__data__;try{a.apply(this,z)}finally{s.event=
c}}}function Ca(a,z){var b=Ba(a,z);return function(a){var r=a.relatedTarget;r&&(r===this||r.compareDocumentPosition(this)&8)||b.call(this,a)}}function ja(a,z){for(var b=0,c=a.length;b<c;b++)for(var h=a[b],e=0,l=h.length,d;e<l;e++)(d=h[e])&&z(d,e,b);return a}function Y(a){Fd(a,wb);return a}function x(){}function X(a,z,b){return new T(a,z,b)}function T(a,z,b){this.h=a;this.s=z;this.l=b}function u(a,z,b){function c(a){360<a?a-=360:0>a&&(a+=360);return 60>a?h+(e-h)*a/60:180>a?e:240>a?h+(e-h)*(240-a)/
60:h}var h,e;a=isNaN(a)?0:0>(a%=360)?a+360:a;z=isNaN(z)?0:0>z?0:1<z?1:z;b=0>b?0:1<b?1:b;e=0.5>=b?b*(1+z):b+z-b*z;h=2*b-e;return Ra(Math.round(255*c(a+120)),Math.round(255*c(a)),Math.round(255*c(a-120)))}function A(a){return 1<a?G/2:-1>a?-G/2:Math.asin(a)}function sa(a){return(a=Math.sin(a/2))*a}function Z(a,z,b){return new Da(a,z,b)}function Da(a,z,b){this.h=a;this.c=z;this.l=b}function ib(a,z,b){isNaN(a)&&(a=0);isNaN(z)&&(z=0);return ta(b,Math.cos(a*=Q)*z,Math.sin(a)*z)}function ta(a,z,b){return new pa(a,
z,b)}function pa(a,z,b){this.l=a;this.a=z;this.b=b}function fa(a,z,b){a=(a+16)/116;b=a-b/200;z=J(a+z/500)*te;a=J(a)*ue;b=J(b)*ve;return Ra(xb(3.2404542*z-1.5371385*a-0.4985314*b),xb(-0.969266*z+1.8760108*a+0.041556*b),xb(0.0556434*z-0.2040259*a+1.0572252*b))}function Pb(a,z,b){return 0<a?Z(Math.atan2(b,z)*da,Math.sqrt(z*z+b*b),a):Z(NaN,NaN,a)}function J(a){return 0.206893034<a?a*a*a:(a-4/29)/7.787037}function jb(a){return 0.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function xb(a){return Math.round(255*
(0.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function Ra(a,b,c){return new Sa(a,b,c)}function Sa(a,b,c){this.r=a;this.g=b;this.b=c}function ka(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function Qb(a,b,c){var h=0,e=0,l=0,d,n;if(d=/([a-z]+)\((.*)\)/i.exec(a))switch(n=d[2].split(","),d[1]){case "hsl":return c(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100);case "rgb":return b(ec(n[0]),ec(n[1]),ec(n[2]))}if(c=Fc.get(a))return b(c.r,c.g,c.b);null!=a&&
"#"===a.charAt(0)&&(4===a.length?(h=a.charAt(1),h+=h,e=a.charAt(2),e+=e,l=a.charAt(3),l+=l):7===a.length&&(h=a.substring(1,3),e=a.substring(3,5),l=a.substring(5,7)),h=parseInt(h,16),e=parseInt(e,16),l=parseInt(l,16));return b(h,e,l)}function Rb(a,b,c){var h=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),l=e-h,d=(e+h)/2;l?(h=0.5>d?l/(e+h):l/(2-e-h),a=60*(a==e?(b-c)/l+(b<c?6:0):b==e?(c-a)/l+2:(a-b)/l+4)):(a=NaN,h=0<d&&1>d?0:a);return X(a,h,d)}function Xa(a,b,c){a=Sb(a);b=Sb(b);c=Sb(c);var h=jb((0.4124564*
a+0.3575761*b+0.1804375*c)/te),e=jb((0.2126729*a+0.7151522*b+0.072175*c)/ue);a=jb((0.0193339*a+0.119192*b+0.9503041*c)/ve);return ta(116*e-16,500*(h-e),200*(e-a))}function Sb(a){return 0.04045>=(a/=255)?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function ec(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function S(a){return"function"===typeof a?a:function(){return a}}function la(a){return a}function g(a){return function(b,c,h){2===arguments.length&&"function"===typeof c&&
(h=c,c=null);return hb(b,c,a,h)}}function hb(a,b,c,h){function e(){var a=g.status,r;if(!a&&g.responseText||200<=a&&300>a||304===a){try{r=c.call(l,g)}catch(b){d.error.call(l,b);return}d.load.call(l,r)}else d.error.call(l,g)}var l={},d=s.dispatch("progress","load","error"),n={},g=new (xa.XDomainRequest&&/^(http(s)?:)?\/\//.test(a)?XDomainRequest:XMLHttpRequest);"onload"in g?g.onload=g.onerror=e:g.onreadystatechange=function(){3<g.readyState&&e()};g.onprogress=function(a){var r=s.event;s.event=a;try{d.progress.call(l,
g)}finally{s.event=r}};l.header=function(a,r){a=(a+"").toLowerCase();if(2>arguments.length)return n[a];null==r?delete n[a]:n[a]=r+"";return l};l.mimeType=function(a){if(!arguments.length)return b;b=null==a?null:a+"";return l};l.response=function(a){c=a;return l};["get","post"].forEach(function(a){l[a]=function(){return l.send.apply(l,[a].concat(nb(arguments)))}});l.send=function(c,h,P){2===arguments.length&&"function"===typeof h&&(P=h,h=null);g.open(c,a,!0);null==b||"accept"in n||(n.accept=b+",*/*");
if(g.setRequestHeader)for(var e in n)g.setRequestHeader(e,n[e]);null!=b&&g.overrideMimeType&&g.overrideMimeType(b);if(null!=P)l.on("error",P).on("load",function(a){P(null,a)});g.send(null==h?null:h);return l};l.abort=function(){g.abort();return l};s.rebind(l,d,"on");return null==h?l:l.get(Ha(h))}function Ha(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Gc(a,b){function h(a,r,c){3>arguments.length&&(c=r,r=null);var P=s.xhr(a,b,c);P.row=function(a){return arguments.length?P.response(null==
(r=a)?e:l(a)):r};return P.row(r)}function e(a){return h.parse(a.responseText)}function l(a){return function(r){return h.parse(r.responseText,a)}}function d(b){return b.map(n).join(a)}function n(a){return g.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var g=RegExp('["'+a+"\n]"),f=a.charCodeAt(0);h.parse=function(a,r){var b;return h.parseRows(a,function(a,z){if(b)return b(a,z-1);var c=new Function("d","return {"+a.map(function(a,r){return JSON.stringify(a)+": d["+r+"]"}).join(",")+"}");b=r?function(a,b){return r(c(a),
b)}:c})};h.parseRows=function(a,r){function b(){if(e>=P)return c;if(V)return V=!1,z;var r=e;if(34===a.charCodeAt(r)){for(var h=r;h++<P;)if(34===a.charCodeAt(h)){if(34!==a.charCodeAt(h+1))break;++h}e=h+2;var l=a.charCodeAt(h+1);13===l?(V=!0,10===a.charCodeAt(h+2)&&++e):10===l&&(V=!0);return a.substring(r+1,h).replace(/""/g,'"')}for(;e<P;){l=a.charCodeAt(e++);h=1;if(10===l)V=!0;else if(13===l)V=!0,10===a.charCodeAt(e)&&(++e,++h);else if(l!==f)continue;return a.substring(r,e-h)}return a.substring(r)}
for(var z={},c={},h=[],P=a.length,e=0,l=0,ia,V;(ia=b())!==c;){for(var d=[];ia!==z&&ia!==c;)d.push(ia),ia=b();r&&!(d=r(d,l++))||h.push(d)}return h};h.format=function(b){if(Array.isArray(b[0]))return h.formatRows(b);var z=new c,e=[];b.forEach(function(a){for(var r in a)z.has(r)||e.push(z.add(r))});return[e.map(n).join(a)].concat(b.map(function(b){return e.map(function(a){return n(b[a])}).join(a)})).join("\n")};h.formatRows=function(a){return a.map(d).join("\n")};return h}function fc(){var a=gc(),a=
Hc()-a;24<a?(isFinite(a)&&(clearTimeout(Ic),Ic=setTimeout(fc,a)),Jc=0):(Jc=1,we(fc))}function gc(){for(var a=Date.now(),b=Kc;b;)a>=b.time&&(b.flush=b.callback(a-b.time)),b=b.next;return a}function Hc(){for(var a,b=Kc,c=Infinity;b;)b.flush?b=a?a.next=b.next:Kc=b.next:(b.time<c&&(c=b.time),b=(a=b).next);Lc=a;return c}function hc(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Jd(a){return a+""}function Tb(a,b){if(a&&xe.hasOwnProperty(a.type))xe[a.type](a,b)}function ic(a,b,c){var h=-1;
c=a.length-c;var e;for(b.lineStart();++h<c;)e=a[h],b.point(e[0],e[1]);b.lineEnd()}function Mc(a,b){var c=-1,h=a.length;for(b.polygonStart();++c<h;)ic(a[c],b,1);b.polygonEnd()}function Kd(){function a(r,b){r*=Q;b=b*Q/2+G/4;var z=r-h,c=Math.cos(b),P=Math.sin(b),d=l*P,n=e*c+d*Math.cos(z),z=d*Math.sin(z);jc+=Math.atan2(z,n);h=r;e=c;l=P}var b,c,h,e,l;Ua.point=function(d,n){Ua.point=a;h=(b=d)*Q;e=Math.cos(n=(c=n)*Q/2+G/4);l=Math.sin(n)};Ua.lineEnd=function(){a(b,c)}}function ya(a){var b=a[0];a=a[1];var c=
Math.cos(a);return[c*Math.cos(b),c*Math.sin(b),Math.sin(a)]}function yb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function zb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function kc(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function Ub(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function ab(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function Ab(a){return[Math.atan2(a[1],a[0]),Math.asin(Math.max(-1,Math.min(1,a[2])))]}function kb(a,b){return Math.abs(a[0]-
b[0])<O&&Math.abs(a[1]-b[1])<O}function Nc(a,b){if(!va){++bb;a*=Q;var c=Math.cos(b*=Q);ma+=(c*Math.cos(a)-ma)/bb;na+=(c*Math.sin(a)-na)/bb;ga+=(Math.sin(b)-ga)/bb}}function Ld(){var a,b;va=1;lc();va=2;var c=cb.point;cb.point=function(h,e){c(a=h,b=e)};cb.lineEnd=function(){cb.point(a,b);Bb();cb.lineEnd=Bb}}function lc(){function a(r,e){r*=Q;var l=Math.cos(e*=Q),d=l*Math.cos(r),l=l*Math.sin(r),n=Math.sin(e),g=Math.atan2(Math.sqrt((g=c*n-h*l)*g+(g=h*d-b*n)*g+(g=b*l-c*d)*g),b*d+c*l+h*n);bb+=g;ma+=g*(b+
(b=d));na+=g*(c+(c=l));ga+=g*(h+(h=n))}var b,c,h;1<va||(1>va&&(va=1,bb=ma=na=ga=0),cb.point=function(e,l){e*=Q;var d=Math.cos(l*=Q);b=d*Math.cos(e);c=d*Math.sin(e);h=Math.sin(l);cb.point=a})}function Bb(){cb.point=Nc}function Ia(){return!0}function Cb(a,b,c,h,e){var l=[],d=[];a.forEach(function(a){if(!(0>=(r=a.length-1))){var r,b=a[0],c=a[r];if(kb(b,c)){e.lineStart();for(c=0;c<r;++c)e.point((b=a[c])[0],b[1]);e.lineEnd()}else a={point:b,points:a,other:null,visited:!1,entry:!0,subject:!0},b={point:b,
points:[b],other:a,visited:!1,entry:!1,subject:!1},a.other=b,l.push(a),d.push(b),a={point:c,points:[c],other:null,visited:!1,entry:!1,subject:!0},b={point:c,points:[c],other:a,visited:!1,entry:!0,subject:!1},a.other=b,l.push(a),d.push(b)}});d.sort(b);Vb(l);Vb(d);if(l.length){if(c)for(a=1,c=!c(d[0].point),b=d.length;a<b;++a)d[a].entry=c=!c;c=l[0];for(var n,g;;){for(b=c;b.visited;)if((b=b.next)===c)return;n=b.points;e.lineStart();do{b.visited=b.other.visited=!0;if(b.entry){if(b.subject)for(a=0;a<n.length;a++)e.point((g=
n[a])[0],g[1]);else h(b.point,b.next.point,1,e);b=b.next}else{if(b.subject)for(n=b.prev.points,a=n.length;0<=--a;)e.point((g=n[a])[0],g[1]);else h(b.point,b.prev.point,-1,e);b=b.prev}b=b.other;n=b.points}while(!b.visited);e.lineEnd()}}}function Vb(a){if(b=a.length){for(var b,c=0,h=a[0],e;++c<b;)h.next=e=a[c],e.prev=h,h=e;h.next=e=a[0];e.prev=h}}function Oc(a,b,c){return function(h){function e(b,c){a(b,c)&&h.point(b,c)}function l(a,r){p.point(a,r)}function d(){t.point=l;p.lineStart()}function n(){t.point=
e;p.lineEnd()}function g(a,r){D.point(a,r);x.push([a,r])}function f(){D.lineStart();x=[]}function k(){g(x[0][0],x[0][1]);D.lineEnd();var a=D.clean(),r=E.buffer(),b=r.length;if(b)if(x=null,a&1){a=r[0];q+=mc(a,1);var b=a.length-1,r=-1,c;for(h.lineStart();++r<b;)h.point((c=a[r])[0],c[1]);h.lineEnd()}else 1<b&&a&2&&r.push(r.pop().concat(r.shift())),u.push(r.filter(Md));else v=!0,m+=mc(x,-1),x=null}var p=b(h),t={point:e,lineStart:d,lineEnd:n,polygonStart:function(){t.point=g;t.lineStart=f;t.lineEnd=k;
v=!1;m=q=0;u=[];h.polygonStart()},polygonEnd:function(){t.point=e;t.lineStart=d;t.lineEnd=n;u=s.merge(u);if(u.length)Cb(u,Nd,null,c,h);else if(q<-O||v&&m<-O)h.lineStart(),c(null,null,1,h),h.lineEnd();h.polygonEnd();u=null},sphere:function(){h.polygonStart();h.lineStart();c(null,null,1,h);h.lineEnd();h.polygonEnd()}},u,q,m,v,E=nc(),D=b(E),x;return t}}function Md(a){return 1<a.length}function nc(){var a=[],b;return{lineStart:function(){a.push(b=[])},point:function(a,r){b.push([a,r])},lineEnd:U,buffer:function(){var c=
a;a=[];b=null;return c},rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))}}}function mc(a,b){if(!(c=a.length))return 0;for(var c,h=0,e=0,l=a[0],d=l[0],n=l[1],g=Math.cos(n),f=Math.atan2(b*Math.sin(d)*g,Math.sin(n)),k=1-b*Math.cos(d)*g,t=f;++h<c;)l=a[h],g=Math.cos(n=l[1]),l=Math.atan2(b*Math.sin(d=l[0])*g,Math.sin(n)),d=1-b*Math.cos(d)*g,Math.abs(k-2)<O&&Math.abs(d-2)<O||(Math.abs(d)<O||Math.abs(k)<O||(Math.abs(Math.abs(l-f)-G)<O?2<d+k&&(e+=4*(l-f)):e=Math.abs(k-2)<O?e+4*(l-t):e+((3*G+
l-f)%(2*G)-G)*(k+d)),t=f,f=l,k=d);return e}function Nd(a,b){return(0>(a=a.point)[0]?a[1]-G/2-O:G/2-a[1])-(0>(b=b.point)[0]?b[1]-G/2-O:G/2-b[1])}function Od(a){function b(a,r){return Math.cos(a)*Math.cos(r)>e}function c(a,r,b){var h=ya(a),z=ya(r),P=[1,0,0],z=zb(h,z),l=yb(z,z),h=z[0],d=l-h*h;if(!d)return!b&&a;l=e*l/d;d=-e*h/d;h=zb(P,z);P=Ub(P,l);z=Ub(z,d);kc(P,z);z=yb(P,h);l=yb(h,h);d=z*z-l*(yb(P,P)-1);if(!(0>d)){var ia=Math.sqrt(d),d=Ub(h,(-z-ia)/l);kc(d,P);d=Ab(d);if(!b)return d;b=a[0];var n=r[0];
a=a[1];r=r[1];var ua;n<b&&(ua=b,b=n,n=ua);var g=n-b,f=Math.abs(g-G)<O,wa=f||g<O;!f&&r<a&&(ua=a,a=r,r=ua);if(wa?f?0<a+r^d[1]<(Math.abs(d[0]-b)<O?a:r):a<=d[1]&&d[1]<=r:g>G^(b<=d[0]&&d[0]<=n))return r=Ub(h,(-z+ia)/l),kc(r,P),[d,Ab(r)]}}function h(b,c){var z=l?a:G-a,P=0;b<-z?P|=1:b>z&&(P|=2);c<-z?P|=4:c>z&&(P|=8);return P}var e=Math.cos(a),l=0<e,d=Math.abs(e)>O,n=oc(a,6*Q);return Oc(b,function(a){var r,e,V,n,g;return{lineStart:function(){n=V=!1;g=1},point:function(f,vb){var k=[f,vb],t,p=b(f,vb),u=l?p?
0:h(f,vb):p?h(f+(0>f?G:-G),vb):0;!r&&(n=V=p)&&a.lineStart();p!==V&&(t=c(r,k),kb(r,t)||kb(k,t))&&(k[0]+=O,k[1]+=O,p=b(k[0],k[1]));if(p!==V)g=0,p?(a.lineStart(),t=c(k,r),a.point(t[0],t[1])):(t=c(r,k),a.point(t[0],t[1]),a.lineEnd()),r=t;else if(d&&r&&l^p){var q;u&e||!(q=c(k,r,!0))||(g=0,l?(a.lineStart(),a.point(q[0][0],q[0][1]),a.point(q[1][0],q[1][1]),a.lineEnd()):(a.point(q[1][0],q[1][1]),a.lineEnd(),a.lineStart(),a.point(q[0][0],q[0][1])))}!p||r&&kb(r,k)||a.point(k[0],k[1]);r=k;V=p;e=u},lineEnd:function(){V&&
a.lineEnd();r=null},clean:function(){return g|(n&&V)<<1}}},n)}function Pc(a,b,c,h){function e(h,l){return Math.abs(h[0]-a)<O?0<l?0:3:Math.abs(h[0]-c)<O?0<l?2:1:Math.abs(h[1]-b)<O?0<l?1:0:0<l?3:2}function l(a,r){return d(a.point,r.point)}function d(a,r){var b=e(a,1),c=e(r,1);return b!==c?b-c:0===b?r[1]-a[1]:1===b?a[0]-r[0]:2===b?a[1]-r[1]:r[0]-a[0]}return function(n){function g(l){l=e(l,-1);return f([0===l||3===l?a:c,1<l?h:b])}function f(a){for(var r=0,b=v.length,c=a[1],h=0;h<b;++h)for(var z=1,P=v[h],
e=P.length,l=P[0],d;z<e;++z)d=P[z],l[1]<=c?d[1]>c&&0<(d[0]-l[0])*(a[1]-l[1])-(a[0]-l[0])*(d[1]-l[1])&&++r:d[1]<=c&&0>(d[0]-l[0])*(a[1]-l[1])-(a[0]-l[0])*(d[1]-l[1])&&--r,l=d;return 0!==r}function k(l,n,g,ua){var f=0,vb=0;if(null==l||(f=e(l,g))!==(vb=e(n,g))||0>d(l,n)^0<g){do ua.point(0===f||3===f?a:c,1<f?h:b);while((f=(f+g+4)%4)!==vb)}else ua.point(n[0],n[1])}function t(e,l){a<=e&&e<=c&&b<=l&&l<=h&&n.point(e,l)}function p(e,l){e=Math.max(-Qc,Math.min(Qc,e));l=Math.max(-Qc,Math.min(Qc,l));var d=a<=
e&&e<=c&&b<=l&&l<=h;v&&E.push([e,l]);if(Pa)x=e,A=l,C=d,Pa=!1,d&&(n.lineStart(),n.point(e,l));else if(d&&w)n.point(e,l);else{var V=[aa,y],g=[e,l],ua;ua=g[0]-V[0];var f=g[1]-V[1],wa=[0,1];Math.abs(ua)<O&&Math.abs(f)<O?ua=a<=V[0]&&V[0]<=c&&b<=V[1]&&V[1]<=h:Wb(a-V[0],ua,wa)&&Wb(V[0]-c,-ua,wa)&&Wb(b-V[1],f,wa)&&Wb(V[1]-h,-f,wa)?(1>wa[1]&&(g[0]=V[0]+wa[1]*ua,g[1]=V[1]+wa[1]*f),0<wa[0]&&(V[0]+=wa[0]*ua,V[1]+=wa[0]*f),ua=!0):ua=!1;ua?(w||(n.lineStart(),n.point(V[0],V[1])),n.point(g[0],g[1]),d||n.lineEnd()):
d&&(n.lineStart(),n.point(e,l))}aa=e;y=l;w=d}var u=n,q=nc(),m,v,E,D={point:t,lineStart:function(){D.point=p;v&&v.push(E=[]);Pa=!0;w=!1;aa=y=NaN},lineEnd:function(){m&&(p(x,A),C&&w&&q.rejoin(),m.push(q.buffer()));D.point=t;w&&n.lineEnd()},polygonStart:function(){n=q;m=[];v=[]},polygonEnd:function(){n=u;(m=s.merge(m)).length?(n.polygonStart(),Cb(m,l,g,k,n),n.polygonEnd()):f([a,b])&&(n.polygonStart(),n.lineStart(),k(null,null,1,n),n.lineEnd(),n.polygonEnd());m=v=E=null}},x,A,C,aa,y,w,Pa;return D}}function Wb(a,
b,c){if(Math.abs(b)<O)return 0>=a;a/=b;if(0<b){if(a>c[1])return!1;a>c[0]&&(c[0]=a)}else{if(a<c[0])return!1;a<c[1]&&(c[1]=a)}return!0}function pc(a,b){function c(h,P){return h=a(h,P),b(h[0],h[1])}a.invert&&b.invert&&(c.invert=function(c,h){return c=b.invert(c,h),c&&a.invert(c[0],c[1])});return c}function Rc(a){function b(h){function z(b,c){b=a(b,c);h.point(b[0],b[1])}function l(){f=NaN;q.point=d;h.lineStart()}function d(b,z){var l=ya([b,z]),ia=a(b,z);c(f,k,g,t,p,u,f=ia[0],k=ia[1],g=b,t=l[0],p=l[1],
u=l[2],e,h);h.point(f,k)}function ia(){q.point=z;h.lineEnd()}function n(){var a,r,b,z,wa,m;l();q.point=function(c,h){d(a=c,h);r=f;b=k;z=t;wa=p;m=u;q.point=d};q.lineEnd=function(){c(f,k,g,t,p,u,r,b,a,z,wa,m,e,h);q.lineEnd=ia;ia()}}var g,f,k,t,p,u,q={point:z,lineStart:l,lineEnd:ia,polygonStart:function(){h.polygonStart();q.lineStart=n},polygonEnd:function(){h.polygonEnd();q.lineStart=l}};return q}function c(b,z,e,l,d,V,n,g,f,k,t,p,q,u){var m=n-b,v=g-z,E=m*m+v*v;if(E>4*h&&q--){var s=l+k,D=d+t,x=V+p,
A=Math.sqrt(s*s+D*D+x*x),C=Math.asin(x/=A),aa=Math.abs(Math.abs(x)-1)<O?(e+f)/2:Math.atan2(D,s),y=a(aa,C),C=y[0],y=y[1],w=C-b,Pa=y-z,M=v*w-m*Pa;if(M*M/E>h||0.3<Math.abs((m*w+v*Pa)/E-0.5))c(b,z,e,l,d,V,C,y,aa,s/=A,D/=A,x,q,u),u.point(C,y),c(C,y,aa,s,D,x,n,g,f,k,t,p,q,u)}}var h=0.5,e=16;b.precision=function(a){if(!arguments.length)return Math.sqrt(h);e=0<(h=a*a)&&16;return b};return b}function Ea(a){return Db(function(){return a})()}function Db(a){function b(a){a=d(a[0]*Q,a[1]*Q);return[a[0]*g+v,E-
a[1]*g]}function c(a){return(a=d.invert((a[0]-v)/g,(E-a[1])/g))&&[a[0]*da,a[1]*da]}function h(){d=pc(l=Xb(q,u,m),e);var a=e(t,p);v=f-a[0]*g;E=k+a[1]*g;return b}var e,l,d,n=Rc(function(a,r){a=e(a,r);return[a[0]*g+v,E-a[1]*g]}),g=150,f=480,k=250,t=0,p=0,q=0,u=0,m=0,v,E,D=ye,x=la,C=null,A=null;b.stream=function(a){return Sc(l,D(n(x(a))))};b.clipAngle=function(a){if(!arguments.length)return C;D=null==a?(C=a,ye):Od((C=+a)*Q);return b};b.clipExtent=function(a){if(!arguments.length)return A;A=a;x=null==
a?la:Pc(a[0][0],a[0][1],a[1][0],a[1][1]);return b};b.scale=function(a){if(!arguments.length)return g;g=+a;return h()};b.translate=function(a){if(!arguments.length)return[f,k];f=+a[0];k=+a[1];return h()};b.center=function(a){if(!arguments.length)return[t*da,p*da];t=a[0]%360*Q;p=a[1]%360*Q;return h()};b.rotate=function(a){if(!arguments.length)return[q*da,u*da,m*da];q=a[0]%360*Q;u=a[1]%360*Q;m=2<a.length?a[2]%360*Q:0;return h()};s.rebind(b,n,"precision");return function(){e=a.apply(this,arguments);b.invert=
e.invert&&c;return h()}}function Sc(a,b){return{point:function(c,h){h=a(c*Q,h*Q);c=h[0];b.point(c>G?c-2*G:c<-G?c+2*G:c,h[1])},sphere:function(){b.sphere()},lineStart:function(){b.lineStart()},lineEnd:function(){b.lineEnd()},polygonStart:function(){b.polygonStart()},polygonEnd:function(){b.polygonEnd()}}}function ob(a,b){return[a,b]}function Xb(a,b,c){return a?b||c?pc(Tc(a),Yb(b,c)):Tc(a):b||c?Yb(b,c):ob}function Uc(a){return function(b,c){return b+=a,[b>G?b-2*G:b<-G?b+2*G:b,c]}}function Tc(a){var b=
Uc(a);b.invert=Uc(-a);return b}function Yb(a,b){function c(a,r){var b=Math.cos(r),z=Math.cos(a)*b,b=Math.sin(a)*b,P=Math.sin(r),n=P*h+z*e;return[Math.atan2(b*l-n*d,z*h-P*e),Math.asin(Math.max(-1,Math.min(1,n*l+b*d)))]}var h=Math.cos(a),e=Math.sin(a),l=Math.cos(b),d=Math.sin(b);c.invert=function(a,r){var b=Math.cos(r),c=Math.cos(a)*b,b=Math.sin(a)*b,z=Math.sin(r),P=z*l-b*d;return[Math.atan2(b*l+z*d,c*h+P*e),Math.asin(Math.max(-1,Math.min(1,P*h-c*e)))]};return c}function oc(a,b){var c=Math.cos(a),h=
Math.sin(a);return function(e,l,d,n){if(null!=e){if(e=qc(c,e),l=qc(c,l),0<d?e<l:e>l)e+=2*d*G}else e=a+2*d*G,l=a;for(var g,f=d*b;0<d?e>l:e<l;e-=f)n.point((g=Ab([c,-h*Math.cos(e),-h*Math.sin(e)]))[0],g[1])}}function qc(a,b){var c=ya(b);c[0]-=a;ab(c);var h=Math.acos(Math.max(-1,Math.min(1,-c[1])));return((0>-c[2]?-h:h)+2*Math.PI-O)%(2*Math.PI)}function Vc(a,b,c){var h=s.range(a,b-O,c).concat(b);return function(a){return h.map(function(r){return[a,r]})}}function Wc(a,b,c){var h=s.range(a,b-O,c).concat(b);
return function(a){return h.map(function(r){return[r,a]})}}function oa(a){return a.source}function Eb(a){return a.target}function Fb(a,b,c,h){var e=Math.cos(b),l=Math.sin(b),d=Math.cos(h),n=Math.sin(h),g=e*Math.cos(a),f=e*Math.sin(a),k=d*Math.cos(c),t=d*Math.sin(c),p=2*Math.asin(Math.sqrt(sa(h-b)+e*d*sa(c-a))),q=1/Math.sin(p);c=p?function(a){var r=Math.sin(a*=p)*q,b=Math.sin(p-a)*q;a=b*g+r*k;var c=b*f+r*t,r=b*l+r*n;return[Math.atan2(c,a)*da,Math.atan2(r,Math.sqrt(a*a+c*c))*da]}:function(){return[a*
da,b*da]};c.distance=p;return c}function Va(a){var b=0,c=G/3,h=Db(a);a=h(b,c);a.parallels=function(a){return arguments.length?h(b=a[0]*G/180,c=a[1]*G/180):[b/G*180,c/G*180]};return a}function Ya(a,b){function c(a,r){var b=Math.sqrt(l-2*e*Math.sin(r))/e;return[b*Math.sin(a*=e),d-b*Math.cos(a)]}var h=Math.sin(a),e=(h+Math.sin(b))/2,l=1+h*(2*e-h),d=Math.sqrt(l)/e;c.invert=function(a,r){var b=d-r;return[Math.atan2(a,b)/e,A((l-(a*a+b*b)*e*e)/(2*e))]};return c}function rc(){function a(r,b){Xc+=e*r-h*b;
h=r;e=b}var b,c,h,e;pb.point=function(l,d){pb.point=a;b=h=l;c=e=d};pb.lineEnd=function(){a(b,c)}}function Pd(){function a(r,b){d.push("M",r,",",b,l)}function b(a,r){d.push("M",a,",",r);n.point=c}function c(a,r){d.push("L",a,",",r)}function h(){n.point=a}function e(){d.push("Z")}var l=Yc(4.5),d=[],n={point:a,lineStart:function(){n.point=b},lineEnd:h,polygonStart:function(){n.lineEnd=e},polygonEnd:function(){n.lineEnd=h;n.point=a},pointRadius:function(a){l=Yc(a);return n},result:function(){if(d.length){var a=
d.join("");d=[];return a}}};return n}function Yc(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function sc(a,b){va||(ma+=a,na+=b,++ga)}function tc(){function a(r,h){var e=r-b,l=h-c,e=Math.sqrt(e*e+l*l);ma+=e*(b+r)/2;na+=e*(c+h)/2;ga+=e;b=r;c=h}var b,c;if(1!==va)if(1>va)va=1,ma=na=ga=0;else return;db.point=function(h,e){db.point=a;b=h;c=e}}function Zc(){db.point=sc}function Zb(){function a(r,b){var c=e*r-h*b;ma+=c*(h+r);na+=c*(e+b);ga+=3*c;h=r;e=b}var b,c,h,e;2>va&&
(va=2,ma=na=ga=0);db.point=function(l,d){db.point=a;b=h=l;c=e=d};db.lineEnd=function(){a(b,c)}}function Qd(a){function b(c,h){a.moveTo(c,h);a.arc(c,h,d,0,2*G)}function c(b,z){a.moveTo(b,z);n.point=h}function h(b,c){a.lineTo(b,c)}function e(){n.point=b}function l(){a.closePath()}var d=4.5,n={point:b,lineStart:function(){n.point=c},lineEnd:e,polygonStart:function(){n.lineEnd=l},polygonEnd:function(){n.lineEnd=e;n.point=b},pointRadius:function(a){d=a;return n},result:U};return n}function $c(a){var b=
Rc(function(b,c){return a([b*da,c*da])});return function(a){a=b(a);return{point:function(r,b){a.point(r*Q,b*Q)},sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}}function Gb(a,b){function c(b,h){var z=Math.cos(b),e=Math.cos(h),z=a(z*e);return[z*e*Math.sin(b),z*Math.sin(h)]}c.invert=function(a,r){var c=Math.sqrt(a*a+r*r),h=b(c),e=Math.sin(h),h=Math.cos(h);return[Math.atan2(a*
e,c*h),Math.asin(c&&r*e/c)]};return c}function uc(a,b){function c(a,r){var b=Math.abs(Math.abs(r)-G/2)<O?0:l/Math.pow(Math.tan(G/4+r/2),e);return[b*Math.sin(e*a),l-b*Math.cos(e*a)]}var h=Math.cos(a),e=a===b?Math.sin(a):Math.log(h/Math.cos(b))/Math.log(Math.tan(G/4+b/2)/Math.tan(G/4+a/2)),l=h*Math.pow(Math.tan(G/4+a/2),e)/e;if(!e)return Hb;c.invert=function(a,r){var b=l-r,c=(0<e?1:0>e?-1:0)*Math.sqrt(a*a+b*b);return[Math.atan2(a,b)/e,2*Math.atan(Math.pow(l/c,1/e))-G/2]};return c}function Ja(a,b){function c(a,
r){var b=l-r;return[b*Math.sin(e*a),l-b*Math.cos(e*a)]}var h=Math.cos(a),e=a===b?Math.sin(a):(h-Math.cos(b))/(b-a),l=h/e+a;if(Math.abs(e)<O)return ob;c.invert=function(a,r){var b=l-r;return[Math.atan2(a,b)/e,l-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+b*b)]};return c}function Hb(a,b){return[a,Math.log(Math.tan(G/4+b/2))]}function ad(a){var b=Ea(a),c=b.scale,h=b.translate,e=b.clipExtent,l;b.scale=function(){var a=c.apply(b,arguments);return a===b?l?b.clipExtent(null):b:a};b.translate=function(){var a=h.apply(b,
arguments);return a===b?l?b.clipExtent(null):b:a};b.clipExtent=function(a){var r=e.apply(b,arguments);if(r===b){if(l=null==a){var d=G*c(),n=h();e([[n[0]-d,n[1]-d],[n[0]+d,n[1]+d]])}}else l&&(r=null);return r};return b.clipExtent(null)}function vc(a,b){var c=Math.cos(b)*Math.sin(a);return[Math.log((1+c)/(1-c))/2,Math.atan2(Math.tan(b),Math.cos(a))]}function wc(a){function b(z){function d(){g.push("M",l(a(f),n))}for(var g=[],f=[],k=-1,t=z.length,p,wa=S(c),q=S(h);++k<t;)e.call(this,p=z[k],k)?f.push([+wa.call(this,
p,k),+q.call(this,p,k)]):f.length&&(d(),f=[]);f.length&&d();return g.length?g.join(""):null}var c=qa,h=Wa,e=Ia,l=ha,d=l.key,n=0.7;b.x=function(a){if(!arguments.length)return c;c=a;return b};b.y=function(a){if(!arguments.length)return h;h=a;return b};b.defined=function(a){if(!arguments.length)return e;e=a;return b};b.interpolate=function(a){if(!arguments.length)return d;d="function"===typeof a?l=a:(l=Rd.get(a)||ha).key;return b};b.tension=function(a){if(!arguments.length)return n;n=a;return b};return b}
function qa(a){return a[0]}function Wa(a){return a[1]}function ha(a){return a.join("L")}function Ka(a){for(var b=0,c=a.length,h=a[0],e=[h[0],",",h[1]];++b<c;)e.push("V",(h=a[b])[1],"H",h[0]);return e.join("")}function Ib(a){for(var b=0,c=a.length,h=a[0],e=[h[0],",",h[1]];++b<c;)e.push("H",(h=a[b])[0],"V",h[1]);return e.join("")}function qb(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return ha(a);var c=a.length!=b.length,h="",e=a[0],l=a[1],d=b[0],n=d,g=1;c&&(h+="Q"+(l[0]-2*d[0]/3)+
","+(l[1]-2*d[1]/3)+","+l[0]+","+l[1],e=a[1],g=2);if(1<b.length)for(n=b[1],l=a[g],g++,h+="C"+(e[0]+d[0])+","+(e[1]+d[1])+","+(l[0]-n[0])+","+(l[1]-n[1])+","+l[0]+","+l[1],e=2;e<b.length;e++,g++)l=a[g],n=b[e],h+="S"+(l[0]-n[0])+","+(l[1]-n[1])+","+l[0]+","+l[1];c&&(c=a[g],h+="Q"+(l[0]+2*n[0]/3)+","+(l[1]+2*n[1]/3)+","+c[0]+","+c[1]);return h}function xc(a,b){for(var c=[],h=(1-b)/2,e,l=a[0],d=a[1],n=1,g=a.length;++n<g;)e=l,l=d,d=a[n],c.push([h*(d[0]-e[0]),h*(d[1]-e[1])]);return c}function yc(a){if(3>
a.length)return ha(a);var b=1,c=a.length,h=a[0],e=h[0],l=h[1],d=[e,e,e,(h=a[1])[0]],n=[l,l,l,h[1]],e=[e,",",l];for(Jb(e,d,n);++b<c;)h=a[b],d.shift(),d.push(h[0]),n.shift(),n.push(h[1]),Jb(e,d,n);for(b=-1;2>++b;)d.shift(),d.push(h[0]),n.shift(),n.push(h[1]),Jb(e,d,n);return e.join("")}function La(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Jb(a,b,c){a.push("C",La(ze,b),",",La(ze,c),",",La(Ae,b),",",La(Ae,c),",",La($b,b),",",La($b,c))}function zc(a,b){return(b[1]-a[1])/(b[0]-a[0])}
function bd(a,b,c,h){var e,l,d;a=h[a];e=a[0];l=a[1];a=h[b];b=a[0];d=a[1];a=h[c];return 0<(a[1]-l)*(b-e)-(d-l)*(a[0]-e)}function ac(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Ac(a,b,c,h){var e=a[0],l=c[0],d=b[0]-e,n=h[0]-l;a=a[1];c=c[1];b=b[1]-a;h=h[1]-c;l=(n*(a-c)-h*(e-l))/(h*d-n*b);return[e+l*d,a+l*b]}function Kb(a,b){var c=a.map(function(a,b){return{index:b,x:a[0],y:a[1]}}).sort(function(a,b){return a.y<b.y?-1:a.y>b.y?1:a.x<b.x?-1:a.x>b.x?1:0}),h=null,e={list:[],leftEnd:null,
rightEnd:null,init:function(){e.leftEnd=e.createHalfEdge(null,"l");e.rightEnd=e.createHalfEdge(null,"l");e.leftEnd.r=e.rightEnd;e.rightEnd.l=e.leftEnd;e.list.unshift(e.leftEnd,e.rightEnd)},createHalfEdge:function(a,b){return{edge:a,side:b,vertex:null,l:null,r:null}},insert:function(a,b){b.l=a;b.r=a.r;a.r.l=b;a.r=b},leftBound:function(a){var b=e.leftEnd;do b=b.r;while(b!=e.rightEnd&&l.rightOf(b,a));return b=b.l},del:function(a){a.l.r=a.r;a.r.l=a.l;a.edge=null},right:function(a){return a.r},left:function(a){return a.l},
leftRegion:function(a){return null==a.edge?h:a.edge.region[a.side]},rightRegion:function(a){return null==a.edge?h:a.edge.region[Sd[a.side]]}},l={bisect:function(a,b){var r={region:{l:a,r:b},ep:{l:null,r:null}},c=b.x-a.x,h=b.y-a.y;r.c=a.x*c+a.y*h+0.5*(c*c+h*h);(0<c?c:-c)>(0<h?h:-h)?(r.a=1,r.b=h/c,r.c/=c):(r.b=1,r.a=c/h,r.c/=h);return r},intersect:function(a,b){var r=a.edge,c=b.edge;if(!r||!c||r.region.r==c.region.r)return null;var h=r.a*c.b-r.b*c.a;if(1E-10>Math.abs(h))return null;var z=(r.c*c.b-c.c*
r.b)/h,h=(c.c*r.a-r.c*c.a)/h,e=r.region.r,l=c.region.r;e.y<l.y||e.y==l.y&&e.x<l.x?e=a:(e=b,r=c);return(r=z>=r.region.r.x)&&"l"===e.side||!r&&"r"===e.side?null:{x:z,y:h}},rightOf:function(a,b){var r=a.edge,c=r.region.r,h=b.x>c.x;if(h&&"l"===a.side)return 1;if(!h&&"r"===a.side)return 0;if(1===r.a){var z=b.y-c.y,e=b.x-c.x,l=0,d=0;!h&&0>r.b||h&&0<=r.b?d=l=z>=r.b*e:(d=b.x+b.y*r.b>r.c,0>r.b&&(d=!d),d||(l=1));l||(c=c.x-r.region.l.x,d=r.b*(e*e-z*z)<c*z*(1+2*e/c+r.b*r.b),0>r.b&&(d=!d))}else e=r.c-r.a*b.x,
r=b.y-e,z=b.x-c.x,c=e-c.y,d=r*r>z*z+c*c;return"l"===a.side?d:!d},endPoint:function(a,r,c){a.ep[r]=c;a.ep[Sd[r]]&&b(a)},distance:function(a,r){var b=a.x-r.x,c=a.y-r.y;return Math.sqrt(b*b+c*c)}},d={list:[],insert:function(a,r,b){a.vertex=r;a.ystar=r.y+b;b=0;for(var c=d.list,h=c.length;b<h;b++){var z=c[b];if(!(a.ystar>z.ystar||a.ystar==z.ystar&&r.x>z.vertex.x))break}c.splice(b,0,a)},del:function(a){for(var r=0,b=d.list,c=b.length;r<c&&b[r]!=a;++r);b.splice(r,1)},empty:function(){return 0===d.list.length},
nextEvent:function(a){for(var r=0,b=d.list,c=b.length;r<c;++r)if(b[r]==a)return b[r+1];return null},min:function(){var a=d.list[0];return{x:a.vertex.x,y:a.ystar}},extractMin:function(){return d.list.shift()}};e.init();for(var h=c.shift(),n=c.shift(),g,f,k,p,t,q,u,m,v;;)if(d.empty()||(g=d.min()),n&&(d.empty()||n.y<g.y||n.y==g.y&&n.x<g.x)){f=e.leftBound(n);k=e.right(f);u=e.rightRegion(f);v=l.bisect(u,n);q=e.createHalfEdge(v,"l");e.insert(f,q);if(m=l.intersect(f,q))d.del(f),d.insert(f,m,l.distance(m,
n));f=q;q=e.createHalfEdge(v,"r");e.insert(f,q);(m=l.intersect(q,k))&&d.insert(q,m,l.distance(m,n));n=c.shift()}else if(d.empty())break;else{f=d.extractMin();p=e.left(f);k=e.right(f);t=e.right(k);u=e.leftRegion(f);q=e.rightRegion(k);m=f.vertex;l.endPoint(f.edge,f.side,m);l.endPoint(k.edge,k.side,m);e.del(f);d.del(k);e.del(k);f="l";u.y>q.y&&(f=u,u=q,q=f,f="r");v=l.bisect(u,q);q=e.createHalfEdge(v,f);e.insert(p,q);l.endPoint(v,Sd[f],m);if(m=l.intersect(p,q))d.del(p),d.insert(p,m,l.distance(m,u));(m=
l.intersect(q,t))&&d.insert(q,m,l.distance(m,u))}for(f=e.right(e.leftEnd);f!=e.rightEnd;f=e.right(f))b(f.edge)}function cd(a){return a.x}function Be(a){return a.y}function Bc(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function eb(a,b,c,h,e,l){if(!a(b,c,h,e,l)){var d=0.5*(c+e),n=0.5*(h+l);b=b.nodes;b[0]&&eb(a,b[0],c,h,d,n);b[1]&&eb(a,b[1],d,h,e,n);b[2]&&eb(a,b[2],c,n,d,l);b[3]&&eb(a,b[3],d,n,e,l)}}function Za(a,b){a=s.rgb(a);b=s.rgb(b);var c=a.r,h=a.g,e=a.b,l=b.r-c,d=b.g-h,n=b.b-e;return function(a){return"#"+
ka(Math.round(c+l*a))+ka(Math.round(h+d*a))+ka(Math.round(e+n*a))}}function rb(a){var b=[a.a,a.b],c=[a.c,a.d],h=dd(b),e=b[0]*c[0]+b[1]*c[1],l=-e;c[0]+=l*b[0];c[1]+=l*b[1];l=dd(c)||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,h*=-1,e*=-1);this.rotate=(h?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*da;this.translate=[a.e,a.f];this.scale=[h,l];this.skew=l?Math.atan2(e,l)*da:0}function dd(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);b&&(a[0]/=b,a[1]/=b);return b}function Ma(a,b){b-=a=+a;return function(c){return a+
b*c}}function Na(a,b){var c=[],h=[],e,l=s.transform(a),d=s.transform(b),n=l.translate,g=d.translate,f=l.rotate,k=d.rotate,p=l.skew,t=d.skew,l=l.scale,d=d.scale;n[0]!=g[0]||n[1]!=g[1]?(c.push("translate(",null,",",null,")"),h.push({i:1,x:Ma(n[0],g[0])},{i:3,x:Ma(n[1],g[1])})):g[0]||g[1]?c.push("translate("+g+")"):c.push("");f!=k?(180<f-k?k+=360:180<k-f&&(f+=360),h.push({i:c.push(c.pop()+"rotate(",null,")")-2,x:Ma(f,k)})):k&&c.push(c.pop()+"rotate("+k+")");p!=t?h.push({i:c.push(c.pop()+"skewX(",null,
")")-2,x:Ma(p,t)}):t&&c.push(c.pop()+"skewX("+t+")");l[0]!=d[0]||l[1]!=d[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),h.push({i:e-4,x:Ma(l[0],d[0])},{i:e-2,x:Ma(l[1],d[1])})):1==d[0]&&1==d[1]||c.push(c.pop()+"scale("+d+")");e=h.length;return function(a){for(var b=-1,r;++b<e;)c[(r=h[b]).i]=r.x(a);return c.join("")}}function Lb(a,b){var c={},h={},e;for(e in a)e in b?c[e]=("transform"==e?Na:$a)(a[e],b[e]):h[e]=a[e];for(e in b)e in a||(h[e]=b[e]);return function(a){for(e in c)h[e]=c[e](a);return h}}
function ed(a,b){var c,h,e=0,l=[],d=[],n,g;a+="";b+="";for(h=fd.lastIndex=0;c=fd.exec(b);++h)c.index&&l.push(b.substring(e,c.index)),d.push({i:l.length,x:c[0]}),l.push(null),e=fd.lastIndex;e<b.length&&l.push(b.substring(e));h=0;for(n=d.length;(c=fd.exec(a))&&h<n;++h)if(g=d[h],g.x==c[0]){if(g.i)if(null==l[g.i+1])for(l[g.i-1]+=g.x,l.splice(g.i,1),c=h+1;c<n;++c)d[c].i--;else for(l[g.i-1]+=g.x+l[g.i+1],l.splice(g.i,2),c=h+1;c<n;++c)d[c].i-=2;else if(null==l[g.i+1])l[g.i]=g.x;else for(l[g.i]=g.x+l[g.i+
1],l.splice(g.i+1,1),c=h+1;c<n;++c)d[c].i--;d.splice(h,1);n--;h--}else g.x=Ma(parseFloat(c[0]),parseFloat(g.x));for(;h<n;)g=d.pop(),null==l[g.i+1]?l[g.i]=g.x:(l[g.i]=g.x+l[g.i+1],l.splice(g.i+1,1)),n--;return 1===l.length?null==l[0]?(g=d[0].x,function(a){return g(a)+""}):function(){return b}:function(a){for(h=0;h<n;++h)l[(g=d[h]).i]=g.x(a);return l.join("")}}function $a(a,b){for(var c=s.interpolators.length,h;0<=--c&&!(h=s.interpolators[c](a,b)););return h}function gd(a,b){var c=[],h=[],e=a.length,
l=b.length,d=Math.min(a.length,b.length),n;for(n=0;n<d;++n)c.push($a(a[n],b[n]));for(;n<e;++n)h[n]=a[n];for(;n<l;++n)h[n]=b[n];return function(a){for(n=0;n<d;++n)h[n]=c[n](a);return h}}function bc(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function sb(a){return function(b){return 1-a(1-b)}}function h(a){return function(b){return 0.5*(0.5>b?a(2*b):2-a(2-2*b))}}function l(a){return a*a}function n(a){return a*a*a}function t(a){return 1-Math.cos(a*G/2)}function E(a){return Math.pow(2,10*(a-1))}
function D(a){return 1-Math.sqrt(1-a*a)}function aa(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}function Ce(a,b){b-=a;return function(c){return Math.round(a+b*c)}}function Kf(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return(c-a)*b}}function Lf(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function Mf(a){var b=a.source;a=a.target;var c;var h=a;if(b===h)c=b;else{c=
De(b);for(var h=De(h),e=c.pop(),l=h.pop(),d=null;e===l;)d=e,e=c.pop(),l=h.pop();c=d}for(h=[b];b!==c;)b=b.parent,h.push(b);for(b=h.length;a!==c;)h.splice(b,0,a),a=a.parent;return h}function De(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;b.push(a);return b}function Nf(a){a.fixed|=2}function Td(a){a.fixed&=-7}function Of(a){a.fixed|=4;a.px=a.x;a.py=a.y}function Pf(a){a.fixed&=-5}function Ee(a,b,c){var h=0,e=0;a.charge=0;if(!a.leaf)for(var l=a.nodes,d=l.length,n=-1,g;++n<d;)g=l[n],null!=
g&&(Ee(g,b,c),a.charge+=g.charge,h+=g.charge*g.cx,e+=g.charge*g.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=Math.random()-0.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,h+=b*a.point.x,e+=b*a.point.y);a.cx=h/a.charge;a.cy=e/a.charge}function Cc(a,b){s.rebind(a,b,"sort","children","value");a.nodes=a;a.links=Qf;return a}function Rf(a){return a.children}function Sf(a){return a.value}function Tf(a,b){return b.value-a.value}function Qf(a){return s.merge(a.map(function(a){return(a.children||
[]).map(function(b){return{source:a,target:b}})}))}function Uf(a){return a.x}function Vf(a){return a.y}function Wf(a,b,c){a.y0=b;a.y=c}function Ud(a){return s.range(a.length)}function Vd(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function Xf(a){for(var b=1,c=0,h=a[0][1],e,l=a.length;b<l;++b)(e=a[b][1])>h&&(c=b,h=e);return c}function Yf(a){return a.reduce(Zf,0)}function Zf(a,b){return a+b[1]}function $f(a,b){return Fe(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Fe(a,b){for(var c=
-1,h=+a[0],e=(a[1]-h)/b,l=[];++c<=b;)l[c]=e*c+h;return l}function ag(a){return[s.min(a),s.max(a)]}function Ge(a,b){return a.parent==b.parent?1:2}function Wd(a){var b=a.children;return b&&b.length?b[0]:a._tree.thread}function Xd(a){var b=a.children,c;return b&&(c=b.length)?b[c-1]:a._tree.thread}function hd(a,b){var c=a.children;if(c&&(e=c.length))for(var h,e,l=-1;++l<e;)0<b(h=hd(c[l],b),a)&&(a=h);return a}function bg(a,b){return a.x-b.x}function cg(a,b){return b.x-a.x}function dg(a,b){return a.depth-
b.depth}function lb(a,b){function c(a,r){var h=a.children;if(h&&(n=h.length))for(var e,l=null,d=-1,n;++d<n;)e=h[d],c(e,l),l=e;b(a,r)}c(a,null)}function eg(a,b){return a.value-b.value}function Yd(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function He(a,b){a._pack_next=b;b._pack_prev=a}function Ie(a,b){var c=b.x-a.x,h=b.y-a.y,e=a.r+b.r;return 0.001<e*e-c*c-h*h}function Je(a){function b(a){h=Math.min(a.x-a.r,h);e=Math.max(a.x+a.r,e);l=Math.min(a.y-a.r,l);d=Math.max(a.y+
a.r,d)}if((c=a.children)&&(q=c.length)){var c,h=Infinity,e=-Infinity,l=Infinity,d=-Infinity,n,g,f,k,p,t,q;c.forEach(fg);n=c[0];n.x=-n.r;n.y=0;b(n);if(1<q&&(g=c[1],g.x=g.r,g.y=0,b(g),2<q))for(f=c[2],Ke(n,g,f),b(f),Yd(n,f),n._pack_prev=f,Yd(f,g),g=n._pack_next,k=3;k<q;k++){Ke(n,g,f=c[k]);var u=0,m=1,v=1;for(p=g._pack_next;p!==g;p=p._pack_next,m++)if(Ie(p,f)){u=1;break}if(1==u)for(t=n._pack_prev;t!==p._pack_prev&&!Ie(t,f);t=t._pack_prev,v++);u?(m<v||m==v&&g.r<n.r?He(n,g=p):He(n=t,g),k--):(Yd(n,f),g=
f,b(f))}n=(h+e)/2;g=(l+d)/2;for(k=p=0;k<q;k++)f=c[k],f.x-=n,f.y-=g,p=Math.max(p,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=p;c.forEach(gg)}}function fg(a){a._pack_next=a._pack_prev=a}function gg(a){delete a._pack_next;delete a._pack_prev}function Le(a,b,c,h){var e=a.children;a.x=b+=h*a.x;a.y=c+=h*a.y;a.r*=h;if(e){a=-1;for(var l=e.length;++a<l;)Le(e[a],b,c,h)}}function Ke(a,b,c){var h=a.r+c.r,e=b.x-a.x,l=b.y-a.y;if(h&&(e||l)){var d=b.r+c.r,n=e*e+l*l,d=d*d,h=h*h;b=0.5+(h-d)/(2*n);d=Math.sqrt(Math.max(0,2*
d*(h+n)-(h-=n)*h-d*d))/(2*n);c.x=a.x+b*e+d*l;c.y=a.y+b*l-d*e}else c.x=a.x+h,c.y=a.y}function hg(a){return 1+s.max(a,function(a){return a.y})}function ig(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Me(a){var b=a.children;return b&&b.length?Me(b[0]):a}function Ne(a){var b=a.children,c;return b&&(c=b.length)?Ne(b[c-1]):a}function Zd(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Oe(a,b){var c=a.x+b[3],h=a.y+b[0],e=a.dx-b[1]-b[3],l=a.dy-b[0]-b[2];0>e&&(c+=e/2,e=0);0>l&&(h+=l/
2,l=0);return{x:c,y:h,dx:e,dy:l}}function Oa(a){var b=a[0];a=a[a.length-1];return b<a?[b,a]:[a,b]}function id(a){return a.rangeExtent?a.rangeExtent():Oa(a.range())}function jg(a,b,c,h){var e=c(a[0],a[1]),l=h(b[0],b[1]);return function(a){return l(e(a))}}function jd(a,b){var c=0,h=a.length-1,e=a[c],l=a[h],d;l<e&&(d=c,c=h,h=d,d=e,e=l,l=d);if(b=b(l-e))a[c]=b.floor(e),a[h]=b.ceil(l);return a}function kg(a,b,c,h){var e=[],l=[],d=0,n=Math.min(a.length,b.length)-1;a[n]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());
for(;++d<=n;)e.push(c(a[d-1],a[d])),l.push(h(b[d-1],b[d]));return function(b){var c=s.bisect(a,b,1,n)-1;return l[c](e[c](b))}}function Pe(a,b,c,h){function e(){var g=2<Math.min(a.length,b.length)?kg:jg,f=h?Lf:Kf;d=g(a,b,f,c);n=g(b,a,f,$a);return l}function l(a){return d(a)}var d,n;l.invert=function(a){return n(a)};l.domain=function(b){if(!arguments.length)return a;a=b.map(Number);return e()};l.range=function(a){if(!arguments.length)return b;b=a;return e()};l.rangeRound=function(a){return l.range(a).interpolate(Ce)};
l.clamp=function(a){if(!arguments.length)return h;h=a;return e()};l.interpolate=function(a){if(!arguments.length)return c;c=a;return e()};l.ticks=function(b){return s.range.apply(s,kd(a,b))};l.tickFormat=function(b,c){return $d(a,b,c)};l.nice=function(){jd(a,Qe);return e()};l.copy=function(){return Pe(a,b,c,h)};return e()}function ae(a,b){return s.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Qe(a){return(a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1))&&{floor:function(b){return Math.floor(b/
a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function kd(a,b){var c=Oa(a),h=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(h/b)/Math.LN10)),h=b/h*e;0.15>=h?e*=10:0.35>=h?e*=5:0.75>=h&&(e*=2);c[0]=Math.ceil(c[0]/e)*e;c[1]=Math.floor(c[1]/e)*e+0.5*e;c[2]=e;return c}function $d(a,b,c){var h=-Math.floor(Math.log(kd(a,b)[2])/Math.LN10+0.01);return s.format(c?c.replace(Re,function(a,b,c,r,e,l,d,z,n,g){return[b,c,r,e,l,d,z,n||"."+(h-2*("%"===g)),g].join("")}):",."+h+"f")}function Se(a,b,c,h,e){function l(b){return a(c(b))}
function d(){return c===be?{floor:n,ceil:g}:{floor:function(a){return-g(-a)},ceil:function(a){return-n(-a)}}}function n(a){return Math.pow(b,Math.floor(Math.log(a)/Math.log(b)))}function g(a){return Math.pow(b,Math.ceil(Math.log(a)/Math.log(b)))}l.invert=function(b){return h(a.invert(b))};l.domain=function(b){if(!arguments.length)return e;0>b[0]?(c=ce,h=lg):(c=be,h=Te);a.domain((e=b.map(Number)).map(c));return l};l.base=function(a){if(!arguments.length)return b;b=+a;return l};l.nice=function(){a.domain(jd(e,
d).map(c));return l};l.ticks=function(){var e=Oa(a.domain()),l=[];if(e.every(isFinite)){var d=Math.log(b),n=Math.floor(e[0]/d),d=Math.ceil(e[1]/d),g=h(e[0]),e=h(e[1]),f=b%1?2:b;if(c===ce)for(l.push(-Math.pow(b,-n));n++<d;)for(var k=f-1;0<k;k--)l.push(-Math.pow(b,-n)*k);else{for(;n<d;n++)for(k=1;k<f;k++)l.push(Math.pow(b,n)*k);l.push(Math.pow(b,n))}for(n=0;l[n]<g;n++);for(d=l.length;l[d-1]>e;d--);l=l.slice(n,d)}return l};l.tickFormat=function(a,r){2>arguments.length&&(r=mg);if(!arguments.length)return r;
var e=Math.log(b),d=Math.max(0.1,a/l.ticks().length),n=c===ce?(g=-1E-12,Math.floor):(g=1E-12,Math.ceil),g;return function(a){return a/h(e*n(c(a)/e+g))<=d?r(a):""}};l.copy=function(){return Se(a.copy(),b,c,h,e)};return ae(l,a)}function be(a){return Math.log(0>a?0:a)}function Te(a){return Math.exp(a)}function ce(a){return-Math.log(0<a?0:-a)}function lg(a){return-Math.exp(-a)}function Ue(a,b,c){function h(b){return a(e(b))}var e=ld(b),l=ld(1/b);h.invert=function(b){return l(a.invert(b))};h.domain=function(b){if(!arguments.length)return c;
a.domain((c=b.map(Number)).map(e));return h};h.ticks=function(a){return s.range.apply(s,kd(c,a))};h.tickFormat=function(a,b){return $d(c,a,b)};h.nice=function(){return h.domain(jd(c,Qe))};h.exponent=function(d){if(!arguments.length)return b;e=ld(b=d);l=ld(1/b);a.domain(c.map(e));return h};h.copy=function(){return Ue(a.copy(),b,c)};return ae(h,a)}function ld(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function Ve(a,b){function c(b){return l[((e.get(b)||e.set(b,a.push(b)))-1)%l.length]}
function h(b,c){return s.range(a.length).map(function(a){return b+c*a})}var e,l,d;c.domain=function(h){if(!arguments.length)return a;a=[];e=new k;for(var l=-1,d=h.length,n;++l<d;)e.has(n=h[l])||e.set(n,a.push(n));return c[b.t].apply(c,b.a)};c.range=function(a){if(!arguments.length)return l;l=a;d=0;b={t:"range",a:arguments};return c};c.rangePoints=function(e,n){2>arguments.length&&(n=0);var g=e[0],f=e[1],k=(f-g)/(Math.max(1,a.length-1)+n);l=h(2>a.length?(g+f)/2:g+k*n/2,k);d=0;b={t:"rangePoints",a:arguments};
return c};c.rangeBands=function(e,n,g){2>arguments.length&&(n=0);3>arguments.length&&(g=n);var f=e[1]<e[0],k=e[f-0],p=(e[1-f]-k)/(a.length-n+2*g);l=h(k+p*g,p);f&&l.reverse();d=p*(1-n);b={t:"rangeBands",a:arguments};return c};c.rangeRoundBands=function(e,n,g){2>arguments.length&&(n=0);3>arguments.length&&(g=n);var f=e[1]<e[0],k=e[f-0],p=e[1-f],t=Math.floor((p-k)/(a.length-n+2*g));l=h(k+Math.round((p-k-(a.length-n)*t)/2),t);f&&l.reverse();d=Math.round(t*(1-n));b={t:"rangeRoundBands",a:arguments};return c};
c.rangeBand=function(){return d};c.rangeExtent=function(){return Oa(b.a[0])};c.copy=function(){return Ve(a,b)};return c.domain(a)}function We(a,b){function c(){var l=0,d=b.length;for(e=[];++l<d;)e[l-1]=s.quantile(a,l/d);return h}function h(a){return isNaN(a=+a)?NaN:b[s.bisect(e,a)]}var e;h.domain=function(b){if(!arguments.length)return a;a=b.filter(function(a){return!isNaN(a)}).sort(s.ascending);return c()};h.range=function(a){if(!arguments.length)return b;b=a;return c()};h.quantiles=function(){return e};
h.copy=function(){return We(a,b)};return c()}function fb(a,b,c){function h(b){return c[Math.max(0,Math.min(d,Math.floor(l*(b-a))))]}function e(){l=c.length/(b-a);d=c.length-1;return h}var l,d;h.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];b=+c[c.length-1];return e()};h.range=function(a){if(!arguments.length)return c;c=a;return e()};h.copy=function(){return fb(a,b,c)};return e()}function gb(a,b){function c(h){return b[s.bisect(a,h)]}c.domain=function(b){if(!arguments.length)return a;
a=b;return c};c.range=function(a){if(!arguments.length)return b;b=a;return c};c.copy=function(){return gb(a,b)};return c}function Xe(a){function b(a){return+a}b.invert=b;b.domain=b.range=function(c){if(!arguments.length)return a;a=c.map(b);return b};b.ticks=function(b){return s.range.apply(s,kd(a,b))};b.tickFormat=function(b,c){return $d(a,b,c)};b.copy=function(){return Xe(a)};return b}function Pa(a){return a.innerRadius}function ng(a){return a.outerRadius}function Ye(a){return a.startAngle}function Ze(a){return a.endAngle}
function $e(a){for(var b,c=-1,h=a.length,e,l;++c<h;)b=a[c],e=b[0],l=b[1]+Mb,b[0]=e*Math.cos(l),b[1]=e*Math.sin(l);return a}function af(a){function b(g){function z(){t.push("M",n(a(u),p),k,f(a(q.reverse()),p),"Z")}for(var t=[],q=[],u=[],m=-1,v=g.length,E,D=S(c),s=S(e),x=c===h?function(){return A}:S(h),C=e===l?function(){return aa}:S(l),A,aa;++m<v;)d.call(this,E=g[m],m)?(q.push([A=+D.call(this,E,m),aa=+s.call(this,E,m)]),u.push([+x.call(this,E,m),+C.call(this,E,m)])):q.length&&(z(),q=[],u=[]);q.length&&
z();return t.length?t.join(""):null}var c=qa,h=qa,e=0,l=Wa,d=Ia,n=ha,g=n.key,f=n,k="L",p=0.7;b.x=function(a){if(!arguments.length)return h;c=h=a;return b};b.x0=function(a){if(!arguments.length)return c;c=a;return b};b.x1=function(a){if(!arguments.length)return h;h=a;return b};b.y=function(a){if(!arguments.length)return l;e=l=a;return b};b.y0=function(a){if(!arguments.length)return e;e=a;return b};b.y1=function(a){if(!arguments.length)return l;l=a;return b};b.defined=function(a){if(!arguments.length)return d;
d=a;return b};b.interpolate=function(a){if(!arguments.length)return g;g="function"===typeof a?n=a:(n=Rd.get(a)||ha).key;f=n.reverse||n;k=n.closed?"M":"L";return b};b.tension=function(a){if(!arguments.length)return p;p=a;return b};return b}function og(a){return a.radius}function bf(a){return[a.x,a.y]}function pg(a){return function(){var b=a.apply(this,arguments),c=b[0],b=b[1]+Mb;return[c*Math.cos(b),c*Math.sin(b)]}}function qg(){return 64}function rg(){return"circle"}function cf(a){a=Math.sqrt(a/G);
return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function Dc(a,b){Fd(a,ra);a.id=b;return a}function de(a,b,c,h){var e=a.id;return ja(a,"function"===typeof c?function(a,r,l){a.__transition__[e].tween.set(b,h(c.call(a,a.__data__,r,l)))}:(c=h(c),function(a){a.__transition__[e].tween.set(b,c)}))}function sg(a){null==a&&(a="");return function(){this.textContent=a}}function md(a,b,c,h){var e=a.__transition__||(a.__transition__={active:0,count:0}),l=e[c];if(!l){var d=h.time,l=e[c]=
{tween:new k,event:s.dispatch("start","end"),time:d,ease:h.ease,delay:h.delay,duration:h.duration};++e.count;s.timer(function(h){function n(h){if(e.active>c)return f();e.active=c;t.start.call(a,k,b);l.tween.forEach(function(c,h){(h=h.call(a,k,b))&&u.push(h)});g(h)||s.timer(g,0,d);return 1}function g(h){if(e.active!==c)return f();h=(h-ia)/q;for(var l=p(h),d=u.length;0<d;)u[--d].call(a,l);if(1<=h)return f(),t.end.call(a,k,b),1}function f(){--e.count?delete e[c]:delete a.__transition__;return 1}var k=
a.__data__,p=l.ease,t=l.event,ia=l.delay,q=l.duration,u=[];return ia<=h?n(h):s.timer(n,ia,d),1},0,d);return l}}function df(a,b){a.attr("transform",function(a){return"translate("+b(a)+",0)"})}function ef(a,b){a.attr("transform",function(a){return"translate(0,"+b(a)+")"})}function tg(a,b,c){h=[];if(c&&1<b.length){a=Oa(a.domain());for(var h,e=-1,l=b.length,d=(b[1]-b[0])/++c,n,g;++e<l;)for(n=c;0<--n;)(g=+b[e]-n*d)>=a[0]&&h.push(g);--e;for(n=0;++n<c&&(g=+b[e]+n*d)<a[1];)h.push(g)}return h}function Nb(){this._=
new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Ob(a,b,c){function h(b){var c=a(b),e=l(c,1);return b-c<e-b?c:e}function e(c){b(c=a(new Fa(c-1)),1);return c}function l(a,c){b(a=new Fa(+a),c);return a}function d(a,h,r){a=e(a);var l=[];if(1<r)for(;a<h;)c(a)%r||l.push(new Date(+a)),b(a,1);else for(;a<h;)l.push(new Date(+a)),b(a,1);return l}a.floor=a;a.round=h;a.ceil=e;a.offset=l;a.range=d;var n=a.utc=nd(a);n.floor=n;n.round=nd(h);n.ceil=nd(e);n.offset=nd(l);n.range=function(a,
b,c){try{Fa=Nb;var h=new Nb;h._=a;return d(h,b,c)}finally{Fa=Date}};return a}function nd(a){return function(b,c){try{Fa=Nb;var h=new Nb;h._=b;return a(h,c)._}finally{Fa=Date}}}function od(a,b,c,h){for(var e,l=0,d=b.length,n=c.length;l<d;){if(h>=n)return-1;e=b.charCodeAt(l++);if(37===e){if(e=ug[b.charAt(l++)],!e||0>(h=e(a,c,h)))return-1}else if(e!=c.charCodeAt(h++))return-1}return h}function pd(a){return RegExp("^(?:"+a.map(s.requote).join("|")+")","i")}function ff(a){for(var b=new k,c=-1,h=a.length;++c<
h;)b.set(a[c].toLowerCase(),c);return b}function Qa(a,b,c){a+="";var h=a.length;return h<c?Array(c-h+1).join(b)+a:a}function gf(a,b,c){Ga.lastIndex=0;return(b=Ga.exec(b.substring(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function hf(a,b,c){Ga.lastIndex=0;return(b=Ga.exec(b.substring(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function ee(a){return a.toISOString()}function fe(a,b,c){function h(b){return a(b)}h.invert=function(b){return ge(a.invert(b))};h.domain=function(b){if(!arguments.length)return a.domain().map(ge);
a.domain(b);return h};h.nice=function(a){return h.domain(jd(h.domain(),function(){return a}))};h.ticks=function(c,e){var l=Oa(h.domain());if("function"!==typeof c){var d=(l[1]-l[0])/c,n=s.bisect(qd,d);if(n==qd.length)return b.year(l,c);if(!n)return a.ticks(c).map(ge);Math.log(d/qd[n-1])<Math.log(qd[n]/d)&&--n;c=b[n];e=c[1];c=c[0].range}return c(l[0],new Date(+l[1]+1),e)};h.tickFormat=function(){return c};h.copy=function(){return fe(a.copy(),b,c)};return ae(h,a)}function ge(a){return new Date(a)}function jf(a){return function(b){for(var c=
a.length-1,h=a[c];!h[1](b);)h=a[--c];return h[0](b)}}function he(a){var b=new Date(a,0,1);b.setFullYear(a);return b}function vg(a){var b=a.getFullYear(),c=he(b),h=he(b+1);return b+(a-c)/(h-c)}function ie(a){var b=new Date(Date.UTC(a,0,1));b.setUTCFullYear(a);return b}function wg(a){var b=a.getUTCFullYear(),c=ie(b),h=ie(b+1);return b+(a-c)/(h-c)}function xg(a){return JSON.parse(a.responseText)}function yg(a){var b=za.createRange();b.selectNode(za.body);return b.createContextualFragment(a.responseText)}
var s={version:"3.1.10"};Date.now||(Date.now=function(){return+new Date});var za=document,xa=window;try{za.createElement("div").style.setProperty("opacity",0,"")}catch(ch){var kf=xa.CSSStyleDeclaration.prototype,zg=kf.setProperty;kf.setProperty=function(a,b,c){zg.call(this,a,b+"",c)}}s.ascending=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN};s.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};s.min=function(a,b){var c=-1,h=a.length,e,l;if(1===arguments.length){for(;++c<h&&(null==(e=a[c])||e!=
e);)e=void 0;for(;++c<h;)null!=(l=a[c])&&e>l&&(e=l)}else{for(;++c<h&&(null==(e=b.call(a,a[c],c))||e!=e);)e=void 0;for(;++c<h;)null!=(l=b.call(a,a[c],c))&&e>l&&(e=l)}return e};s.max=function(a,b){var c=-1,h=a.length,e,l;if(1===arguments.length){for(;++c<h&&(null==(e=a[c])||e!=e);)e=void 0;for(;++c<h;)null!=(l=a[c])&&l>e&&(e=l)}else{for(;++c<h&&(null==(e=b.call(a,a[c],c))||e!=e);)e=void 0;for(;++c<h;)null!=(l=b.call(a,a[c],c))&&l>e&&(e=l)}return e};s.extent=function(a,b){var c=-1,h=a.length,e,l,d;if(1===
arguments.length){for(;++c<h&&(null==(e=d=a[c])||e!=e);)e=d=void 0;for(;++c<h;)null!=(l=a[c])&&(e>l&&(e=l),d<l&&(d=l))}else{for(;++c<h&&(null==(e=d=b.call(a,a[c],c))||e!=e);)e=void 0;for(;++c<h;)null!=(l=b.call(a,a[c],c))&&(e>l&&(e=l),d<l&&(d=l))}return[e,d]};s.sum=function(a,b){var c=0,h=a.length,e,l=-1;if(1===arguments.length)for(;++l<h;)isNaN(e=+a[l])||(c+=e);else for(;++l<h;)isNaN(e=+b.call(a,a[l],l))||(c+=e);return c};s.mean=function(a,b){var c=a.length,h,e=0,l=-1,n=0;if(1===arguments.length)for(;++l<
c;)d(h=a[l])&&(e+=(h-e)/++n);else for(;++l<c;)d(h=b.call(a,a[l],l))&&(e+=(h-e)/++n);return n?e:void 0};s.quantile=function(a,b){var c=(a.length-1)*b+1,h=Math.floor(c),e=+a[h-1];return(c-=h)?e+c*(a[h]-e):e};s.median=function(a,b){1<arguments.length&&(a=a.map(b));a=a.filter(d);return a.length?s.quantile(a.sort(s.ascending),0.5):void 0};s.bisector=function(a){return{left:function(b,c,h,e){3>arguments.length&&(h=0);4>arguments.length&&(e=b.length);for(;h<e;){var l=h+e>>>1;a.call(b,b[l],l)<c?h=l+1:e=l}return h},
right:function(b,c,h,e){3>arguments.length&&(h=0);4>arguments.length&&(e=b.length);for(;h<e;){var l=h+e>>>1;c<a.call(b,b[l],l)?e=l:h=l+1}return h}}};var lf=s.bisector(function(a){return a});s.bisectLeft=lf.left;s.bisect=s.bisectRight=lf.right;s.shuffle=function(a){for(var b=a.length,c,h;b;)h=Math.random()*b--|0,c=a[b],a[b]=a[h],a[h]=c;return a};s.permute=function(a,b){for(var c=[],h=-1,e=b.length;++h<e;)c[h]=a[b[h]];return c};s.zip=function(){if(!(e=arguments.length))return[];for(var a=-1,b=s.min(arguments,
f),c=Array(b);++a<b;)for(var h=-1,e,l=c[a]=Array(e);++h<e;)l[h]=arguments[h][a];return c};s.transpose=function(a){return s.zip.apply(s,a)};s.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};s.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};s.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};s.merge=function(a){return Array.prototype.concat.apply([],a)};s.range=function(a,b,c){3>arguments.length&&(c=1,2>arguments.length&&(b=a,a=0));if(Infinity===
(b-a)/c)throw Error("infinite range");var h=[],e;e=Math.abs(c);for(var l=1;e*l%1;)l*=10;e=l;var l=-1,d;a*=e;b*=e;c*=e;if(0>c)for(;(d=a+c*++l)>b;)h.push(d/e);else for(;(d=a+c*++l)<b;)h.push(d/e);return h};s.map=function(a){var b=new k,c;for(c in a)b.set(c,a[c]);return b};m(k,{has:function(a){return tb+a in this},get:function(a){return this[tb+a]},set:function(a,b){return this[tb+a]=b},remove:function(a){a=tb+a;return a in this&&delete this[a]},keys:function(){var a=[];this.forEach(function(b){a.push(b)});
return a},values:function(){var a=[];this.forEach(function(b,c){a.push(c)});return a},entries:function(){var a=[];this.forEach(function(b,c){a.push({key:b,value:c})});return a},forEach:function(a){for(var b in this)b.charCodeAt(0)===mf&&a.call(this,b.substring(1),this[b])}});var tb="\x00",mf=tb.charCodeAt(0);s.nest=function(){function a(b,e,n){if(n>=h.length)return d?d.call(c,e):l?e.sort(l):e;for(var g=-1,f=e.length,z=h[n++],p,t,q=new k,u;++g<f;)(u=q.get(p=z(t=e[g])))?u.push(t):q.set(p,[t]);b?(t=
b(),e=function(c,h){t.set(c,a(b,h,n))}):(t={},e=function(c,h){t[c]=a(b,h,n)});q.forEach(e);return t}function b(a,c){if(c>=h.length)return a;var r=[],l=e[c++];a.forEach(function(a,h){r.push({key:a,values:b(h,c)})});return l?r.sort(function(a,b){return l(a.key,b.key)}):r}var c={},h=[],e=[],l,d;c.map=function(b,c){return a(c,b,0)};c.entries=function(c){return b(a(s.map,c,0),0)};c.key=function(a){h.push(a);return c};c.sortKeys=function(a){e[h.length-1]=a;return c};c.sortValues=function(a){l=a;return c};
c.rollup=function(a){d=a;return c};return c};s.set=function(a){var b=new c;if(a)for(var h=0;h<a.length;h++)b.add(a[h]);return b};m(c,{has:function(a){return tb+a in this},add:function(a){this[tb+a]=!0;return a},remove:function(a){a=tb+a;return a in this&&delete this[a]},values:function(){var a=[];this.forEach(function(b){a.push(b)});return a},forEach:function(a){for(var b in this)b.charCodeAt(0)===mf&&a.call(this,b.substring(1))}});s.behavior={};s.rebind=function(a,b){for(var c=1,h=arguments.length,
e;++c<h;)a[e=arguments[c]]=y(a,b,b[e]);return a};s.dispatch=function(){for(var c=new a,h=-1,e=arguments.length;++h<e;)c[arguments[h]]=b(c);return c};a.prototype.on=function(a,b){var c=a.indexOf("."),h="";0<=c&&(h=a.substring(c+1),a=a.substring(0,c));if(a)return 2>arguments.length?this[a].on(h):this[a].on(h,b);if(2===arguments.length){if(null==b)for(a in this)if(this.hasOwnProperty(a))this[a].on(h,null);return this}};s.event=null;s.mouse=function(a){return B(a,p())};var Ed=/WebKit/.test(xa.navigator.userAgent)?
-1:0,nb=function(a){return Array.prototype.slice.call(a)};try{nb(za.documentElement.childNodes)[0].nodeType}catch(dh){nb=N}var Fd=[].__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]};s.touches=function(a,b){2>arguments.length&&(b=p().touches);return b?nb(b).map(function(b){var c=B(a,b);c.identifier=b.identifier;return c}):[]};s.behavior.drag=function(){function a(){this.on("mousedown.drag",b).on("touchstart.drag",b)}function b(){function a(){var b=l.parentNode;return null!=
g?s.touches(b).filter(function(a){return a.identifier===g})[0]:s.mouse(b)}function r(){d({type:"dragend"});k&&(e(),s.event.target===n&&q(p,"click"));p.on(null!=g?"touchmove.drag-"+g:"mousemove.drag",null).on(null!=g?"touchend.drag-"+g:"mouseup.drag",null)}var l=this,d=c.of(l,arguments),n=s.event.target,g=s.event.touches?s.event.changedTouches[0].identifier:null,f,z=a(),k=0,p=s.select(xa).on(null!=g?"touchmove.drag-"+g:"mousemove.drag",function(){if(!l.parentNode)return r();var b=a(),c=b[0]-z[0],h=
b[1]-z[1];k=k|c|h;z=b;e();d({type:"drag",x:b[0]+f[0],y:b[1]+f[1],dx:c,dy:h})}).on(null!=g?"touchend.drag-"+g:"mouseup.drag",r,!0);h?(f=h.apply(l,arguments),f=[f.x-z[0],f.y-z[1]]):f=[0,0];null==g&&e();d({type:"dragstart"})}var c=K(a,"drag","dragstart","dragend"),h=null;a.origin=function(b){if(!arguments.length)return h;h=b;return a};return s.rebind(a,c,"on")};var Gd=function(a,b){return b.querySelector(a)},Hd=function(a,b){return b.querySelectorAll(a)},ub=za.documentElement,Ag=ub.matchesSelector||
ub.webkitMatchesSelector||ub.mozMatchesSelector||ub.msMatchesSelector||ub.oMatchesSelector,se=function(a,b){return Ag.call(a,b)};"function"===typeof Sizzle&&(Gd=function(a,b){return Sizzle(a,b)[0]||null},Hd=function(a,b){return Sizzle.uniqueSort(Sizzle(a,b))},se=Sizzle.matchesSelector);s.selection=function(){return nf};var ba=s.selection.prototype=[];ba.select=function(a){var b=[],c,h,e,l;"function"!==typeof a&&(a=v(a));for(var d=-1,n=this.length;++d<n;){b.push(c=[]);c.parentNode=(e=this[d]).parentNode;
for(var g=-1,f=e.length;++g<f;)(l=e[g])?(c.push(h=a.call(l,l.__data__,g)),h&&"__data__"in l&&(h.__data__=l.__data__)):c.push(null)}return F(b)};ba.selectAll=function(a){var b=[],c,h;"function"!==typeof a&&(a=M(a));for(var e=-1,l=this.length;++e<l;)for(var d=this[e],n=-1,g=d.length;++n<g;)if(h=d[n])b.push(c=nb(a.call(h,h.__data__,n))),c.parentNode=h;return F(b)};var je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",
xmlns:"http://www.w3.org/2000/xmlns/"};s.ns={prefix:je,qualify:function(a){var b=a.indexOf(":"),c=a;0<=b&&(c=a.substring(0,b),a=a.substring(b+1));return je.hasOwnProperty(c)?{space:je[c],local:a}:a}};ba.attr=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node();a=s.ns.qualify(a);return a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(I(b,a[b]));return this}return this.each(I(a,b))};s.requote=function(a){return a.replace(Bg,"\\$&")};var Bg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;
ba.classed=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node(),h=(a=a.trim().split(/^|\s+/g)).length,e=-1;if(b=c.classList)for(;++e<h;){if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<h;)if(!R(a[e]).test(b))return!1;return!0}for(b in a)this.each(H(b,a[b]));return this}return this.each(H(a,b))};ba.style=function(a,b,c){var h=arguments.length;if(3>h){if("string"!==typeof a){2>h&&(b="");for(c in a)this.each(W(c,a[c],b));return this}if(2>h)return xa.getComputedStyle(this.node(),
null).getPropertyValue(a);c=""}return this.each(W(a,b,c))};ba.property=function(a,b){if(2>arguments.length){if("string"===typeof a)return this.node()[a];for(b in a)this.each(Aa(b,a[b]));return this}return this.each(Aa(a,b))};ba.text=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};ba.html=function(a){return arguments.length?
this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};ba.append=function(a){function b(){return this.appendChild(za.createElementNS(this.namespaceURI,a))}function c(){return this.appendChild(za.createElementNS(a.space,a.local))}a=s.ns.qualify(a);return this.select(a.local?c:b)};ba.insert=function(a,b){function c(h,e){return this.insertBefore(za.createElementNS(this.namespaceURI,
a),b.call(this,h,e))}function h(c,e){return this.insertBefore(za.createElementNS(a.space,a.local),b.call(this,c,e))}a=s.ns.qualify(a);"function"!==typeof b&&(b=v(b));return this.select(a.local?h:c)};ba.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})};ba.data=function(a,b){function c(a,h){var e,l=a.length,r=h.length,d=Math.min(l,r),p=Array(r),t=Array(r),P=Array(l),q,u;if(b){var d=new k,m=new k,v=[],E;for(e=-1;++e<l;)E=b.call(q=a[e],q.__data__,e),d.has(E)?
P[e]=q:d.set(E,q),v.push(E);for(e=-1;++e<r;)E=b.call(h,u=h[e],e),(q=d.get(E))?(p[e]=q,q.__data__=u):m.has(E)||(t[e]={__data__:u}),m.set(E,u),d.remove(E);for(e=-1;++e<l;)d.has(v[e])&&(P[e]=a[e])}else{for(e=-1;++e<d;)q=a[e],u=h[e],q?(q.__data__=u,p[e]=q):t[e]={__data__:u};for(;e<r;++e)t[e]={__data__:h[e]};for(;e<l;++e)P[e]=a[e]}t.update=p;t.parentNode=p.parentNode=P.parentNode=a.parentNode;n.push(t);g.push(p);f.push(P)}var h=-1,e=this.length,l,d;if(!arguments.length){for(a=Array(e=(l=this[0]).length);++h<
e;)if(d=l[h])a[h]=d.__data__;return a}var n=Y([]),g=F([]),f=F([]);if("function"===typeof a)for(;++h<e;)c(l=this[h],a.call(l,l.parentNode.__data__,h));else for(;++h<e;)c(l=this[h],a);g.enter=function(){return n};g.exit=function(){return f};return g};ba.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};ba.filter=function(a){var b=[],c,h,e;"function"!==typeof a&&(a=ea(a));for(var l=0,d=this.length;l<d;l++){b.push(c=[]);c.parentNode=(h=this[l]).parentNode;
for(var n=0,g=h.length;n<g;n++)(e=h[n])&&a.call(e,e.__data__,n)&&c.push(e)}return F(b)};ba.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],h=c.length-1,e=c[h],l;0<=--h;)if(l=c[h])e&&e!==l.nextSibling&&e.parentNode.insertBefore(l,e),e=l;return this};ba.sort=function(a){a=ca.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};ba.on=function(a,b,c){var h=arguments.length;if(3>h){if("string"!==typeof a){2>h&&(b=!1);for(c in a)this.each(Ta(c,
a[c],b));return this}if(2>h)return(h=this.node()["__on"+a])&&h._;c=!1}return this.each(Ta(a,b,c))};var Id=s.map({mouseenter:"mouseover",mouseleave:"mouseout"});Id.forEach(function(a){"on"+a in za&&Id.remove(a)});ba.each=function(a){return ja(this,function(b,c,h){a.call(b,b.__data__,c,h)})};ba.call=function(a){var b=nb(arguments);a.apply(b[0]=this,b);return this};ba.empty=function(){return!this.node()};ba.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],h=0,e=c.length;h<e;h++){var l=
c[h];if(l)return l}return null};var wb=[];s.selection.enter=Y;s.selection.enter.prototype=wb;wb.append=ba.append;wb.insert=ba.insert;wb.empty=ba.empty;wb.node=ba.node;wb.select=function(a){for(var b=[],c,h,e,l,d,n=-1,g=this.length;++n<g;){e=(l=this[n]).update;b.push(c=[]);c.parentNode=l.parentNode;for(var f=-1,k=l.length;++f<k;)(d=l[f])?(c.push(e[f]=h=a.call(l.parentNode,d.__data__,f)),h.__data__=d.__data__):c.push(null)}return F(b)};ba.transition=function(){var a=Ec||++of,b=[],c,h,e=Object.create(rd);
e.time=Date.now();for(var l=-1,d=this.length;++l<d;){b.push(c=[]);for(var n=this[l],g=-1,f=n.length;++g<f;)(h=n[g])&&md(h,g,a,e),c.push(h)}return Dc(b,a)};s.select=function(a){a=["string"===typeof a?Gd(a,za):a];a.parentNode=ub;return F([a])};s.selectAll=function(a){a=nb("string"===typeof a?Hd(a,za):a);a.parentNode=ub;return F([a])};var nf=s.select(ub);s.behavior.zoom=function(){function a(){this.on("mousedown.zoom",n).on("mousemove.zoom",f).on(Cg+".zoom",g).on("dblclick.zoom",k).on("touchstart.zoom",
p).on("touchmove.zoom",t).on("touchend.zoom",p)}function b(a){return[(a[0]-u[0])/v,(a[1]-u[1])/v]}function c(a){v=Math.max(D[0],Math.min(D[1],a))}function h(a,b){b=[b[0]*v+u[0],b[1]*v+u[1]];u[0]+=a[0]-b[0];u[1]+=a[1]-b[1]}function l(){A&&A.domain(C.range().map(function(a){return(a-u[0])/v}).map(C.invert));y&&y.domain(aa.range().map(function(a){return(a-u[1])/v}).map(aa.invert))}function d(a){l();s.event.preventDefault();a({type:"zoom",scale:v,translate:u})}function n(){var a=this,c=x.of(a,arguments),
l=s.event.target,r=0,g=s.select(xa).on("mousemove.zoom",function(){r=1;h(s.mouse(a),f);d(c)}).on("mouseup.zoom",function(){r&&e();g.on("mousemove.zoom",null).on("mouseup.zoom",null);r&&s.event.target===l&&q(g,"click.zoom")}),f=b(s.mouse(a));xa.focus();e()}function g(){m||(m=b(s.mouse(this)));c(Math.pow(2,0.002*sd())*v);h(s.mouse(this),m);d(x.of(this,arguments))}function f(){m=null}function k(){var a=s.mouse(this),e=b(a),l=Math.log(v)/Math.LN2;c(Math.pow(2,s.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+
1));h(a,e);d(x.of(this,arguments))}function p(){var a=s.touches(this),l=Date.now();E=v;m={};a.forEach(function(a){m[a.identifier]=b(a)});e();if(1===a.length){if(500>l-w){var r=a[0],a=b(a[0]);c(2*v);h(r,a);d(x.of(this,arguments))}w=l}}function t(){var a=s.touches(this),b=a[0],e=m[b.identifier];if(a=a[1]){var l=m[a.identifier],b=[(b[0]+a[0])/2,(b[1]+a[1])/2],e=[(e[0]+l[0])/2,(e[1]+l[1])/2];c(s.event.scale*E)}h(b,e);w=null;d(x.of(this,arguments))}var u=[0,0],m,v=1,E,D=pf,x=K(a,"zoom"),C,A,aa,y,w;a.translate=
function(b){if(!arguments.length)return u;u=b.map(Number);l();return a};a.scale=function(b){if(!arguments.length)return v;v=+b;l();return a};a.scaleExtent=function(b){if(!arguments.length)return D;D=null==b?pf:b.map(Number);return a};a.x=function(b){if(!arguments.length)return A;A=b;C=b.copy();u=[0,0];v=1;return a};a.y=function(b){if(!arguments.length)return y;y=b;aa=b.copy();u=[0,0];v=1;return a};return s.rebind(a,x,"on")};var pf=[0,Infinity],sd,Cg="onwheel"in za?(sd=function(){return-s.event.deltaY*
(s.event.deltaMode?120:1)},"wheel"):"onmousewheel"in za?(sd=function(){return s.event.wheelDelta},"mousewheel"):(sd=function(){return-s.event.detail},"MozMousePixelScroll");x.prototype.toString=function(){return this.rgb()+""};s.hsl=function(a,b,c){return 1===arguments.length?a instanceof T?X(a.h,a.s,a.l):Qb(""+a,Rb,X):X(+a,+b,+c)};var ke=T.prototype=new x;ke.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);return X(this.h,this.s,this.l/a)};ke.darker=function(a){a=Math.pow(0.7,arguments.length?
a:1);return X(this.h,this.s,a*this.l)};ke.rgb=function(){return u(this.h,this.s,this.l)};var G=Math.PI,O=1E-6,Q=G/180,da=180/G;s.hcl=function(a,b,c){return 1===arguments.length?a instanceof Da?Z(a.h,a.c,a.l):a instanceof pa?Pb(a.l,a.a,a.b):Pb((a=Xa((a=s.rgb(a)).r,a.g,a.b)).l,a.a,a.b):Z(+a,+b,+c)};var le=Da.prototype=new x;le.brighter=function(a){return Z(this.h,this.c,Math.min(100,this.l+td*(arguments.length?a:1)))};le.darker=function(a){return Z(this.h,this.c,Math.max(0,this.l-td*(arguments.length?
a:1)))};le.rgb=function(){return ib(this.h,this.c,this.l).rgb()};s.lab=function(a,b,c){return 1===arguments.length?a instanceof pa?ta(a.l,a.a,a.b):a instanceof Da?ib(a.l,a.c,a.h):Xa((a=s.rgb(a)).r,a.g,a.b):ta(+a,+b,+c)};var td=18,te=0.95047,ue=1,ve=1.08883,me=pa.prototype=new x;me.brighter=function(a){return ta(Math.min(100,this.l+td*(arguments.length?a:1)),this.a,this.b)};me.darker=function(a){return ta(Math.max(0,this.l-td*(arguments.length?a:1)),this.a,this.b)};me.rgb=function(){return fa(this.l,
this.a,this.b)};s.rgb=function(a,b,c){return 1===arguments.length?a instanceof Sa?Ra(a.r,a.g,a.b):Qb(""+a,Ra,u):Ra(~~a,~~b,~~c)};var ud=Sa.prototype=new x;ud.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);var b=this.r,c=this.g,h=this.b;if(!b&&!c&&!h)return Ra(30,30,30);b&&30>b&&(b=30);c&&30>c&&(c=30);h&&30>h&&(h=30);return Ra(Math.min(255,Math.floor(b/a)),Math.min(255,Math.floor(c/a)),Math.min(255,Math.floor(h/a)))};ud.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return Ra(Math.floor(a*
this.r),Math.floor(a*this.g),Math.floor(a*this.b))};ud.hsl=function(){return Rb(this.r,this.g,this.b)};ud.toString=function(){return"#"+ka(this.r)+ka(this.g)+ka(this.b)};var Fc=s.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",
cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",
deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",
lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",
mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",
powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",
yellow:"#ffff00",yellowgreen:"#9acd32"});Fc.forEach(function(a,b){Fc.set(a,Qb(b,Ra,u))});s.functor=S;s.xhr=g(la);s.csv=Gc(",","text/csv");s.tsv=Gc("\t","text/tab-separated-values");var Kc,Lc,Jc,Ic;s.timer=function(a,b,c){if(3>arguments.length){if(2>arguments.length)b=0;else if(!isFinite(b))return;c=Date.now()}var h={callback:a,time:c+b,next:null};Lc?Lc.next=h:Kc=h;Lc=h;Jc||(Ic=clearTimeout(Ic),Jc=1,we(fc))};s.timer.flush=function(){gc();Hc()};var we=xa.requestAnimationFrame||xa.webkitRequestAnimationFrame||
xa.mozRequestAnimationFrame||xa.oRequestAnimationFrame||xa.msRequestAnimationFrame||function(a){setTimeout(a,17)},vd=[3,3],Dg="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*Math.abs(8-b));return{scale:8<b?function(a){return a/c}:function(a){return a*c},symbol:a}});s.formatPrefix=function(a,b){var c=0;a&&(0>a&&(a*=-1),b&&(a=s.round(a,hc(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((0>=c?c+1:c-1)/3))));return Dg[8+
c/3]};s.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};s.format=function(a){a=Re.exec(a);var b=a[1]||" ",c=a[2]||">",h=a[3]||"",e=a[4]||"",l=a[5],d=+a[6],n=a[7],g=a[8],f=a[9],k=1,p="",t=!1;g&&(g=+g.substring(1));if(l||"0"===b&&"="===c)l=b="0",c="=",n&&(d-=Math.floor((d-1)/4));switch(f){case "n":n=!0;f="g";break;case "%":k=100;p="%";f="f";break;case "p":k=100;p="%";f="r";break;case "b":case "o":case "x":case "X":e&&(e="0"+f.toLowerCase());case "c":case "d":t=!0;g=0;
break;case "s":k=-1,f="r"}"#"===e&&(e="");"r"!=f||g||(f="g");if(null!=g)if("g"==f)g=Math.max(1,Math.min(21,g));else if("e"==f||"f"==f)g=Math.max(0,Math.min(20,g));var f=Eg.get(f)||Jd,q=l&&n;return function(a){if(t&&a%1)return"";var r=0>a||0===a&&0>1/a?(a=-a,"-"):h;if(0>k){var u=s.formatPrefix(a,g);a=u.scale(a);p=u.symbol}else a*=k;a=f(a,g);!l&&n&&(a=ne(a));var u=e.length+a.length+(q?0:r.length),m=u<d?Array(u=d-u+1).join(b):"";q&&(a=ne(m+a));a.replace(".",".");r+=e;return("<"===c?r+a+m:">"===c?m+r+
a:"^"===c?m.substring(0,u>>=1)+r+a+m.substring(u):r+(q?a:m+a))+p}};var Re=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Eg=s.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=
s.round(a,hc(a,b))).toFixed(Math.max(0,Math.min(20,hc(a*(1+1E-15),b))))}}),ne=la;if(vd)var Fg=vd.length,ne=function(a){for(var b=a.lastIndexOf("."),c=0<=b?"."+a.substring(b+1):(b=a.length,""),h=[],e=0,l=vd[0];0<b&&0<l;)h.push(a.substring(b-=l,b+l)),l=vd[e=(e+1)%Fg];return h.reverse().join(",")+c};s.geo={};s.geo.stream=function(a,b){if(a&&qf.hasOwnProperty(a.type))qf[a.type](a,b);else Tb(a,b)};var qf={Feature:function(a,b){Tb(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,h=-1,
e=c.length;++h<e;)Tb(c[h].geometry,b)}},xe={Sphere:function(a,b){b.sphere()},Point:function(a,b){var c=a.coordinates;b.point(c[0],c[1])},MultiPoint:function(a,b){for(var c=a.coordinates,h=-1,e=c.length,l;++h<e;)l=c[h],b.point(l[0],l[1])},LineString:function(a,b){ic(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,h=-1,e=c.length;++h<e;)ic(c[h],b,0)},Polygon:function(a,b){Mc(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,h=-1,e=c.length;++h<e;)Mc(c[h],
b)},GeometryCollection:function(a,b){for(var c=a.geometries,h=-1,e=c.length;++h<e;)Tb(c[h],b)}};s.geo.area=function(a){cc=0;s.geo.stream(a,Ua);return cc};var cc,jc,Ua={sphere:function(){cc+=4*G},point:U,lineStart:U,lineEnd:U,polygonStart:function(){jc=0;Ua.lineStart=Kd},polygonEnd:function(){var a=2*jc;cc+=0>a?4*G+a:a;Ua.lineStart=Ua.lineEnd=Ua.point=U}};s.geo.bounds=function(){function a(b,c){x.push(C=[k=b,t=b]);c<p&&(p=c);c>q&&(q=c)}function b(c,h){var e=ya([c*Q,h*Q]);if(E){var l=zb(E,e),l=zb([l[1],
-l[0],0],l);ab(l);var l=Ab(l),d=c-u,g=0<d?1:-1,f=l[0]*da*g,d=180<Math.abs(d);d^(g*u<f&&f<g*c)?(l=l[1]*da,l>q&&(q=l)):(f=(f+360)%360-180,d^(g*u<f&&f<g*c))?(l=-l[1]*da,l<p&&(p=l)):(h<p&&(p=h),h>q&&(q=h));d?c<u?n(k,c)>n(k,t)&&(t=c):n(c,t)>n(k,t)&&(k=c):t>=k?(c<k&&(k=c),c>t&&(t=c)):c>u?n(k,c)>n(k,t)&&(t=c):n(c,t)>n(k,t)&&(k=c)}else a(c,h);E=e;u=c}function c(){A.point=b}function h(){C[0]=k;C[1]=t;A.point=a;E=null}function e(a,c){if(E){var h=a-u;D+=180<Math.abs(h)?h+(0<h?360:-360):h}else m=a,v=c;Ua.point(a,
c);b(a,c)}function l(){Ua.lineStart()}function d(){e(m,v);Ua.lineEnd();Math.abs(D)>O&&(k=-(t=180));C[0]=k;C[1]=t;E=null}function n(a,b){return 0>(b-=a)?b+360:b}function g(a,b){return a[0]-b[0]}function f(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var k,p,t,q,u,m,v,E,D,x,C,A={point:a,lineStart:c,lineEnd:h,polygonStart:function(){A.point=e;A.lineStart=l;A.lineEnd=d;D=0;Ua.polygonStart()},polygonEnd:function(){Ua.polygonEnd();A.point=a;A.lineStart=c;A.lineEnd=h;0>jc?(k=-(t=180),p=-(q=90)):
D>O?q=90:D<-O&&(p=-90);C[0]=k;C[1]=t}};return function(a){q=t=-(k=p=Infinity);x=[];s.geo.stream(a,A);x.sort(g);a=1;for(var b=x.length,c=x[0],h,e=[c];a<b;++a)h=x[a],f(h[0],c)||f(h[1],c)?(n(c[0],h[1])>n(c[0],c[1])&&(c[1]=h[1]),n(h[0],c[1])>n(c[0],c[1])&&(c[0]=h[0])):e.push(c=h);var l=-Infinity,d,b=e.length-1;a=0;for(c=e[b];a<=b;c=h,++a)h=e[a],(d=n(c[1],h[0]))>l&&(l=d,k=h[0],t=c[1]);x=C=null;return[[k,p],[t,q]]}}();s.geo.centroid=function(a){va=bb=ma=na=ga=0;s.geo.stream(a,cb);var b;if(bb&&Math.abs(b=
Math.sqrt(ma*ma+na*na+ga*ga))>O)return[Math.atan2(na,ma)*da,Math.asin(Math.max(-1,Math.min(1,ga/b)))*da]};var va,bb,ma,na,ga,cb={sphere:function(){2>va&&(va=2,bb=ma=na=ga=0)},point:Nc,lineStart:lc,lineEnd:Bb,polygonStart:function(){2>va&&(va=2,bb=ma=na=ga=0);cb.lineStart=Ld},polygonEnd:function(){cb.lineStart=lc}},ye=Oc(Ia,function(a){var b=NaN,c=NaN,h=NaN,e;return{lineStart:function(){a.lineStart();e=1},point:function(l,d){var n=0<l?G:-G,g=Math.abs(l-b);if(Math.abs(g-G)<O)a.point(b,c=0<(c+d)/2?G/
2:-G/2),a.point(h,c),a.lineEnd(),a.lineStart(),a.point(n,c),a.point(l,c),e=0;else if(h!==n&&g>=G){Math.abs(b-h)<O&&(b-=h*O);Math.abs(l-n)<O&&(l-=n*O);var g=b,f=c,k=l,t,p,q=Math.sin(g-k);c=Math.abs(q)>O?Math.atan((Math.sin(f)*(p=Math.cos(d))*Math.sin(k)-Math.sin(d)*(t=Math.cos(f))*Math.sin(g))/(t*p*q)):(f+d)/2;a.point(h,c);a.lineEnd();a.lineStart();a.point(n,c);e=0}a.point(b=l,c=d);h=n},lineEnd:function(){a.lineEnd();b=c=NaN},clean:function(){return 2-e}}},function(a,b,c,h){null==a?(c=c*G/2,h.point(-G,
c),h.point(0,c),h.point(G,c),h.point(G,0),h.point(G,-c),h.point(0,-c),h.point(-G,-c),h.point(-G,0),h.point(-G,c)):Math.abs(a[0]-b[0])>O?(a=(a[0]<b[0]?1:-1)*G,c=c*a/2,h.point(-a,c),h.point(0,c),h.point(a,c)):h.point(b[0],b[1])}),Qc=1E9;s.geo.projection=Ea;s.geo.projectionMutator=Db;(s.geo.equirectangular=function(){return Ea(ob)}).raw=ob.invert=ob;s.geo.rotation=function(a){function b(c){c=a(c[0]*Q,c[1]*Q);return c[0]*=da,c[1]*=da,c}a=Xb(a[0]%360*Q,a[1]*Q,2<a.length?a[2]*Q:0);b.invert=function(b){b=
a.invert(b[0]*Q,b[1]*Q);return b[0]*=da,b[1]*=da,b};return b};s.geo.circle=function(){function a(){var c="function"===typeof b?b.apply(this,arguments):b,h=Xb(-c[0]*Q,-c[1]*Q,0).invert,l=[];e(null,null,1,{point:function(a,b){l.push(a=h(a,b));a[0]*=da;a[1]*=da}});return{type:"Polygon",coordinates:[l]}}var b=[0,0],c,h=6,e;a.origin=function(c){if(!arguments.length)return b;b=c;return a};a.angle=function(b){if(!arguments.length)return c;e=oc((c=+b)*Q,h*Q);return a};a.precision=function(b){if(!arguments.length)return h;
e=oc(c*Q,(h=+b)*Q);return a};return a.angle(90)};s.geo.distance=function(a,b){var c=(b[0]-a[0])*Q,h=a[1]*Q,e=b[1]*Q,l=Math.sin(c),c=Math.cos(c),d=Math.sin(h),h=Math.cos(h),n=Math.sin(e),e=Math.cos(e),g;return Math.atan2(Math.sqrt((g=e*l)*g+(g=h*n-d*e*c)*g),d*n+h*e*c)};s.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return s.range(Math.ceil(l/p)*p,e,p).map(v).concat(s.range(Math.ceil(f/q)*q,g,q).map(E)).concat(s.range(Math.ceil(h/k)*k,c,k).filter(function(a){return Math.abs(a%
p)>O}).map(u)).concat(s.range(Math.ceil(n/t)*t,d,t).filter(function(a){return Math.abs(a%q)>O}).map(m))}var c,h,e,l,d,n,g,f,k=10,t=k,p=90,q=360,u,m,v,E,D=2.5;a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[v(l).concat(E(g).slice(1),v(e).reverse().slice(1),E(f).reverse().slice(1))]}};a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()};a.majorExtent=function(b){if(!arguments.length)return[[l,
f],[e,g]];l=+b[0][0];e=+b[1][0];f=+b[0][1];g=+b[1][1];l>e&&(b=l,l=e,e=b);f>g&&(b=f,f=g,g=b);return a.precision(D)};a.minorExtent=function(b){if(!arguments.length)return[[h,n],[c,d]];h=+b[0][0];c=+b[1][0];n=+b[0][1];d=+b[1][1];h>c&&(b=h,h=c,c=b);n>d&&(b=n,n=d,d=b);return a.precision(D)};a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()};a.majorStep=function(b){if(!arguments.length)return[p,q];p=+b[0];q=+b[1];return a};a.minorStep=function(b){if(!arguments.length)return[k,
t];k=+b[0];t=+b[1];return a};a.precision=function(b){if(!arguments.length)return D;D=+b;u=Vc(n,d,90);m=Wc(h,c,D);v=Vc(f,g,90);E=Wc(l,e,D);return a};return a.majorExtent([[-180,-90+O],[180,90-O]]).minorExtent([[-180,-80-O],[180,80+O]])};s.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[c||b.apply(this,arguments),e||h.apply(this,arguments)]}}var b=oa,c,h=Eb,e;a.distance=function(){return s.geo.distance(c||b.apply(this,arguments),e||h.apply(this,arguments))};a.source=function(h){if(!arguments.length)return b;
b=h;c="function"===typeof h?null:h;return a};a.target=function(b){if(!arguments.length)return h;h=b;e="function"===typeof b?null:b;return a};a.precision=function(){return arguments.length?a:0};return a};s.geo.interpolate=function(a,b){return Fb(a[0]*Q,a[1]*Q,b[0]*Q,b[1]*Q)};s.geo.length=function(a){wd=0;s.geo.stream(a,dc);return wd};var wd,dc={sphere:U,point:U,lineStart:function(){function a(e,l){var d=Math.sin(l*=Q),n=Math.cos(l),r=Math.abs((e*=Q)-b),g=Math.cos(r);wd+=Math.atan2(Math.sqrt((r=n*Math.sin(r))*
r+(r=h*d-c*n*g)*r),c*d+h*n*g);b=e;c=d;h=n}var b,c,h;dc.point=function(e,l){b=e*Q;c=Math.sin(l*=Q);h=Math.cos(l);dc.point=a};dc.lineEnd=function(){dc.point=dc.lineEnd=U}},lineEnd:U,polygonStart:U,polygonEnd:U};(s.geo.conicEqualArea=function(){return Va(Ya)}).raw=Ya;s.geo.albers=function(){return s.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};s.geo.albersUsa=function(){function a(b){var c=b[0];b=b[1];e=null;(d(c,b),e)||(n(c,b),e)||g(c,b);return e}var b=
s.geo.albers(),c=s.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=s.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),e,l={point:function(a,b){e=[a,b]}},d,n,g;a.invert=function(a){var e=b.scale(),l=b.translate(),d=(a[0]-l[0])/e,e=(a[1]-l[1])/e;return(0.12<=e&&0.234>e&&-0.425<=d&&-0.214>d?c:0.166<=e&&0.234>e&&-0.214<=d&&-0.115>d?h:b).invert(a)};a.stream=function(a){var e=b.stream(a),l=c.stream(a),d=h.stream(a);return{point:function(a,b){e.point(a,
b);l.point(a,b);d.point(a,b)},sphere:function(){e.sphere();l.sphere();d.sphere()},lineStart:function(){e.lineStart();l.lineStart();d.lineStart()},lineEnd:function(){e.lineEnd();l.lineEnd();d.lineEnd()},polygonStart:function(){e.polygonStart();l.polygonStart();d.polygonStart()},polygonEnd:function(){e.polygonEnd();l.polygonEnd();d.polygonEnd()}}};a.precision=function(e){if(!arguments.length)return b.precision();b.precision(e);c.precision(e);h.precision(e);return a};a.scale=function(e){if(!arguments.length)return b.scale();
b.scale(e);c.scale(0.35*e);h.scale(e);return a.translate(b.translate())};a.translate=function(e){if(!arguments.length)return b.translate();var f=b.scale(),k=+e[0],t=+e[1];d=b.translate(e).clipExtent([[k-0.455*f,t-0.238*f],[k+0.455*f,t+0.238*f]]).stream(l).point;n=c.translate([k-0.307*f,t+0.201*f]).clipExtent([[k-0.425*f+O,t+0.12*f+O],[k-0.214*f-O,t+0.234*f-O]]).stream(l).point;g=h.translate([k-0.205*f,t+0.212*f]).clipExtent([[k-0.214*f+O,t+0.166*f+O],[k-0.115*f-O,t+0.234*f-O]]).stream(l).point;return a};
return a.scale(1070)};var xd,Xc,pb={point:U,lineStart:U,lineEnd:U,polygonStart:function(){Xc=0;pb.lineStart=rc},polygonEnd:function(){pb.lineStart=pb.lineEnd=pb.point=U;xd+=Math.abs(Xc/2)}},yd,zd,Ad,Bd,Gg={point:function(a,b){a<yd&&(yd=a);a>Ad&&(Ad=a);b<zd&&(zd=b);b>Bd&&(Bd=b)},lineStart:U,lineEnd:U,polygonStart:U,polygonEnd:U},db={point:sc,lineStart:tc,lineEnd:Zc,polygonStart:function(){db.lineStart=Zb},polygonEnd:function(){db.point=sc;db.lineStart=tc;db.lineEnd=Zc}};s.geo.path=function(){function a(c){c&&
s.geo.stream(c,e(l.pointRadius("function"===typeof b?+b.apply(this,arguments):b)));return l.result()}var b=4.5,c,h,e,l;a.area=function(a){xd=0;s.geo.stream(a,e(pb));return xd};a.centroid=function(a){va=ma=na=ga=0;s.geo.stream(a,e(db));return ga?[ma/ga,na/ga]:void 0};a.bounds=function(a){Ad=Bd=-(yd=zd=Infinity);s.geo.stream(a,e(Gg));return[[yd,zd],[Ad,Bd]]};a.projection=function(b){if(!arguments.length)return c;e=(c=b)?b.stream||$c(b):la;return a};a.context=function(b){if(!arguments.length)return h;
l=null==(h=b)?new Pd:new Qd(b);return a};a.pointRadius=function(c){if(!arguments.length)return b;b="function"===typeof c?c:+c;return a};return a.projection(s.geo.albersUsa()).context(null)};var rf=Gb(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(s.geo.azimuthalEqualArea=function(){return Ea(rf)}).raw=rf;var sf=Gb(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},la);(s.geo.azimuthalEquidistant=function(){return Ea(sf)}).raw=sf;(s.geo.conicConformal=function(){return Va(uc)}).raw=
uc;(s.geo.conicEquidistant=function(){return Va(Ja)}).raw=Ja;var tf=Gb(function(a){return 1/a},Math.atan);(s.geo.gnomonic=function(){return Ea(tf)}).raw=tf;Hb.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-G/2]};(s.geo.mercator=function(){return ad(Hb)}).raw=Hb;var uf=Gb(function(){return 1},Math.asin);(s.geo.orthographic=function(){return Ea(uf)}).raw=uf;var vf=Gb(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(s.geo.stereographic=function(){return Ea(vf)}).raw=vf;vc.invert=
function(a,b){return[Math.atan2((Math.exp(a)-Math.exp(-a))/2,Math.cos(b)),A(Math.sin(b)/((Math.exp(a)+Math.exp(-a))/2))]};(s.geo.transverseMercator=function(){return ad(vc)}).raw=vc;s.geom={};s.svg={};s.svg.line=function(){return wc(la)};var Rd=s.map({linear:ha,"linear-closed":function(a){return ha(a)+"Z"},"step-before":Ka,"step-after":Ib,basis:yc,"basis-open":function(a){if(4>a.length)return ha(a);for(var b=[],c=-1,h=a.length,e,l=[0],d=[0];3>++c;)e=a[c],l.push(e[0]),d.push(e[1]);b.push(La($b,l)+
","+La($b,d));for(--c;++c<h;)e=a[c],l.shift(),l.push(e[0]),d.shift(),d.push(e[1]),Jb(b,l,d);return b.join("")},"basis-closed":function(a){for(var b,c=-1,h=a.length,e=h+4,l,d=[],n=[];4>++c;)l=a[c%h],d.push(l[0]),n.push(l[1]);b=[La($b,d),",",La($b,n)];for(--c;++c<e;)l=a[c%h],d.shift(),d.push(l[0]),n.shift(),n.push(l[1]),Jb(b,d,n);return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var h=a[0][0],e=a[0][1],l=a[c][0]-h,d=a[c][1]-e,n=-1,g,f;++n<=c;)g=a[n],f=n/c,g[0]=b*g[0]+(1-b)*(h+f*l),g[1]=
b*g[1]+(1-b)*(e+f*d);return yc(a)},cardinal:function(a,b){return 3>a.length?ha(a):a[0]+qb(a,xc(a,b))},"cardinal-open":function(a,b){return 4>a.length?ha(a):a[1]+qb(a.slice(1,a.length-1),xc(a,b))},"cardinal-closed":function(a,b){return 3>a.length?ha(a):a[0]+qb((a.push(a[0]),a),xc([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=ha(a);else{var b=a[0],c=[],h,e,l,d;h=0;e=a.length-1;var n=[];l=a[1];for(d=n[0]=zc(a[0],l);++h<e;)n[h]=(d+(d=zc(l,l=a[h+1])))/2;n[h]=d;for(var g=-1,
f=a.length-1;++g<f;)h=zc(a[g],a[g+1]),1E-6>Math.abs(h)?n[g]=n[g+1]=0:(e=n[g]/h,l=n[g+1]/h,d=e*e+l*l,9<d&&(d=3*h/Math.sqrt(d),n[g]=d*e,n[g+1]=d*l));for(g=-1;++g<=f;)d=(a[Math.min(f,g+1)][0]-a[Math.max(0,g-1)][0])/(6*(1+n[g]*n[g])),c.push([d||0,n[g]*d||0]);a=b+qb(a,c)}return a}});Rd.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var ze=[0,2/3,1/3,0],Ae=[0,1/3,2/3,0],$b=[0,1/6,2/3,1/6];s.geom.hull=function(a){function b(a){if(3>a.length)return[];var e=S(c),l=S(h),d=a.length,n,g=d-1,r=[],
f=[],k,t,p=0,q,u,m,v;if(e===qa&&h===Wa)n=a;else for(t=0,n=[];t<d;++t)n.push([+e.call(this,k=a[t],t),+l.call(this,k,t)]);for(t=1;t<d;++t)if(n[t][1]<n[p][1]||n[t][1]==n[p][1]&&n[t][0]<n[p][0])p=t;for(t=0;t<d;++t)t!==p&&(l=n[t][1]-n[p][1],e=n[t][0]-n[p][0],r.push({angle:Math.atan2(l,e),index:t}));r.sort(function(a,b){return a.angle-b.angle});v=r[0].angle;m=r[0].index;u=0;for(t=1;t<g;++t){d=r[t].index;if(v==r[t].angle)if(e=n[m][0]-n[p][0],l=n[m][1]-n[p][1],k=n[d][0]-n[p][0],q=n[d][1]-n[p][1],e*e+l*l>=
k*k+q*q){r[t].index=-1;continue}else r[u].index=-1;v=r[t].angle;u=t;m=d}f.push(p);for(d=t=0;2>t;++d)-1<r[d].index&&(f.push(r[d].index),t++);for(t=f.length;d<g;++d)if(!(0>r[d].index)){for(;!bd(f[t-2],f[t-1],r[d].index,n);)--t;f[t++]=r[d].index}n=[];for(t-=1;0<=t;--t)n.push(a[f[t]]);return n}var c=qa,h=Wa;if(arguments.length)return b(a);b.x=function(a){return arguments.length?(c=a,b):c};b.y=function(a){return arguments.length?(h=a,b):h};return b};s.geom.polygon=function(a){a.area=function(){for(var b=
0,c=a.length,h=a[c-1][1]*a[0][0]-a[c-1][0]*a[0][1];++b<c;)h+=a[b-1][1]*a[b][0]-a[b-1][0]*a[b][1];return 0.5*h};a.centroid=function(b){var c=-1,h=a.length,e=0,l=0,d,n=a[h-1],g;for(arguments.length||(b=-1/(6*a.area()));++c<h;)d=n,n=a[c],g=d[0]*n[1]-n[0]*d[1],e+=(d[0]+n[0])*g,l+=(d[1]+n[1])*g;return[e*b,l*b]};a.clip=function(b){for(var c,h=-1,e=a.length,l,d,n=a[e-1],g,f,k;++h<e;){c=b.slice();b.length=0;g=a[h];f=c[(d=c.length)-1];for(l=-1;++l<d;)k=c[l],ac(k,n,g)?(ac(f,n,g)||b.push(Ac(f,k,n,g)),b.push(k)):
ac(f,n,g)&&b.push(Ac(f,k,n,g)),f=k;n=g}return b};return a};s.geom.delaunay=function(a){var b=a.map(function(){return[]}),c=[];Kb(a,function(c){b[c.region.l.index].push(a[c.region.r.index])});b.forEach(function(b,h){var e=a[h],l=e[0],d=e[1];b.forEach(function(a){a.angle=Math.atan2(a[0]-l,a[1]-d)});b.sort(function(a,b){return a.angle-b.angle});for(var n=0,g=b.length-1;n<g;n++)c.push([e,b[n],b[n+1]])});return c};s.geom.voronoi=function(a){function b(a){var c,d=a.map(function(){return[]}),n=S(h),g=S(e),
r,f,k=a.length;if(n===qa&&g===Wa)c=a;else for(c=[],f=0;f<k;++f)c.push([+n.call(this,r=a[f],f),+g.call(this,r,f)]);Kb(c,function(a){var b,c,h,e;1===a.a&&0<=a.b?(b=a.ep.r,c=a.ep.l):(b=a.ep.l,c=a.ep.r);1===a.a?(h=b?b.y:-1E6,b=a.c-a.b*h,e=c?c.y:1E6,c=a.c-a.b*e):(b=b?b.x:-1E6,h=a.c-a.a*b,c=c?c.x:1E6,e=a.c-a.a*c);b=[b,h];c=[c,e];d[a.region.l.index].push(b,c);d[a.region.r.index].push(b,c)});d=d.map(function(a,b){var h=c[b][0],e=c[b][1],l=a.map(function(a){return Math.atan2(a[0]-h,a[1]-e)}),d=s.range(a.length).sort(function(a,
b){return l[a]-l[b]});return d.filter(function(a,b){return!b||l[a]-l[d[b-1]]>O}).map(function(b){return a[b]})});d.forEach(function(a,b){var h=a.length;if(!h)return a.push([-1E6,-1E6],[-1E6,1E6],[1E6,1E6],[1E6,-1E6]);if(!(2<h)){var e=c[b],l=a[0],d=a[1],h=e[0],e=e[1],n=l[0],l=l[1],g=d[0],r=d[1],f=Math.abs(g-n),d=r-l;Math.abs(d)<O?(h=e<l?-1E6:1E6,a.push([-1E6,h],[1E6,h])):f<O?(h=h<n?-1E6:1E6,a.push([h,-1E6],[h,1E6])):(h=(g-n)*(l-e)<(n-h)*(r-l)?1E6:-1E6,e=Math.abs(d)-f,Math.abs(e)<O?a.push([0>d?h:-h,
h]):(0<e&&(h*=-1),a.push([-1E6,h],[1E6,h])))}});if(l)for(f=0;f<k;++f)l(d[f]);for(f=0;f<k;++f)d[f].point=a[f];return d}var c=null,h=qa,e=Wa,l;if(arguments.length)return b(a);b.x=function(a){return arguments.length?(h=a,b):h};b.y=function(a){return arguments.length?(e=a,b):e};b.size=function(a){if(!arguments.length)return c;null==a?l=null:(c=[+a[0],+a[1]],l=s.geom.polygon([[0,0],[0,c[1]],c,[c[0],0]]).clip);return b};b.links=function(a){var b,c=a.map(function(){return[]}),l=[],d=S(h),n=S(e),g,r,f=a.length;
if(d===qa&&n===Wa)b=a;else for(r=0;r<f;++r)b.push([+d.call(this,g=a[r],r),+n.call(this,g,r)]);Kb(b,function(b){var h=b.region.l.index;b=b.region.r.index;c[h][b]||(c[h][b]=c[b][h]=!0,l.push({source:a[h],target:a[b]}))});return l};b.triangles=function(a){if(h===qa&&e===Wa)return s.geom.delaunay(a);var b,c,l=S(h),d=S(e),n,g,r;g=0;b=[];for(r=a.length;g<r;++g)c=[+l.call(this,n=a[g],g),+d.call(this,n,g)],c.data=n,b.push(c);return s.geom.delaunay(b).map(function(a){return a.map(function(a){return a.data})})};
return b};var Sd={l:"r",r:"l"};s.geom.quadtree=function(a,b,c,h,e){function l(a){function r(a,b,c,h,e,l,d,n){if(!isNaN(c)&&!isNaN(h))if(a.leaf){var g=a.x,k=a.y;if(null!=g){if(!(0.01>Math.abs(g-c)+Math.abs(k-h))){var t=a.point;a.x=a.y=a.point=null;f(a,t,g,k,e,l,d,n)}f(a,b,c,h,e,l,d,n)}else a.x=c,a.y=h,a.point=b}else f(a,b,c,h,e,l,d,n)}function f(a,b,c,h,e,l,d,n){var g=0.5*(e+d),k=0.5*(l+n),t=c>=g,p=h>=k,q=(p<<1)+t;a.leaf=!1;a=a.nodes[q]||(a.nodes[q]=Bc());t?e=g:d=g;p?l=k:n=k;r(a,b,c,h,e,l,d,n)}var k,
t=S(d),p=S(n),q,u,m,v,E,D,s,x;if(null!=b)E=b,D=c,s=h,x=e;else if(s=x=-(E=D=Infinity),q=[],u=[],v=a.length,g)for(m=0;m<v;++m)k=a[m],k.x<E&&(E=k.x),k.y<D&&(D=k.y),k.x>s&&(s=k.x),k.y>x&&(x=k.y),q.push(k.x),u.push(k.y);else for(m=0;m<v;++m){var A=+t(k=a[m],m);k=+p(k,m);A<E&&(E=A);k<D&&(D=k);A>s&&(s=A);k>x&&(x=k);q.push(A);u.push(k)}A=s-E;k=x-D;A>k?x=D+A:s=E+k;var C=Bc();C.add=function(a){r(C,a,+t(a,++m),+p(a,m),E,D,s,x)};C.visit=function(a){eb(a,C,E,D,s,x)};m=-1;if(null==b){for(;++m<v;)r(C,a[m],q[m],
u[m],E,D,s,x);--m}else a.forEach(C.add);q=u=a=k=null;return C}var d=qa,n=Wa,g;if(g=arguments.length)return d=cd,n=Be,3===g&&(e=c,h=b,c=b=0),l(a);l.x=function(a){return arguments.length?(d=a,l):d};l.y=function(a){return arguments.length?(n=a,l):n};l.size=function(a){if(!arguments.length)return null==b?null:[h,e];null==a?b=c=h=e=null:(b=c=0,h=+a[0],e=+a[1]);return l};return l};s.interpolateRgb=Za;s.transform=function(a){var b=za.createElementNS(s.ns.prefix.svg,"g");return(s.transform=function(a){if(null!=
a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new rb(c?c.matrix:Hg)})(a)};rb.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Hg={a:1,b:0,c:0,d:1,e:0,f:0};s.interpolateNumber=Ma;s.interpolateTransform=Na;s.interpolateObject=Lb;s.interpolateString=ed;var fd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;s.interpolate=$a;s.interpolators=[function(a,b){var c=typeof b;return("string"===
c?Fc.has(b)||/^(#|rgb\(|hsl\()/.test(b)?Za:ed:b instanceof x?Za:"object"===c?Array.isArray(b)?gd:Lb:Ma)(a,b)}];s.interpolateArray=gd;var wf=function(){return la},Ig=s.map({linear:wf,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return l},cubic:function(){return n},sin:function(){return t},exp:function(){return E},circle:function(){return D},elastic:function(a,b){var c;2>arguments.length&&(b=0.45);arguments.length?c=b/(2*G)*Math.asin(1/a):(a=1,c=b/4);return function(h){return 1+
a*Math.pow(2,10*-h)*Math.sin(2*(h-c)*G/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return aa}}),Jg=s.map({"in":la,out:sb,"in-out":h,"out-in":function(a){return h(sb(a))}});s.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.substring(0,b):a,b=0<=b?a.substring(b+1):"in",c=Ig.get(c)||wf,b=Jg.get(b)||la;return bc(b(c.apply(null,Array.prototype.slice.call(arguments,1))))};s.interpolateHcl=function(a,b){a=s.hcl(a);b=s.hcl(b);var c=a.h,h=a.c,e=a.l,l=b.h-
c,d=b.c-h,n=b.l-e;isNaN(d)&&(d=0,h=isNaN(h)?b.c:h);isNaN(l)?(l=0,c=isNaN(c)?b.h:c):180<l?l-=360:-180>l&&(l+=360);return function(a){return ib(c+l*a,h+d*a,e+n*a)+""}};s.interpolateHsl=function(a,b){a=s.hsl(a);b=s.hsl(b);var c=a.h,h=a.s,e=a.l,l=b.h-c,d=b.s-h,n=b.l-e;isNaN(d)&&(d=0,h=isNaN(h)?b.s:h);isNaN(l)?(l=0,c=isNaN(c)?b.h:c):180<l?l-=360:-180>l&&(l+=360);return function(a){return u(c+l*a,h+d*a,e+n*a)+""}};s.interpolateLab=function(a,b){a=s.lab(a);b=s.lab(b);var c=a.l,h=a.a,e=a.b,l=b.l-c,d=b.a-
h,n=b.b-e;return function(a){return fa(c+l*a,h+d*a,e+n*a)+""}};s.interpolateRound=Ce;s.layout={};s.layout.bundle=function(){return function(a){for(var b=[],c=-1,h=a.length;++c<h;)b.push(Mf(a[c]));return b}};s.layout.chord=function(){function a(){var c={},r=[],t=s.range(d),p=[],q,u,m,v,E;h=[];e=[];q=0;for(v=-1;++v<d;){u=0;for(E=-1;++E<d;)u+=l[v][E];r.push(u);p.push(s.range(d));q+=u}g&&t.sort(function(a,b){return g(r[a],r[b])});f&&p.forEach(function(a,b){a.sort(function(a,c){return f(l[b][a],l[b][c])})});
q=(2*G-n*d)/q;u=0;for(v=-1;++v<d;){m=u;for(E=-1;++E<d;){var D=t[v],x=p[D][E],A=l[D][x],C=u,aa=u+=A*q;c[D+"-"+x]={index:D,subindex:x,startAngle:C,endAngle:aa,value:A}}e[D]={index:D,startAngle:m,endAngle:u,value:(u-m)/q};u+=n}for(v=-1;++v<d;)for(E=v-1;++E<d;)t=c[v+"-"+E],p=c[E+"-"+v],(t.value||p.value)&&h.push(t.value<p.value?{source:p,target:t}:{source:t,target:p});k&&b()}function b(){h.sort(function(a,b){return k((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},h,e,
l,d,n=0,g,f,k;c.matrix=function(a){if(!arguments.length)return l;d=(l=a)&&l.length;h=e=null;return c};c.padding=function(a){if(!arguments.length)return n;n=a;h=e=null;return c};c.sortGroups=function(a){if(!arguments.length)return g;g=a;h=e=null;return c};c.sortSubgroups=function(a){if(!arguments.length)return f;f=a;h=null;return c};c.sortChords=function(a){if(!arguments.length)return k;k=a;h&&b();return c};c.chords=function(){h||a();return h};c.groups=function(){e||a();return e};return c};s.layout.force=
function(){function a(b){return function(a,c,h,e){if(a.point!==b){h=a.cx-b.x;var l=a.cy-b.y,d=1/Math.sqrt(h*h+l*l);if((e-c)*d<p)return c=a.charge*d*d,b.px-=h*c,b.py-=l*c,!0;a.point&&isFinite(d)&&(c=a.pointCharge*d*d,b.px-=h*c,b.py-=l*c)}return!a.charge}}function b(a){a.px=s.event.x;a.py=s.event.y;c.resume()}var c={},h=s.dispatch("start","tick","end"),e=[1,1],l,d,n=0.9,g=Kg,f=Lg,k=-30,t=0.1,p=0.8,q=[],u=[],m,v,E;c.tick=function(){if(0.005>(d*=0.99))return h.end({type:"end",alpha:d=0}),!0;var b=q.length,
c=u.length,l,g,f,p,D,z,x;for(l=0;l<c;++l)if(g=u[l],f=g.source,p=g.target,z=p.x-f.x,x=p.y-f.y,D=z*z+x*x)D=d*v[l]*((D=Math.sqrt(D))-m[l])/D,z*=D,x*=D,p.x-=z*(D=f.weight/(p.weight+f.weight)),p.y-=x*D,f.x+=z*(D=1-D),f.y+=x*D;if(D=d*t)if(z=e[0]/2,x=e[1]/2,l=-1,D)for(;++l<b;)g=q[l],g.x+=(z-g.x)*D,g.y+=(x-g.y)*D;if(k)for(Ee(c=s.geom.quadtree(q),d,E),l=-1;++l<b;)(g=q[l]).fixed||c.visit(a(g));for(l=-1;++l<b;)g=q[l],g.fixed?(g.x=g.px,g.y=g.py):(g.x-=(g.px-(g.px=g.x))*n,g.y-=(g.py-(g.py=g.y))*n);h.tick({type:"tick",
alpha:d})};c.nodes=function(a){if(!arguments.length)return q;q=a;return c};c.links=function(a){if(!arguments.length)return u;u=a;return c};c.size=function(a){if(!arguments.length)return e;e=a;return c};c.linkDistance=function(a){if(!arguments.length)return g;g="function"===typeof a?a:+a;return c};c.distance=c.linkDistance;c.linkStrength=function(a){if(!arguments.length)return f;f="function"===typeof a?a:+a;return c};c.friction=function(a){if(!arguments.length)return n;n=+a;return c};c.charge=function(a){if(!arguments.length)return k;
k="function"===typeof a?a:+a;return c};c.gravity=function(a){if(!arguments.length)return t;t=+a;return c};c.theta=function(a){if(!arguments.length)return p;p=+a;return c};c.alpha=function(a){if(!arguments.length)return d;a=+a;d?d=0<a?a:0:0<a&&(h.start({type:"start",alpha:d=a}),s.timer(c.tick));return c};c.start=function(){function a(c,e){var n;if(!t){t=[];for(h=0;h<l;++h)t[h]=[];for(h=0;h<d;++h)n=u[h],t[n.source.index].push(n.target),t[n.target.index].push(n.source)}n=t[b];for(var g=-1,f=n.length,
r;++g<f;)if(!isNaN(r=n[g][c]))return r;return Math.random()*e}var b,h,l=q.length,d=u.length,n=e[0],r=e[1],t,p;for(b=0;b<l;++b)(p=q[b]).index=b,p.weight=0;for(b=0;b<d;++b)p=u[b],"number"==typeof p.source&&(p.source=q[p.source]),"number"==typeof p.target&&(p.target=q[p.target]),++p.source.weight,++p.target.weight;for(b=0;b<l;++b)p=q[b],isNaN(p.x)&&(p.x=a("x",n)),isNaN(p.y)&&(p.y=a("y",r)),isNaN(p.px)&&(p.px=p.x),isNaN(p.py)&&(p.py=p.y);m=[];if("function"===typeof g)for(b=0;b<d;++b)m[b]=+g.call(this,
u[b],b);else for(b=0;b<d;++b)m[b]=g;v=[];if("function"===typeof f)for(b=0;b<d;++b)v[b]=+f.call(this,u[b],b);else for(b=0;b<d;++b)v[b]=f;E=[];if("function"===typeof k)for(b=0;b<l;++b)E[b]=+k.call(this,q[b],b);else for(b=0;b<l;++b)E[b]=k;return c.resume()};c.resume=function(){return c.alpha(0.1)};c.stop=function(){return c.alpha(0)};c.drag=function(){l||(l=s.behavior.drag().origin(la).on("dragstart.force",Nf).on("drag.force",b).on("dragend.force",Td));if(!arguments.length)return l;this.on("mouseover.force",
Of).on("mouseout.force",Pf).call(l)};return s.rebind(c,h,"on")};var Kg=20,Lg=1;s.layout.hierarchy=function(){function a(b,d,n){var g=e.call(c,b,d);b.depth=d;n.push(b);if(g&&(k=g.length)){var f=-1,k,t=b.children=[],p=0;d+=1;for(var q;++f<k;)q=a(g[f],d,n),q.parent=b,t.push(q),p+=q.value;h&&t.sort(h);l&&(b.value=p)}else l&&(b.value=+l.call(c,b,d)||0);return b}function b(a,h){var e=a.children,d=0;if(e&&(g=e.length))for(var n=-1,g,f=h+1;++n<g;)d+=b(e[n],f);else l&&(d=+l.call(c,a,h)||0);l&&(a.value=d);
return d}function c(b){var h=[];a(b,0,h);return h}var h=Tf,e=Rf,l=Sf;c.sort=function(a){if(!arguments.length)return h;h=a;return c};c.children=function(a){if(!arguments.length)return e;e=a;return c};c.value=function(a){if(!arguments.length)return l;l=a;return c};c.revalue=function(a){b(a,0);return a};return c};s.layout.partition=function(){function a(b,c,h,e){var l=b.children;b.x=c;b.y=b.depth*e;b.dx=h;b.dy=e;if(l&&(n=l.length)){var d=-1,n,g;for(h=b.value?h/b.value:0;++d<n;)a(g=l[d],c,b=g.value*h,
e),c+=b}}function b(a){a=a.children;var c=0;if(a&&(e=a.length))for(var h=-1,e;++h<e;)c=Math.max(c,b(a[h]));return 1+c}function c(l,d){var n=h.call(this,l,d);a(n[0],0,e[0],e[1]/b(n[0]));return n}var h=s.layout.hierarchy(),e=[1,1];c.size=function(a){if(!arguments.length)return e;e=a;return c};return Cc(c,h)};s.layout.pie=function(){function a(l){var d=l.map(function(c,h){return+b.call(a,c,h)}),n=+("function"===typeof h?h.apply(this,arguments):h),g=(("function"===typeof e?e.apply(this,arguments):e)-
n)/s.sum(d),f=s.range(l.length);null!=c&&f.sort(c===xf?function(a,b){return d[b]-d[a]}:function(a,b){return c(l[a],l[b])});var k=[];f.forEach(function(a){var b;k[a]={data:l[a],value:b=d[a],startAngle:n,endAngle:n+=b*g}});return k}var b=Number,c=xf,h=0,e=2*G;a.value=function(c){if(!arguments.length)return b;b=c;return a};a.sort=function(b){if(!arguments.length)return c;c=b;return a};a.startAngle=function(b){if(!arguments.length)return h;h=b;return a};a.endAngle=function(b){if(!arguments.length)return e;
e=b;return a};return a};var xf={};s.layout.stack=function(){function a(n,g){var f=n.map(function(c,h){return b.call(a,c,h)}),k=f.map(function(b){return b.map(function(b,c){return[l.call(a,b,c),d.call(a,b,c)]})}),t=c.call(a,k,g),f=s.permute(f,t),k=s.permute(k,t),t=h.call(a,k,g),p=f.length,q=f[0].length,u,m,v;for(m=0;m<q;++m)for(e.call(a,f[0][m],v=t[m],k[0][m][1]),u=1;u<p;++u)e.call(a,f[u][m],v+=k[u-1][m][1],k[u][m][1]);return n}var b=la,c=Ud,h=Vd,e=Wf,l=Uf,d=Vf;a.values=function(c){if(!arguments.length)return b;
b=c;return a};a.order=function(b){if(!arguments.length)return c;c="function"===typeof b?b:Mg.get(b)||Ud;return a};a.offset=function(b){if(!arguments.length)return h;h="function"===typeof b?b:Ng.get(b)||Vd;return a};a.x=function(b){if(!arguments.length)return l;l=b;return a};a.y=function(b){if(!arguments.length)return d;d=b;return a};a.out=function(b){if(!arguments.length)return e;e=b;return a};return a};var Mg=s.map({"inside-out":function(a){var b=a.length,c,h=a.map(Xf),e=a.map(Yf),l=s.range(b).sort(function(a,
b){return h[a]-h[b]}),d=0,n=0,g=[],f=[];for(a=0;a<b;++a)c=l[a],d<n?(d+=e[c],g.push(c)):(n+=e[c],f.push(c));return f.reverse().concat(g)},reverse:function(a){return s.range(a.length).reverse()},"default":Ud}),Ng=s.map({silhouette:function(a){var b=a.length,c=a[0].length,h=[],e=0,l,d,n,g=[];for(d=0;d<c;++d){for(n=l=0;l<b;l++)n+=a[l][d][1];n>e&&(e=n);h.push(n)}for(d=0;d<c;++d)g[d]=(e-h[d])/2;return g},wiggle:function(a){var b=a.length,c=a[0],h=c.length,e,l,d,n,g,f,k,t,p,q=[];q[0]=t=p=0;for(l=1;l<h;++l){for(n=
e=0;e<b;++e)n+=a[e][l][1];g=e=0;for(k=c[l][0]-c[l-1][0];e<b;++e){d=0;for(f=(a[e][l][1]-a[e][l-1][1])/(2*k);d<e;++d)f+=(a[d][l][1]-a[d][l-1][1])/k;g+=f*a[e][l][1]}q[l]=t-=n?g/n*k:0;t<p&&(p=t)}for(l=0;l<h;++l)q[l]-=p;return q},expand:function(a){var b=a.length,c=a[0].length,h=1/b,e,l,d,n=[];for(l=0;l<c;++l){for(d=e=0;e<b;e++)d+=a[e][l][1];if(d)for(e=0;e<b;e++)a[e][l][1]/=d;else for(e=0;e<b;e++)a[e][l][1]=h}for(l=0;l<c;++l)n[l]=0;return n},zero:Vd});s.layout.histogram=function(){function a(l,d){var n=
[],g=l.map(c,this),f=h.call(this,g,d),k=e.call(this,f,g,d),r;d=-1;for(var t=g.length,p=k.length-1,q=b?1:1/t;++d<p;)r=n[d]=[],r.dx=k[d+1]-(r.x=k[d]),r.y=0;if(0<p)for(d=-1;++d<t;)r=g[d],r>=f[0]&&r<=f[1]&&(r=n[s.bisect(k,r,1,p)-1],r.y+=q,r.push(l[d]));return n}var b=!0,c=Number,h=ag,e=$f;a.value=function(b){if(!arguments.length)return c;c=b;return a};a.range=function(b){if(!arguments.length)return h;h=S(b);return a};a.bins=function(b){if(!arguments.length)return e;e="number"===typeof b?function(a){return Fe(a,
b)}:S(b);return a};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a};return a};s.layout.tree=function(){function a(e,l){function d(a,b){var h=a.children,e=a._tree;if(h&&(l=h.length)){for(var l,n=h[0],g,f=n,k,r=-1;++r<l;){k=h[r];d(k,g);var t=k;if(g){for(var p=t,q=t,u=t.parent.children[0],m=p._tree.mod,v=q._tree.mod,E=g._tree.mod,D=u._tree.mod,s=void 0;g=Xd(g),p=Wd(p),g&&p;){u=Wd(u);q=Xd(q);q._tree.ancestor=t;s=g._tree.prelim+E-p._tree.prelim-m+c(g,p);if(0<s){var x=g._tree.ancestor.parent==
t.parent?g._tree.ancestor:f,z=t,A=s,x=x._tree,z=z._tree,C=A/(z.number-x.number);x.change+=C;z.change-=C;z.shift+=A;z.prelim+=A;z.mod+=A;m+=s;v+=s}E+=g._tree.mod;m+=p._tree.mod;D+=u._tree.mod;v+=q._tree.mod}g&&!Xd(q)&&(q._tree.thread=g,q._tree.mod+=E-v);p&&!Wd(u)&&(u._tree.thread=p,u._tree.mod+=m-D,f=t)}g=k}l=h=0;r=a.children;for(t=r.length;0<=--t;)f=r[t]._tree,f.prelim+=h,f.mod+=h,h+=f.shift+(l+=f.change);n=0.5*(n._tree.prelim+k._tree.prelim);b?(e.prelim=b._tree.prelim+c(a,b),e.mod=e.prelim-n):e.prelim=
n}else b&&(e.prelim=b._tree.prelim+c(a,b))}function n(a,b){a.x=a._tree.prelim+b;var c=a.children;if(c&&(e=c.length)){var h=-1,e;for(b+=a._tree.mod;++h<e;)n(c[h],b)}}var g=b.call(this,e,l),f=g[0];lb(f,function(a,b){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:b?b._tree.number+1:0}});d(f);n(f,-f._tree.prelim);var k=hd(f,cg),r=hd(f,bg),t=hd(f,dg),p=k.x-c(k,r)/2,q=r.x+c(r,k)/2,u=t.depth||1;lb(f,function(a){a.x=(a.x-p)/(q-p)*h[0];a.y=a.depth/u*h[1];delete a._tree});return g}var b=s.layout.hierarchy().sort(null).value(null),
c=Ge,h=[1,1];a.separation=function(b){if(!arguments.length)return c;c=b;return a};a.size=function(b){if(!arguments.length)return h;h=b;return a};return Cc(a,b)};s.layout.pack=function(){function a(e,l){var d=b.call(this,e,l),n=d[0];n.x=0;n.y=0;lb(n,function(a){a.r=Math.sqrt(a.value)});lb(n,Je);var g=h[0],f=h[1],k=Math.max(2*n.r/g,2*n.r/f);if(0<c){var r=c*k/2;lb(n,function(a){a.r+=r});lb(n,Je);lb(n,function(a){a.r-=r});k=Math.max(2*n.r/g,2*n.r/f)}Le(n,g/2,f/2,1/k);return d}var b=s.layout.hierarchy().sort(eg),
c=0,h=[1,1];a.size=function(b){if(!arguments.length)return h;h=b;return a};a.padding=function(b){if(!arguments.length)return c;c=+b;return a};return Cc(a,b)};s.layout.cluster=function(){function a(e,l){var d=b.call(this,e,l),n=d[0],g,f=0;lb(n,function(a){var b=a.children;b&&b.length?(a.x=ig(b),a.y=hg(b)):(a.x=g?f+=c(a,g):0,a.y=0,g=a)});var k=Me(n),r=Ne(n),t=k.x-c(k,r)/2,p=r.x+c(r,k)/2;lb(n,function(a){a.x=(a.x-t)/(p-t)*h[0];a.y=(1-(n.y?a.y/n.y:1))*h[1]});return d}var b=s.layout.hierarchy().sort(null).value(null),
c=Ge,h=[1,1];a.separation=function(b){if(!arguments.length)return c;c=b;return a};a.size=function(b){if(!arguments.length)return h;h=b;return a};return Cc(a,b)};s.layout.treemap=function(){function a(b,c){for(var h=-1,e=b.length,l,d;++h<e;)d=(l=b[h]).value*(0>c?0:c),l.area=isNaN(d)||0>=d?0:d}function b(c){var e=c.children;if(e&&e.length){var l=f(c),d=[],n=e.slice(),g=Infinity,k,t="slice"===p?l.dx:"dice"===p?l.dy:"slice-dice"===p?c.depth&1?l.dy:l.dx:Math.min(l.dx,l.dy);a(n,l.dx*l.dy/c.value);for(d.area=
0;0<(c=n.length);){d.push(c=n[c-1]);d.area+=c.area;if(!(c="squarify"!==p)){k=t;c=d.area;for(var u=void 0,m=0,v=Infinity,E=-1,D=d.length;++E<D;)if(u=d[E].area)u<v&&(v=u),u>m&&(m=u);c*=c;k*=k;c=(k=c?Math.max(k*m*q/c,c/(k*v*q)):Infinity)<=g}c?(n.pop(),g=k):(d.area-=d.pop().area,h(d,t,l,!1),t=Math.min(l.dx,l.dy),d.length=d.area=0,g=Infinity)}d.length&&(h(d,t,l,!0),d.length=d.area=0);e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var l=f(b),d=e.slice(),n=[];a(d,l.dx*l.dy/b.value);for(n.area=
0;b=d.pop();)n.push(b),n.area+=b.area,null!=b.z&&(h(n,b.z?l.dx:l.dy,l,!d.length),n.length=n.area=0);e.forEach(c)}}function h(a,b,c,e){var l=-1,n=a.length,g=c.x,f=c.y,k=b?d(a.area/b):0,r;if(b==c.dx){if(e||k>c.dy)k=c.dy;for(;++l<n;)r=a[l],r.x=g,r.y=f,r.dy=k,g+=r.dx=Math.min(c.x+c.dx-g,k?d(r.area/k):0);r.z=!0;r.dx+=c.x+c.dx-g;c.y+=k;c.dy-=k}else{if(e||k>c.dx)k=c.dx;for(;++l<n;)r=a[l],r.x=g,r.y=f,r.dx=k,f+=r.dy=Math.min(c.y+c.dy-f,k?d(r.area/k):0);r.z=!1;r.dy+=c.y+c.dy-f;c.x+=k;c.dx-=k}}function e(h){h=
t||l(h);var d=h[0];d.x=0;d.y=0;d.dx=n[0];d.dy=n[1];t&&l.revalue(d);a([d],d.dx*d.dy/d.value);(t?c:b)(d);k&&(t=h);return h}var l=s.layout.hierarchy(),d=Math.round,n=[1,1],g=null,f=Zd,k=!1,t,p="squarify",q=0.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return n;n=a;return e};e.padding=function(a){function b(c){var h=a.call(e,c,c.depth);return null==h?Zd(c):Oe(c,"number"===typeof h?[h,h,h,h]:h)}function c(b){return Oe(b,a)}if(!arguments.length)return g;var h;f=null==(g=a)?Zd:"function"===
(h=typeof a)?b:"number"===h?(a=[a,a,a,a],c):c;return e};e.round=function(a){if(!arguments.length)return d!=Number;d=a?Math.round:Number;return e};e.sticky=function(a){if(!arguments.length)return k;k=a;t=null;return e};e.ratio=function(a){if(!arguments.length)return q;q=a;return e};e.mode=function(a){if(!arguments.length)return p;p=a+"";return e};return Cc(e,l)};s.random={normal:function(a,b){var c=arguments.length;2>c&&(b=1);1>c&&(a=0);return function(){var c,h;do c=2*Math.random()-1,h=2*Math.random()-
1,h=c*c+h*h;while(!h||1<h);return a+b*c*Math.sqrt(-2*Math.log(h)/h)}},logNormal:function(){var a=s.random.normal.apply(s,arguments);return function(){return Math.exp(a())}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b/a}}};s.scale={};s.scale.linear=function(){return Pe([0,1],[0,1],$a,!1)};s.scale.log=function(){return Se(s.scale.linear().domain([0,Math.LN10]),10,be,Te,[1,10])};var mg=s.format(".0e");s.scale.pow=function(){return Ue(s.scale.linear(),1,[0,
1])};s.scale.sqrt=function(){return s.scale.pow().exponent(0.5)};s.scale.ordinal=function(){return Ve([],{t:"range",a:[[]]})};s.scale.category10=function(){return s.scale.ordinal().range(Og)};s.scale.category20=function(){return s.scale.ordinal().range(Pg)};s.scale.category20b=function(){return s.scale.ordinal().range(Qg)};s.scale.category20c=function(){return s.scale.ordinal().range(Rg)};var Og="#1f77b4 #ff7f0e #2ca02c #d62728 #9467bd #8c564b #e377c2 #7f7f7f #bcbd22 #17becf".split(" "),Pg="#1f77b4 #aec7e8 #ff7f0e #ffbb78 #2ca02c #98df8a #d62728 #ff9896 #9467bd #c5b0d5 #8c564b #c49c94 #e377c2 #f7b6d2 #7f7f7f #c7c7c7 #bcbd22 #dbdb8d #17becf #9edae5".split(" "),
Qg="#393b79 #5254a3 #6b6ecf #9c9ede #637939 #8ca252 #b5cf6b #cedb9c #8c6d31 #bd9e39 #e7ba52 #e7cb94 #843c39 #ad494a #d6616b #e7969c #7b4173 #a55194 #ce6dbd #de9ed6".split(" "),Rg="#3182bd #6baed6 #9ecae1 #c6dbef #e6550d #fd8d3c #fdae6b #fdd0a2 #31a354 #74c476 #a1d99b #c7e9c0 #756bb1 #9e9ac8 #bcbddc #dadaeb #636363 #969696 #bdbdbd #d9d9d9".split(" ");s.scale.quantile=function(){return We([],[])};s.scale.quantize=function(){return fb(0,1,[0,1])};s.scale.threshold=function(){return gb([0.5],[0,1])};
s.scale.identity=function(){return Xe([0,1])};s.svg.arc=function(){function a(){var l=b.apply(this,arguments),d=c.apply(this,arguments),n=h.apply(this,arguments)+Mb,g=e.apply(this,arguments)+Mb,f=(g<n&&(f=n,n=g,g=f),g-n),k=f<G?"0":"1",r=Math.cos(n),n=Math.sin(n),t=Math.cos(g),g=Math.sin(g);return f>=Sg?l?"M0,"+d+"A"+d+","+d+" 0 1,1 0,"+-d+"A"+d+","+d+" 0 1,1 0,"+d+"M0,"+l+"A"+l+","+l+" 0 1,0 0,"+-l+"A"+l+","+l+" 0 1,0 0,"+l+"Z":"M0,"+d+"A"+d+","+d+" 0 1,1 0,"+-d+"A"+d+","+d+" 0 1,1 0,"+d+"Z":l?"M"+
d*r+","+d*n+"A"+d+","+d+" 0 "+k+",1 "+d*t+","+d*g+"L"+l*t+","+l*g+"A"+l+","+l+" 0 "+k+",0 "+l*r+","+l*n+"Z":"M"+d*r+","+d*n+"A"+d+","+d+" 0 "+k+",1 "+d*t+","+d*g+"L0,0Z"}var b=Pa,c=ng,h=Ye,e=Ze;a.innerRadius=function(c){if(!arguments.length)return b;b=S(c);return a};a.outerRadius=function(b){if(!arguments.length)return c;c=S(b);return a};a.startAngle=function(b){if(!arguments.length)return h;h=S(b);return a};a.endAngle=function(b){if(!arguments.length)return e;e=S(b);return a};a.centroid=function(){var a=
(b.apply(this,arguments)+c.apply(this,arguments))/2,l=(h.apply(this,arguments)+e.apply(this,arguments))/2+Mb;return[Math.cos(l)*a,Math.sin(l)*a]};return a};var Mb=-G/2,Sg=2*G-1E-6;s.svg.line.radial=function(){var a=wc($e);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};Ka.reverse=Ib;Ib.reverse=Ka;s.svg.area=function(){return af(la)};s.svg.area.radial=function(){var a=af($e);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=
a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};s.svg.chord=function(){function a(e,l){var d=b(this,c,e,l),n=b(this,h,e,l);return"M"+d.p0+("A"+d.r+","+d.r+" 0 "+ +(d.a1-d.a0>G)+",1 "+d.p1)+(d.a0==n.a0&&d.a1==n.a1?"Q 0,0 "+d.p0:"Q 0,0 "+n.p0+("A"+n.r+","+n.r+" 0 "+ +(n.a1-n.a0>G)+",1 "+n.p1)+("Q 0,0 "+d.p0))+"Z"}function b(a,c,h,n){var g=c.call(a,h,n);c=e.call(a,g,n);h=l.call(a,g,n)+Mb;a=d.call(a,g,n)+Mb;return{r:c,a0:h,a1:a,p0:[c*Math.cos(h),c*Math.sin(h)],p1:[c*Math.cos(a),c*Math.sin(a)]}}
var c=oa,h=Eb,e=og,l=Ye,d=Ze;a.radius=function(b){if(!arguments.length)return e;e=S(b);return a};a.source=function(b){if(!arguments.length)return c;c=S(b);return a};a.target=function(b){if(!arguments.length)return h;h=S(b);return a};a.startAngle=function(b){if(!arguments.length)return l;l=S(b);return a};a.endAngle=function(b){if(!arguments.length)return d;d=S(b);return a};return a};s.svg.diagonal=function(){function a(e,l){var d=b.call(this,e,l),n=c.call(this,e,l),g=(d.y+n.y)/2,d=[d,{x:d.x,y:g},{x:n.x,
y:g},n],d=d.map(h);return"M"+d[0]+"C"+d[1]+" "+d[2]+" "+d[3]}var b=oa,c=Eb,h=bf;a.source=function(c){if(!arguments.length)return b;b=S(c);return a};a.target=function(b){if(!arguments.length)return c;c=S(b);return a};a.projection=function(b){if(!arguments.length)return h;h=b;return a};return a};s.svg.diagonal.radial=function(){var a=s.svg.diagonal(),b=bf,c=a.projection;a.projection=function(a){return arguments.length?c(pg(b=a)):b};return a};s.svg.symbol=function(){function a(h,e){return(yf.get(b.call(this,
h,e))||cf)(c.call(this,h,e))}var b=rg,c=qg;a.type=function(c){if(!arguments.length)return b;b=S(c);return a};a.size=function(b){if(!arguments.length)return c;c=S(b);return a};return a};var yf=s.map({circle:cf,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*zf));var b=a*zf;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+
-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/Cd);var b=a*Cd/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Cd);var b=a*Cd/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});s.svg.symbolTypes=yf.keys();var Cd=Math.sqrt(3),zf=Math.tan(30*Q),ra=[],of=0,Ec,rd={ease:function(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,c=b*a;return 4*(0.5>a?c:3*(a-b)+c-0.75)},delay:0,duration:250};ra.call=ba.call;ra.empty=ba.empty;ra.node=
ba.node;s.transition=function(a){return arguments.length?Ec?a.transition():a:nf.transition()};s.transition.prototype=ra;ra.select=function(a){var b=this.id,c=[],h,e,l;"function"!==typeof a&&(a=v(a));for(var d=-1,n=this.length;++d<n;){c.push(h=[]);for(var g=this[d],f=-1,k=g.length;++f<k;)(l=g[f])&&(e=a.call(l,l.__data__,f))?("__data__"in l&&(e.__data__=l.__data__),md(e,f,b,l.__transition__[b]),h.push(e)):h.push(null)}return Dc(c,b)};ra.selectAll=function(a){var b=this.id,c=[],h,e,l,d;"function"!==
typeof a&&(a=M(a));for(var n=-1,g=this.length;++n<g;)for(var f=this[n],k=-1,t=f.length;++k<t;)if(h=f[k]){d=h.__transition__[b];e=a.call(h,h.__data__,k);c.push(h=[]);for(var p=-1,q=e.length;++p<q;)md(l=e[p],p,b,d),h.push(l)}return Dc(c,b)};ra.filter=function(a){var b=[],c,h,e;"function"!==typeof a&&(a=ea(a));for(var l=0,d=this.length;l<d;l++){b.push(c=[]);h=this[l];for(var n=0,g=h.length;n<g;n++)(e=h[n])&&a.call(e,e.__data__,n)&&c.push(e)}return Dc(b,this.id,this.time).ease(this.ease())};ra.tween=
function(a,b){var c=this.id;return 2>arguments.length?this.node().__transition__[c].tween.get(a):ja(this,null==b?function(b){b.__transition__[c].tween.remove(a)}:function(h){h.__transition__[c].tween.set(a,b)})};ra.attr=function(a,b){function c(){this.removeAttribute(n)}function h(){this.removeAttributeNS(n.space,n.local)}function e(a){return null==a?c:(a+="",function(){var b=this.getAttribute(n),c;return b!==a&&(c=d(b,a),function(a){this.setAttribute(n,c(a))})})}function l(a){return null==a?h:(a+=
"",function(){var b=this.getAttributeNS(n.space,n.local),c;return b!==a&&(c=d(b,a),function(a){this.setAttributeNS(n.space,n.local,c(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var d="transform"==a?Na:$a,n=s.ns.qualify(a);return de(this,"attr."+a,b,n.local?l:e)};ra.attrTween=function(a,b){function c(a,h){var l=b.call(this,a,h,this.getAttribute(e));return l&&function(a){this.setAttribute(e,l(a))}}function h(a,c){var l=b.call(this,a,c,this.getAttributeNS(e.space,e.local));
return l&&function(a){this.setAttributeNS(e.space,e.local,l(a))}}var e=s.ns.qualify(a);return this.tween("attr."+a,e.local?h:c)};ra.style=function(a,b,c){function h(){this.style.removeProperty(a)}var e=arguments.length;if(3>e){if("string"!==typeof a){2>e&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}var l="transform"==a?Na:$a;return de(this,"style."+a,b,function(b){return null==b?h:(b+="",function(){var h=xa.getComputedStyle(this,null).getPropertyValue(a),e;return h!==b&&(e=l(h,b),function(b){this.style.setProperty(a,
e(b),c)})})})};ra.styleTween=function(a,b,c){3>arguments.length&&(c="");return this.tween("style."+a,function(h,e){var l=b.call(this,h,e,xa.getComputedStyle(this,null).getPropertyValue(a));return l&&function(b){this.style.setProperty(a,l(b),c)}})};ra.text=function(a){return de(this,"text",a,sg)};ra.remove=function(){return this.each("end.transition",function(){var a;!this.__transition__&&(a=this.parentNode)&&a.removeChild(this)})};ra.ease=function(a){var b=this.id;if(1>arguments.length)return this.node().__transition__[b].ease;
"function"!==typeof a&&(a=s.ease.apply(s,arguments));return ja(this,function(c){c.__transition__[b].ease=a})};ra.delay=function(a){var b=this.id;return ja(this,"function"===typeof a?function(c,h,e){c.__transition__[b].delay=a.call(c,c.__data__,h,e)|0}:(a|=0,function(c){c.__transition__[b].delay=a}))};ra.duration=function(a){var b=this.id;return ja(this,"function"===typeof a?function(c,h,e){c.__transition__[b].duration=Math.max(1,a.call(c,c.__data__,h,e)|0)}:(a=Math.max(1,a|0),function(c){c.__transition__[b].duration=
a}))};ra.each=function(a,b){var c=this.id;if(2>arguments.length){var h=rd,e=Ec;Ec=c;ja(this,function(b,h,e){rd=b.__transition__[c];a.call(b,b.__data__,h,e)});rd=h;Ec=e}else ja(this,function(h){h.__transition__[c].event.on(a,b)});return this};ra.transition=function(){for(var a=this.id,b=++of,c=[],h,e,l,d,n=0,g=this.length;n<g;n++){c.push(h=[]);e=this[n];for(var f=0,k=e.length;f<k;f++){if(l=e[f])d=Object.create(l.__transition__[a]),d.delay+=d.duration,md(l,f,b,d);h.push(l)}}return Dc(c,b)};s.svg.axis=
function(){function a(t){t.each(function(){var a=s.select(this),t=null==g?b.ticks?b.ticks.apply(b,n):b.domain():g,p=null==f?b.tickFormat?b.tickFormat.apply(b,n):String:f,r=tg(b,t,k),q=a.selectAll(".tick.minor").data(r,String),r=q.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1E-6),u=s.transition(q.exit()).style("opacity",1E-6).remove(),q=s.transition(q).style("opacity",1),m=a.selectAll(".tick.major").data(t,String),t=m.enter().insert("g","path").attr("class","tick major").style("opacity",
1E-6),v=s.transition(m.exit()).style("opacity",1E-6).remove(),E=s.transition(m).style("opacity",1),D,x=id(b),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),s.transition(a)),A=b.copy(),C=this.__chart__||A;this.__chart__=A;t.append("line");t.append("text");var aa=t.select("line"),y=E.select("line"),p=m.select("text").text(p),m=t.select("text"),w=E.select("text");switch(c){case "bottom":D=df;r.attr("y2",e);q.attr("x2",0).attr("y2",e);aa.attr("y2",h);m.attr("y",
Math.max(h,0)+d);y.attr("x2",0).attr("y2",h);w.attr("x",0).attr("y",Math.max(h,0)+d);p.attr("dy",".71em").style("text-anchor","middle");a.attr("d","M"+x[0]+","+l+"V0H"+x[1]+"V"+l);break;case "top":D=df;r.attr("y2",-e);q.attr("x2",0).attr("y2",-e);aa.attr("y2",-h);m.attr("y",-(Math.max(h,0)+d));y.attr("x2",0).attr("y2",-h);w.attr("x",0).attr("y",-(Math.max(h,0)+d));p.attr("dy","0em").style("text-anchor","middle");a.attr("d","M"+x[0]+","+-l+"V0H"+x[1]+"V"+-l);break;case "left":D=ef;r.attr("x2",-e);
q.attr("x2",-e).attr("y2",0);aa.attr("x2",-h);m.attr("x",-(Math.max(h,0)+d));y.attr("x2",-h).attr("y2",0);w.attr("x",-(Math.max(h,0)+d)).attr("y",0);p.attr("dy",".32em").style("text-anchor","end");a.attr("d","M"+-l+","+x[0]+"H0V"+x[1]+"H"+-l);break;case "right":D=ef,r.attr("x2",e),q.attr("x2",e).attr("y2",0),aa.attr("x2",h),m.attr("x",Math.max(h,0)+d),y.attr("x2",h).attr("y2",0),w.attr("x",Math.max(h,0)+d).attr("y",0),p.attr("dy",".32em").style("text-anchor","start"),a.attr("d","M"+l+","+x[0]+"H0V"+
x[1]+"H"+l)}if(b.ticks)t.call(D,C),E.call(D,A),v.call(D,A),r.call(D,C),q.call(D,A),u.call(D,A);else{var Pa=A.rangeBand()/2,r=function(a){return A(a)+Pa};t.call(D,r);E.call(D,r)}})}var b=s.scale.linear(),c=Af,h=6,e=6,l=6,d=3,n=[10],g=null,f,k=0;a.scale=function(c){if(!arguments.length)return b;b=c;return a};a.orient=function(b){if(!arguments.length)return c;c=b in Tg?b+"":Af;return a};a.ticks=function(){if(!arguments.length)return n;n=arguments;return a};a.tickValues=function(b){if(!arguments.length)return g;
g=b;return a};a.tickFormat=function(b){if(!arguments.length)return f;f=b;return a};a.tickSize=function(b,c){if(!arguments.length)return h;var d=arguments.length-1;h=+b;e=1<d?+c:h;l=0<d?+arguments[d]:h;return a};a.tickPadding=function(b){if(!arguments.length)return d;d=+b;return a};a.tickSubdivide=function(b){if(!arguments.length)return k;k=+b;return a};return a};var Af="bottom",Tg={top:1,right:1,bottom:1,left:1};s.svg.brush=function(){function a(e){e.each(function(){var e=s.select(this),d=e.selectAll(".background").data([0]),
k=e.selectAll(".extent").data([0]),t=e.selectAll(".resize").data(f,String);e.style("pointer-events","all").on("mousedown.brush",l).on("touchstart.brush",l);d.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");k.enter().append("rect").attr("class","extent").style("cursor","move");t.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Ug[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?
-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");t.style("display",a.empty()?"none":null);t.exit().remove();n&&(k=id(n),d.attr("x",k[0]).attr("width",k[1]-k[0]),c(e));g&&(k=id(g),d.attr("y",k[0]).attr("height",k[1]-k[0]),h(e));b(e)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+k[+/e$/.test(a)][0]+","+k[+/^s/.test(a)][1]+")"})}function c(a){a.select(".extent").attr("x",k[0][0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",
k[1][0]-k[0][0])}function h(a){a.select(".extent").attr("y",k[0][1]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1][1]-k[0][1])}function l(){function f(){var a=s.event.changedTouches;return a?s.touches(m,a)[0]:s.mouse(m)}function p(){var a=f(),e=!1;Pa&&(a[0]+=Pa[0],a[1]+=Pa[1]);aa||(s.event.altKey?(y||(y=[(k[0][0]+k[1][0])/2,(k[0][1]+k[1][1])/2]),w[0]=k[+(a[0]<y[0])][0],w[1]=k[+(a[1]<y[1])][1]):y=null);A&&q(a,n,0)&&(c(D),e=!0);C&&q(a,g,1)&&(h(D),e=!0);e&&(b(D),E({type:"brush",mode:aa?"move":
"resize"}))}function q(a,b,c){var h=id(b);b=h[0];var e=h[1],h=w[c],l=k[1][c]-k[0][c];aa&&(b-=h,e-=l+h);a=Math.max(b,Math.min(e,a[c]));aa?b=(a+=h)+l:(y&&(h=Math.max(b,Math.min(e,2*y[c]-a))),h<a?(b=a,a=h):b=h);if(k[0][c]!==a||k[1][c]!==b)return t=null,k[0][c]=a,k[1][c]=b,!0}function u(){p();D.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);s.select("body").style("cursor",null);M.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",
null).on("keydown.brush",null).on("keyup.brush",null);E({type:"brushend"});e()}var m=this,v=s.select(s.event.target),E=d.of(m,arguments),D=s.select(m),x=v.datum(),A=!/^(n|s)$/.test(x)&&n,C=!/^(e|w)$/.test(x)&&g,aa=v.classed("extent"),y,w=f(),Pa,M=s.select(xa).on("mousemove.brush",p).on("mouseup.brush",u).on("touchmove.brush",p).on("touchend.brush",u).on("keydown.brush",function(){32==s.event.keyCode&&(aa||(y=null,w[0]-=k[1][0],w[1]-=k[1][1],aa=2),e())}).on("keyup.brush",function(){32==s.event.keyCode&&
2==aa&&(w[0]+=k[1][0],w[1]+=k[1][1],aa=0,e())});if(aa)w[0]=k[0][0]-w[0],w[1]=k[0][1]-w[1];else if(x){var X=+/w$/.test(x),x=+/^n/.test(x);Pa=[k[1-X][0]-w[0],k[1-x][1]-w[1]];w[0]=k[X][0];w[1]=k[x][1]}else s.event.altKey&&(y=w.slice());D.style("pointer-events","none").selectAll(".resize").style("display",null);s.select("body").style("cursor",v.style("cursor"));E({type:"brushstart"});p();e()}var d=K(a,"brushstart","brush","brushend"),n=null,g=null,f=oe[0],k=[[0,0],[0,0]],t;a.x=function(b){if(!arguments.length)return n;
n=b;f=oe[!n<<1|!g];return a};a.y=function(b){if(!arguments.length)return g;g=b;f=oe[!n<<1|!g];return a};a.extent=function(b){var c,h,e,l,d;if(!arguments.length)return b=t||k,n&&(c=b[0][0],h=b[1][0],t||(c=k[0][0],h=k[1][0],n.invert&&(c=n.invert(c),h=n.invert(h)),h<c&&(d=c,c=h,h=d))),g&&(e=b[0][1],l=b[1][1],t||(e=k[0][1],l=k[1][1],g.invert&&(e=g.invert(e),l=g.invert(l)),l<e&&(d=e,e=l,l=d))),n&&g?[[c,e],[h,l]]:n?[c,h]:g&&[e,l];t=[[0,0],[0,0]];n&&(c=b[0],h=b[1],g&&(c=c[0],h=h[0]),t[0][0]=c,t[1][0]=h,
n.invert&&(c=n(c),h=n(h)),h<c&&(d=c,c=h,h=d),k[0][0]=c|0,k[1][0]=h|0);g&&(e=b[0],l=b[1],n&&(e=e[1],l=l[1]),t[0][1]=e,t[1][1]=l,g.invert&&(e=g(e),l=g(l)),l<e&&(d=e,e=l,l=d),k[0][1]=e|0,k[1][1]=l|0);return a};a.clear=function(){t=null;k[0][0]=k[0][1]=k[1][0]=k[1][1]=0;return a};a.empty=function(){return n&&k[0][0]===k[1][0]||g&&k[0][1]===k[1][1]};return s.rebind(a,d,"on")};var Ug={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},
oe=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]];s.time={};var Fa=Date;Nb.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},
getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){mb.setUTCDate.apply(this._,arguments)},setDay:function(){mb.setUTCDay.apply(this._,arguments)},setFullYear:function(){mb.setUTCFullYear.apply(this._,arguments)},setHours:function(){mb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){mb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){mb.setUTCMinutes.apply(this._,arguments)},
setMonth:function(){mb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){mb.setUTCSeconds.apply(this._,arguments)},setTime:function(){mb.setTime.apply(this._,arguments)}};var mb=Date.prototype,Bf="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Cf="Sun Mon Tue Wed Thu Fri Sat".split(" "),pe="January February March April May June July August September October November December".split(" "),qe="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");s.time.year=Ob(function(a){a=
s.time.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});s.time.years=s.time.year.range;s.time.years.utc=s.time.year.utc.range;s.time.day=Ob(function(a){var b=new Fa(1970,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});s.time.days=s.time.day.range;s.time.days.utc=s.time.day.utc.range;s.time.dayOfYear=function(a){var b=s.time.year(a);return Math.floor((a-
b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ").forEach(function(a,b){a=a.toLowerCase();b=7-b;var c=s.time[a]=Ob(function(a){(a=s.time.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=s.time.year(a).getDay();return Math.floor((s.time.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});s.time[a+"s"]=c.range;s.time[a+"s"].utc=c.utc.range;s.time[a+"OfYear"]=
function(a){var c=s.time.year(a).getDay();return Math.floor((s.time.dayOfYear(a)+(c+b)%7)/7)}});s.time.week=s.time.sunday;s.time.weeks=s.time.sunday.range;s.time.weeks.utc=s.time.sunday.utc.range;s.time.weekOfYear=s.time.sundayOfYear;s.time.format=function(a){function b(h){for(var e=[],l=-1,d=0,n,g;++l<c;)if(37===a.charCodeAt(l)){e.push(a.substring(d,l));null!=(n=Vg[d=a.charAt(++l)])&&(d=a.charAt(++l));if(g=Dd[d])d=g(h,null==n?"e"===d?" ":"0":n);e.push(d);d=l+1}e.push(a.substring(d,l));return e.join("")}
var c=a.length;b.parse=function(b){var c={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(od(c,a,b,0)!=b.length)return null;"p"in c&&(c.H=c.H%12+12*c.p);b=new Fa;b.setFullYear(c.y,c.m,c.d);b.setHours(c.H,c.M,c.S,c.L);return b};b.toString=function(){return a};return b};var Df=pd(Bf),Ef=pd(Cf),Ff=pd(pe),Wg=ff(pe),Gf=pd(qe),Xg=ff(qe),Vg={"-":"",_:" ",0:"0"},Dd={a:function(a){return Cf[a.getDay()]},A:function(a){return Bf[a.getDay()]},b:function(a){return qe[a.getMonth()]},B:function(a){return pe[a.getMonth()]},c:s.time.format("%a %b %e %X %Y"),
d:function(a,b){return Qa(a.getDate(),b,2)},e:function(a,b){return Qa(a.getDate(),b,2)},H:function(a,b){return Qa(a.getHours(),b,2)},I:function(a,b){return Qa(a.getHours()%12||12,b,2)},j:function(a,b){return Qa(1+s.time.dayOfYear(a),b,3)},L:function(a,b){return Qa(a.getMilliseconds(),b,3)},m:function(a,b){return Qa(a.getMonth()+1,b,2)},M:function(a,b){return Qa(a.getMinutes(),b,2)},p:function(a){return 12<=a.getHours()?"PM":"AM"},S:function(a,b){return Qa(a.getSeconds(),b,2)},U:function(a,b){return Qa(s.time.sundayOfYear(a),
b,2)},w:function(a){return a.getDay()},W:function(a,b){return Qa(s.time.mondayOfYear(a),b,2)},x:s.time.format("%m/%d/%Y"),X:s.time.format("%H:%M:%S"),y:function(a,b){return Qa(a.getFullYear()%100,b,2)},Y:function(a,b){return Qa(a.getFullYear()%1E4,b,4)},Z:function(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var c=~~(Math.abs(b)/60),b=Math.abs(b)%60;return a+Qa(c,"0",2)+Qa(b,"0",2)},"%":function(){return"%"}},ug={a:function(a,b,c){Ef.lastIndex=0;return(a=Ef.exec(b.substring(c)))?c+a[0].length:-1},
A:function(a,b,c){Df.lastIndex=0;return(a=Df.exec(b.substring(c)))?c+a[0].length:-1},b:function(a,b,c){Gf.lastIndex=0;return(b=Gf.exec(b.substring(c)))?(a.m=Xg.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){Ff.lastIndex=0;return(b=Ff.exec(b.substring(c)))?(a.m=Wg.get(b[0].toLowerCase()),c+b[0].length):-1},c:function(a,b,c){return od(a,Dd.c.toString(),b,c)},d:gf,e:gf,H:hf,I:hf,L:function(a,b,c){Ga.lastIndex=0;return(b=Ga.exec(b.substring(c,c+3)))?(a.L=+b[0],c+b[0].length):-1},m:function(a,
b,c){Ga.lastIndex=0;return(b=Ga.exec(b.substring(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1},M:function(a,b,c){Ga.lastIndex=0;return(b=Ga.exec(b.substring(c,c+2)))?(a.M=+b[0],c+b[0].length):-1},p:function(a,b,c){b=Yg.get(b.substring(c,c+=2).toLowerCase());return null==b?-1:(a.p=b,c)},S:function(a,b,c){Ga.lastIndex=0;return(b=Ga.exec(b.substring(c,c+2)))?(a.S=+b[0],c+b[0].length):-1},x:function(a,b,c){return od(a,Dd.x.toString(),b,c)},X:function(a,b,c){return od(a,Dd.X.toString(),b,c)},y:function(a,b,
c){Ga.lastIndex=0;return(b=Ga.exec(b.substring(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1},Y:function(a,b,c){Ga.lastIndex=0;return(b=Ga.exec(b.substring(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}},Ga=/^\s*\d+/,Yg=s.map({am:0,pm:1});s.time.format.utc=function(a){function b(a){try{Fa=Nb;var h=new Fa;h._=a;return c(h)}finally{Fa=Date}}var c=s.time.format(a);b.parse=function(a){try{Fa=Nb;var b=c.parse(a);return b&&b._}finally{Fa=Date}};b.toString=c.toString;return b};var Hf=s.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");
s.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ee:Hf;ee.parse=function(a){a=new Date(a);return isNaN(a)?null:a};ee.toString=Hf.toString;s.time.second=Ob(function(a){return new Fa(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});s.time.seconds=s.time.second.range;s.time.seconds.utc=s.time.second.utc.range;s.time.minute=Ob(function(a){return new Fa(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+
6E4*Math.floor(b))},function(a){return a.getMinutes()});s.time.minutes=s.time.minute.range;s.time.minutes.utc=s.time.minute.utc.range;s.time.hour=Ob(function(a){var b=a.getTimezoneOffset()/60;return new Fa(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});s.time.hours=s.time.hour.range;s.time.hours.utc=s.time.hour.utc.range;s.time.month=Ob(function(a){a=s.time.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+
b)},function(a){return a.getMonth()});s.time.months=s.time.month.range;s.time.months.utc=s.time.month.utc.range;var qd=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],re=[[s.time.second,1],[s.time.second,5],[s.time.second,15],[s.time.second,30],[s.time.minute,1],[s.time.minute,5],[s.time.minute,15],[s.time.minute,30],[s.time.hour,1],[s.time.hour,3],[s.time.hour,6],[s.time.hour,12],[s.time.day,1],[s.time.day,2],[s.time.week,1],[s.time.month,1],[s.time.month,
3],[s.time.year,1]],Zg=[[s.time.format("%Y"),Ia],[s.time.format("%B"),function(a){return a.getMonth()}],[s.time.format("%b %d"),function(a){return 1!=a.getDate()}],[s.time.format("%a %d"),function(a){return a.getDay()&&1!=a.getDate()}],[s.time.format("%I %p"),function(a){return a.getHours()}],[s.time.format("%I:%M"),function(a){return a.getMinutes()}],[s.time.format(":%S"),function(a){return a.getSeconds()}],[s.time.format(".%L"),function(a){return a.getMilliseconds()}]],If=s.scale.linear(),$g=jf(Zg);
re.year=function(a,b){return If.domain(a.map(vg)).ticks(b).map(he)};s.time.scale=function(){return fe(s.scale.linear(),re,$g)};var Jf=re.map(function(a){return[a[0].utc,a[1]]}),ah=[[s.time.format.utc("%Y"),Ia],[s.time.format.utc("%B"),function(a){return a.getUTCMonth()}],[s.time.format.utc("%b %d"),function(a){return 1!=a.getUTCDate()}],[s.time.format.utc("%a %d"),function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],[s.time.format.utc("%I %p"),function(a){return a.getUTCHours()}],[s.time.format.utc("%I:%M"),
function(a){return a.getUTCMinutes()}],[s.time.format.utc(":%S"),function(a){return a.getUTCSeconds()}],[s.time.format.utc(".%L"),function(a){return a.getUTCMilliseconds()}]],bh=jf(ah);Jf.year=function(a,b){return If.domain(a.map(wg)).ticks(b).map(ie)};s.time.scale.utc=function(){return fe(s.scale.linear(),Jf,bh)};s.text=g(function(a){return a.responseText});s.json=function(a,b){return hb(a,"application/json",xg,b)};s.html=function(a,b){return hb(a,"text/html",yg,b)};s.xml=g(function(a){return a.responseXML});
return s}();(function(d,f){function m(a){var b=a.length,c=g.type(a);return g.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"===typeof b&&0<b&&b-1 in a)}function k(a){var b=zb[a]={};g.each(a.match(Ha)||[],function(a,c){b[c]=!0});return b}function c(a,b,c,e){if(g.acceptData(a)){var d=g.expando,k=a.nodeType,p=k?g.cache:a,q=k?a[d]:a[d]&&d;if(q&&p[q]&&(e||p[q].data)||c!==f||"string"!==typeof b){q||(q=k?a[d]=ka.pop()||g.guid++:d);p[q]||(p[q]=k?{}:{toJSON:g.noop});if("object"===typeof b||
"function"===typeof b)e?p[q]=g.extend(p[q],b):p[q].data=g.extend(p[q].data,b);a=p[q];e||(a.data||(a.data={}),a=a.data);c!==f&&(a[g.camelCase(b)]=c);"string"===typeof b?(c=a[b],null==c&&(c=a[g.camelCase(b)])):c=a;return c}}}function y(a,c,e){if(g.acceptData(a)){var d,f,k=a.nodeType,p=k?g.cache:a,q=k?a[g.expando]:g.expando;if(p[q]){if(c&&(d=e?p[q]:p[q].data)){g.isArray(c)?c=c.concat(g.map(c,g.camelCase)):c in d?c=[c]:(c=g.camelCase(c),c=c in d?[c]:c.split(" "));for(f=c.length;f--;)delete d[c[f]];if(e?
!b(d):!g.isEmptyObject(d))return}if(!e&&(delete p[q].data,!b(p[q])))return;k?g.cleanData([a],!0):g.support.deleteExpando||p!=p.window?delete p[q]:p[q]=null}}}function a(a,b,c){if(c===f&&1===a.nodeType)if(c="data-"+b.replace(Ub,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:kc.test(c)?g.parseJSON(c):c}catch(e){}g.data(a,b,c)}else c=f;return c}function b(a){for(var b in a)if(("data"!==b||!g.isEmptyObject(a[b]))&&"toJSON"!==
b)return!1;return!0}function e(){return!0}function p(){return!1}function q(){try{return J.activeElement}catch(a){}}function K(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function B(a,b,c){if(g.isFunction(b))return g.grep(a,function(a,h){return!!b.call(a,h,a)!==c});if(b.nodeType)return g.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(Nd.test(b))return g.filter(b,a,c);b=g.filter(b,a)}return g.grep(a,function(a){return 0<=g.inArray(a,b)!==c})}function N(a){var b=pc.split("|");
a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function F(a,b){return g.nodeName(a,"table")&&g.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function v(a){a.type=(null!==g.find.attr(a,"type"))+"/"+a.type;return a}function M(a){var b=Vc.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function I(a,b){for(var c,e=0;null!=(c=a[e]);e++)g._data(c,"globalEval",
!b||g._data(b[e],"globalEval"))}function C(a,b){if(1===b.nodeType&&g.hasData(a)){var c,e,d;e=g._data(a);var f=g._data(b,e),k=e.events;if(k)for(c in delete f.handle,f.events={},k)for(e=0,d=k[c].length;e<d;e++)g.event.add(b,c,k[c][e]);f.data&&(f.data=g.extend({},f.data))}}function R(a,b){var c,e,d=0,k=typeof a.getElementsByTagName!==fa?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==fa?a.querySelectorAll(b||"*"):f;if(!k)for(k=[],c=a.childNodes||a;null!=(e=c[d]);d++)!b||g.nodeName(e,b)?k.push(e):
g.merge(k,R(e,b));return b===f||b&&g.nodeName(a,b)?g.merge([a],k):k}function H(a){Yb.test(a.type)&&(a.defaultChecked=a.checked)}function w(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),e=b,d=Hb.length;d--;)if(b=Hb[d]+c,b in a)return b;return e}function W(a,b){a=b||a;return"none"===g.css(a,"display")||!g.contains(a.ownerDocument,a)}function Aa(a,b){for(var c,e,d,f=[],k=0,p=a.length;k<p;k++)e=a[k],e.style&&(f[k]=g._data(e,"olddisplay"),c=e.style.display,b?(f[k]||"none"!==c||
(e.style.display=""),""===e.style.display&&W(e)&&(f[k]=g._data(e,"olddisplay",Ta(e.nodeName)))):f[k]||(d=W(e),(c&&"none"!==c||!d)&&g._data(e,"olddisplay",d?c:g.css(e,"display"))));for(k=0;k<p;k++)e=a[k],!e.style||b&&"none"!==e.style.display&&""!==e.style.display||(e.style.display=b?f[k]||"":"none");return a}function ea(a,b,c){return(a=Zc.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function ca(a,b,c,e,d){b=c===(e?"border":"content")?4:"width"===b?1:0;for(var f=0;4>b;b+=2)"margin"===c&&(f+=g.css(a,
c+Ja[b],!0,d)),e?("content"===c&&(f-=g.css(a,"padding"+Ja[b],!0,d)),"margin"!==c&&(f-=g.css(a,"border"+Ja[b]+"Width",!0,d))):(f+=g.css(a,"padding"+Ja[b],!0,d),"padding"!==c&&(f+=g.css(a,"border"+Ja[b]+"Width",!0,d)));return f}function U(a,b,c){var e=!0,d="width"===b?a.offsetWidth:a.offsetHeight,f=Va(a),k=g.support.boxSizing&&"border-box"===g.css(a,"boxSizing",!1,f);if(0>=d||null==d){d=Ya(a,b,f);if(0>d||null==d)d=a.style[b];if(Zb.test(d))return d;e=k&&(g.support.boxSizingReliable||d===a.style[b]);
d=parseFloat(d)||0}return d+ca(a,b,c||(k?"border":"content"),e,f)+"px"}function Ta(a){var b=J,c=$c[a];c||(c=Ba(a,b),"none"!==c&&c||(Fb=(Fb||g("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(Fb[0].contentWindow||Fb[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=Ba(a,b),Fb.detach()),$c[a]=c);return c}function Ba(a,b){var c=g(b.createElement(a)).appendTo(b.body),e=g.css(c[0],"display");c.remove();
return e}function Ca(a,b,c,e){var d;if(g.isArray(b))g.each(b,function(b,l){c||vc.test(a)?e(a,l):Ca(a+"["+("object"===typeof l?b:"")+"]",l,c,e)});else if(c||"object"!==g.type(b))e(a,b);else for(d in b)Ca(a+"["+d+"]",b[d],c,e)}function ja(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var e,d=0,f=b.toLowerCase().match(Ha)||[];if(g.isFunction(c))for(;e=f[d++];)"+"===e[0]?(e=e.slice(1)||"*",(a[e]=a[e]||[]).unshift(c)):(a[e]=a[e]||[]).push(c)}}function Y(a,b,c,e){function d(p){var q;f[p]=!0;
g.each(a[p]||[],function(a,h){var g=h(b,c,e);if("string"===typeof g&&!k&&!f[g])return b.dataTypes.unshift(g),d(g),!1;if(k)return!(q=g)});return q}var f={},k=a===Kb;return d(b.dataTypes[0])||!f["*"]&&d("*")}function x(a,b){var c,e,d=g.ajaxSettings.flatOptions||{};for(e in b)b[e]!==f&&((d[e]?a:c||(c={}))[e]=b[e]);c&&g.extend(!0,a,c);return a}function X(){try{return new d.XMLHttpRequest}catch(a){}}function T(){setTimeout(function(){Na=f});return Na=g.now()}function u(a,b,c){for(var e,d=(sb[b]||[]).concat(sb["*"]),
g=0,f=d.length;g<f;g++)if(e=d[g].call(c,b,a))return e}function A(a,b,c){var e,d=0,f=bc.length,k=g.Deferred().always(function(){delete p.elem}),p=function(){if(e)return!1;for(var b=Na||T(),b=Math.max(0,q.startTime+q.duration-b),c=1-(b/q.duration||0),l=0,d=q.tweens.length;l<d;l++)q.tweens[l].run(c);k.notifyWith(a,[q,c,b]);if(1>c&&d)return b;k.resolveWith(a,[q]);return!1},q=k.promise({elem:a,props:g.extend({},b),opts:g.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Na||
T(),duration:c.duration,tweens:[],createTween:function(b,c){var e=g.Tween(a,q.opts,b,c,q.opts.specialEasing[b]||q.opts.easing);q.tweens.push(e);return e},stop:function(b){var c=0,l=b?q.tweens.length:0;if(e)return this;for(e=!0;c<l;c++)q.tweens[c].run(1);b?k.resolveWith(a,[q,b]):k.rejectWith(a,[q,b]);return this}});c=q.props;for(sa(c,q.opts.specialEasing);d<f;d++)if(b=bc[d].call(q,a,c,q.opts))return b;g.map(c,u,q);g.isFunction(q.opts.start)&&q.opts.start.call(a,q);g.fx.timer(g.extend(p,{elem:a,anim:q,
queue:q.opts.queue}));return q.progress(q.opts.progress).done(q.opts.done,q.opts.complete).fail(q.opts.fail).always(q.opts.always)}function sa(a,b){var c,e,d,f,k;for(c in a)if(e=g.camelCase(c),d=b[e],f=a[c],g.isArray(f)&&(d=f[1],f=a[c]=f[0]),c!==e&&(a[e]=f,delete a[c]),(k=g.cssHooks[e])&&"expand"in k)for(c in f=k.expand(f),delete a[e],f)c in a||(a[c]=f[c],b[c]=d);else b[e]=d}function Z(a,b,c,e,d){return new Z.prototype.init(a,b,c,e,d)}function Da(a,b){var c,e={height:a},d=0;for(b=b?1:0;4>d;d+=2-b)c=
Ja[d],e["margin"+c]=e["padding"+c]=a;b&&(e.opacity=e.width=a);return e}function ib(a){return g.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ta,pa,fa=typeof f,Pb=d.location,J=d.document,jb=J.documentElement,xb=d.jQuery,Ra=d.$,Sa={},ka=[],Qb=ka.concat,Rb=ka.push,Xa=ka.slice,Sb=ka.indexOf,ec=Sa.toString,S=Sa.hasOwnProperty,la="1.10.1".trim,g=function(a,b){return new g.fn.init(a,b,pa)},hb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ha=/\S+/g,Gc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
fc=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gc=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Hc=/^[\],:{}\s]*$/,hc=/(?:^|:|,)(?:\s*\[)+/g,Jd=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Tb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ic=/^-ms-/,Mc=/-([\da-z])/gi,Kd=function(a,b){return b.toUpperCase()},ya=function(a){if(J.addEventListener||"load"===a.type||"complete"===J.readyState)yb(),g.ready()},yb=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",ya,!1),d.removeEventListener("load",
ya,!1)):(J.detachEvent("onreadystatechange",ya),d.detachEvent("onload",ya))};g.fn=g.prototype={jquery:"1.10.1",constructor:g,init:function(a,b,c){var e;if(!a)return this;if("string"===typeof a){e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:fc.exec(a);if(!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof g?b[0]:b,g.merge(this,g.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:J,!0)),gc.test(e[1])&&g.isPlainObject(b))for(e in b)if(g.isFunction(this[e]))this[e](b[e]);
else this.attr(e,b[e])}else{if((b=J.getElementById(e[2]))&&b.parentNode){if(b.id!==e[2])return c.find(a);this.length=1;this[0]=b}this.context=J;this.selector=a}return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(g.isFunction(a))return c.ready(a);a.selector!==f&&(this.selector=a.selector,this.context=a.context);return g.makeArray(a,this)},selector:"",length:0,toArray:function(){return Xa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},
pushStack:function(a){a=g.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return g.each(this,a,b)},ready:function(a){g.ready.promise().done(a);return this},slice:function(){return this.pushStack(Xa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},map:function(a){return this.pushStack(g.map(this,function(b,c){return a.call(b,
c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:Rb,sort:[].sort,splice:[].splice};g.fn.init.prototype=g.fn;g.extend=g.fn.extend=function(){var a,b,c,e,d,k=arguments[0]||{},p=1,q=arguments.length,u=!1;"boolean"===typeof k&&(u=k,k=arguments[1]||{},p=2);"object"===typeof k||g.isFunction(k)||(k={});q===p&&(k=this,--p);for(;p<q;p++)if(null!=(d=arguments[p]))for(e in d)a=k[e],c=d[e],k!==c&&(u&&c&&(g.isPlainObject(c)||(b=g.isArray(c)))?(b?(b=!1,a=a&&g.isArray(a)?a:[]):a=a&&g.isPlainObject(a)?
a:{},k[e]=g.extend(u,a,c)):c!==f&&(k[e]=c));return k};g.extend({expando:"jQuery"+("1.10.1"+Math.random()).replace(/\D/g,""),noConflict:function(a){d.$===g&&(d.$=Ra);a&&d.jQuery===g&&(d.jQuery=xb);return g},isReady:!1,readyWait:1,holdReady:function(a){a?g.readyWait++:g.ready(!0)},ready:function(a){if(!0===a?!--g.readyWait:!g.isReady){if(!J.body)return setTimeout(g.ready);g.isReady=!0;!0!==a&&0<--g.readyWait||(ta.resolveWith(J,[g]),g.fn.trigger&&g(J).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===
g.type(a)},isArray:Array.isArray||function(a){return"array"===g.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?Sa[ec.call(a)]||"object":typeof a},isPlainObject:function(a){var b;if(!a||"object"!==g.type(a)||a.nodeType||g.isWindow(a))return!1;try{if(a.constructor&&!S.call(a,"constructor")&&!S.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(g.support.ownLast)for(b in a)return S.call(a,
b);for(b in a);return b===f||S.call(a,b)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);b=b||J;var e=gc.exec(a);c=!c&&[];if(e)return[b.createElement(e[1])];e=g.buildFragment([a],b,c);c&&g(c).remove();return g.merge([],e.childNodes)},parseJSON:function(a){if(d.JSON&&d.JSON.parse)return d.JSON.parse(a);if(null===a)return a;if("string"===typeof a&&(a=g.trim(a))&&
Hc.test(a.replace(Jd,"@").replace(Tb,"]").replace(hc,"")))return(new Function("return "+a))();g.error("Invalid JSON: "+a)},parseXML:function(a){var b,c;if(!a||"string"!==typeof a)return null;try{d.DOMParser?(c=new DOMParser,b=c.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(e){b=f}b&&b.documentElement&&!b.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){a&&g.trim(a)&&
(d.execScript||function(a){d.eval.call(d,a)})(a)},camelCase:function(a){return a.replace(ic,"ms-").replace(Mc,Kd)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,d=0,g=a.length;e=m(a);if(c)if(e)for(;d<g&&(e=b.apply(a[d],c),!1!==e);d++);else for(d in a){if(e=b.apply(a[d],c),!1===e)break}else if(e)for(;d<g&&(e=b.call(a[d],d,a[d]),!1!==e);d++);else for(d in a)if(e=b.call(a[d],d,a[d]),!1===e)break;return a},trim:la&&!la.call("\ufeff\u00a0")?
function(a){return null==a?"":la.call(a)}:function(a){return null==a?"":(a+"").replace(Gc,"")},makeArray:function(a,b){var c=b||[];null!=a&&(m(Object(a))?g.merge(c,"string"===typeof a?[a]:a):Rb.call(c,a));return c},inArray:function(a,b,c){var e;if(b){if(Sb)return Sb.call(b,a,c);e=b.length;for(c=c?0>c?Math.max(0,e+c):c:0;c<e;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=b.length,e=a.length,d=0;if("number"===typeof c)for(;d<c;d++)a[e++]=b[d];else for(;b[d]!==f;)a[e++]=b[d++];
a.length=e;return a},grep:function(a,b,c){var e,d=[],g=0,f=a.length;for(c=!!c;g<f;g++)e=!!b(a[g],g),c!==e&&d.push(a[g]);return d},map:function(a,b,c){var e,d=0,g=a.length,f=[];if(m(a))for(;d<g;d++)e=b(a[d],d,c),null!=e&&(f[f.length]=e);else for(d in a)e=b(a[d],d,c),null!=e&&(f[f.length]=e);return Qb.apply([],f)},guid:1,proxy:function(a,b){var c,e;"string"===typeof b&&(e=a[b],b=a,a=e);if(!g.isFunction(a))return f;c=Xa.call(arguments,2);e=function(){return a.apply(b||this,c.concat(Xa.call(arguments)))};
e.guid=a.guid=a.guid||g.guid++;return e},access:function(a,b,c,e,d,k,p){var q=0,u=a.length,m=null==c;if("object"===g.type(c))for(q in d=!0,c)g.access(a,b,q,c[q],!0,k,p);else if(e!==f&&(d=!0,g.isFunction(e)||(p=!0),m&&(p?(b.call(a,e),b=null):(m=b,b=function(a,b,c){return m.call(g(a),c)})),b))for(;q<u;q++)b(a[q],c,p?e:e.call(a[q],q,b(a[q],c)));return d?a:m?b.call(a):u?b(a[0],c):k},now:function(){return(new Date).getTime()},swap:function(a,b,c,e){var d,g={};for(d in b)g[d]=a.style[d],a.style[d]=b[d];
c=c.apply(a,e||[]);for(d in b)a.style[d]=g[d];return c}});g.ready.promise=function(a){if(!ta)if(ta=g.Deferred(),"complete"===J.readyState)setTimeout(g.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",ya,!1),d.addEventListener("load",ya,!1);else{J.attachEvent("onreadystatechange",ya);d.attachEvent("onload",ya);var b=!1;try{b=null==d.frameElement&&J.documentElement}catch(c){}b&&b.doScroll&&function E(){if(!g.isReady){try{b.doScroll("left")}catch(a){return setTimeout(E,50)}yb();
g.ready()}}()}return ta.promise(a)};g.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){Sa["[object "+b+"]"]=b.toLowerCase()});pa=g(J);(function(a,b){function c(a,b,e,h){var d,l,g,n,f;(b?b.ownerDocument||b:ea)!==J&&F(b);b=b||J;e=e||[];if(!a||"string"!==typeof a)return e;if(1!==(n=b.nodeType)&&9!==n)return[];if(fa&&!h){if(d=$a.exec(a))if(g=d[1])if(9===n)if((l=b.getElementById(g))&&l.parentNode){if(l.id===g)return e.push(l),e}else return e;else{if(b.ownerDocument&&
(l=b.ownerDocument.getElementById(g))&&ja(b,l)&&l.id===g)return e.push(l),e}else{if(d[2])return Oa.apply(e,b.getElementsByTagName(a)),e;if((g=d[3])&&B.getElementsByClassName&&b.getElementsByClassName)return Oa.apply(e,b.getElementsByClassName(g)),e}if(B.qsa&&(!pa||!pa.test(a))){l=d=Y;g=b;f=9===n&&a;if(1===n&&"object"!==b.nodeName.toLowerCase()){n=w(a);(d=b.getAttribute("id"))?l=d.replace(hb,"\\$&"):b.setAttribute("id",l);l="[id='"+l+"'] ";for(g=n.length;g--;)n[g]=l+y(n[g]);g=Na.test(a)&&b.parentNode||
b;f=n.join(",")}if(f)try{return Oa.apply(e,g.querySelectorAll(f)),e}catch(k){}finally{d||b.removeAttribute("id")}}}var p;a:{a=a.replace(Ea,"$1");l=w(a);if(!h&&1===l.length){d=l[0]=l[0].slice(0);if(2<d.length&&"ID"===(p=d[0]).type&&B.getById&&9===b.nodeType&&fa&&H.relative[d[1].type]){b=(H.find.ID(p.matches[0].replace(fb,gb),b)||[])[0];if(!b){p=e;break a}a=a.slice(d.shift().value.length)}for(n=Ja.needsContext.test(a)?0:d.length;n--;){p=d[n];if(H.relative[g=p.type])break;if(g=H.find[g])if(h=g(p.matches[0].replace(fb,
gb),Na.test(d[0].type)&&b.parentNode||b)){d.splice(n,1);a=h.length&&y(d);if(!a){Oa.apply(e,h);p=e;break a}break}}}Aa(a,l)(h,b,!fa,e,Na.test(a));p=e}return p}function e(a){return Za.test(a+"")}function d(){function a(c,e){b.push(c+=" ")>H.cacheLength&&delete a[b.shift()];return a[c]=e}var b=[];return a}function f(a){a[Y]=!0;return a}function k(a){var b=J.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function p(a,b,c){a=a.split("|");var e,
h=a.length;for(c=c?null:b;h--;)(e=H.attrHandle[a[h]])&&e!==b||(H.attrHandle[a[h]]=c)}function q(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:!0===a[b]?b.toLowerCase():null}function u(a,b){return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}function m(a){if("input"===a.nodeName.toLowerCase())return a.defaultValue}function v(a,b){var c=b&&a,e=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||ya)-(~a.sourceIndex||ya);if(e)return e;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?
1:-1}function x(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function A(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function C(a){return f(function(b){b=+b;return f(function(c,e){for(var h,d=a([],c.length,b),l=d.length;l--;)c[h=d[l]]&&(c[h]=!(e[h]=c[h]))})})}function w(a,b){var e,h,d,l,g,f,k;if(g=Ca[a+" "])return b?0:g.slice(0);g=a;f=[];for(k=H.preFilter;g;){if(!e||(h=Va.exec(g)))h&&(g=g.slice(h[0].length)||g),
f.push(d=[]);e=!1;if(h=Wa.exec(g))e=h.shift(),d.push({value:e,type:h[0].replace(Ea," ")}),g=g.slice(e.length);for(l in H.filter)!(h=Ja[l].exec(g))||k[l]&&!(h=k[l](h))||(e=h.shift(),d.push({value:e,type:l,matches:h}),g=g.slice(e.length));if(!e)break}return b?g.length:g?c.error(a):Ca(a,f).slice(0)}function y(a){for(var b=0,c=a.length,e="";b<c;b++)e+=a[b].value;return e}function M(a,b,c){var e=b.dir,h=c&&"parentNode"===e,d=ha++;return b.first?function(b,c,d){for(;b=b[e];)if(1===b.nodeType||h)return a(b,
c,d)}:function(b,c,l){var g,n,f,k=ca+" "+d;if(l)for(;b=b[e];){if((1===b.nodeType||h)&&a(b,c,l))return!0}else for(;b=b[e];)if(1===b.nodeType||h)if(f=b[Y]||(b[Y]={}),(n=f[e])&&n[0]===k){if(!0===(g=n[1])||g===N)return!0===g}else if(n=f[e]=[k],n[1]=a(b,c,l)||N,!0===n[1])return!0}}function X(a){return 1<a.length?function(b,c,e){for(var h=a.length;h--;)if(!a[h](b,c,e))return!1;return!0}:a[0]}function sa(a,b,c,e,h){for(var d,l=[],g=0,n=a.length,f=null!=b;g<n;g++)if(d=a[g])if(!c||c(d,e,h))l.push(d),f&&b.push(g);
return l}function K(a,b,e,h,d,l){h&&!h[Y]&&(h=K(h));d&&!d[Y]&&(d=K(d,l));return f(function(l,g,f,k){var p,q,t=[],u=[],m=g.length,v;if(!(v=l)){v=b||"*";for(var x=f.nodeType?[f]:f,E=[],D=0,A=x.length;D<A;D++)c(v,x[D],E);v=E}v=!a||!l&&b?v:sa(v,t,a,f,k);x=e?d||(l?a:m||h)?[]:g:v;e&&e(v,x,f,k);if(h)for(p=sa(x,u),h(p,[],f,k),f=p.length;f--;)if(q=p[f])x[u[f]]=!(v[u[f]]=q);if(l){if(d||a){if(d){p=[];for(f=x.length;f--;)(q=x[f])&&p.push(v[f]=q);d(null,x=[],p,k)}for(f=x.length;f--;)(q=x[f])&&-1<(p=d?qa.call(l,
q):t[f])&&(l[p]=!(g[p]=q))}}else x=sa(x===g?x.splice(m,x.length):x),d?d(null,g,x,k):Oa.apply(g,x)})}function I(a){var b,c,e,h=a.length,d=H.relative[a[0].type];c=d||H.relative[" "];for(var l=d?1:0,g=M(function(a){return a===b},c,!0),n=M(function(a){return-1<qa.call(b,a)},c,!0),f=[function(a,c,e){return!d&&(e||c!==W)||((b=c).nodeType?g(a,c,e):n(a,c,e))}];l<h;l++)if(c=H.relative[a[l].type])f=[M(X(f),c)];else{c=H.filter[a[l].type].apply(null,a[l].matches);if(c[Y]){for(e=++l;e<h&&!H.relative[a[e].type];e++);
return K(1<l&&X(f),1<l&&y(a.slice(0,l-1).concat({value:" "===a[l-2].type?"*":""})).replace(Ea,"$1"),c,l<e&&I(a.slice(l,e)),e<h&&I(a=a.slice(e)),e<h&&y(a))}f.push(c)}return X(f)}function T(a,b){var e=0,h=0<b.length,d=0<a.length,l=function(l,g,f,k,p){var q,t,u=[],m=0,v="0",x=l&&[],E=null!=p,D=W,A=l||d&&H.find.TAG("*",p&&g.parentNode||g),C=ca+=null==D?1:Math.random()||0.1;E&&(W=g!==J&&g,N=e);for(;null!=(p=A[v]);v++){if(d&&p){for(q=0;t=a[q++];)if(t(p,g,f)){k.push(p);break}E&&(ca=C,N=++e)}h&&((p=!t&&p)&&
m--,l&&x.push(p))}m+=v;if(h&&v!==m){for(q=0;t=b[q++];)t(x,u,g,f);if(l){if(0<m)for(;v--;)x[v]||u[v]||(u[v]=Ia.call(k));u=sa(u)}Oa.apply(k,u);E&&!l&&0<u.length&&1<m+b.length&&c.uniqueSort(k)}E&&(ca=C,W=D);return x};return h?f(l):l}function Z(){}var R,B,N,H,Da,ib,Aa,W,ta,F,J,U,fa,pa,S,Ba,ja,Y="sizzle"+-new Date,ea=a.document,ca=0,ha=0,Ta=d(),Ca=d(),Ra=d(),Sa=!1,la=function(){return 0},oa=typeof b,ya=-2147483648,Pb={}.hasOwnProperty,ka=[],Ia=ka.pop,Ma=ka.push,Oa=ka.push,jb=ka.slice,qa=ka.indexOf||function(a){for(var b=
0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},Ka="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),La="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Ka+")|)|)[\\x20\\t\\r\\n\\f]*\\]",Ha=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+La.replace(3,8)+")*)|.*)\\)|)",Ea=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$",
"g"),Va=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Wa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Na=/[\x20\t\r\n\f]*[+~]/,xb=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*)[\\x20\\t\\r\\n\\f]*\\]","g"),Xa=RegExp(Ha),Ya=RegExp("^"+Ka+"$"),Ja={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+La),PSEUDO:RegExp("^"+Ha),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Za=/^[^{]+\{\s*\[native \w/,$a=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/^(?:input|select|textarea|button)$/i,eb=/^h\d$/i,hb=/'|\\/g,fb=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)",
"ig"),gb=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{Oa.apply(ka=jb.call(ea.childNodes),ea.childNodes),ka[ea.childNodes.length].nodeType}catch(kb){Oa={apply:ka.length?function(a,b){Ma.apply(a,jb.call(b))}:function(a,b){for(var c=a.length,e=0;a[c++]=b[e++];);a.length=c-1}}}ib=c.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};B=c.support={};F=c.setDocument=function(a){var b=
a?a.ownerDocument||a:ea;a=b.parentWindow;if(b===J||9!==b.nodeType||!b.documentElement)return J;J=b;U=b.documentElement;fa=!ib(b);a&&a.frameElement&&a.attachEvent("onbeforeunload",function(){F()});B.attributes=k(function(a){a.innerHTML="<a href='#'></a>";p("type|href|height|width",u,"#"===a.firstChild.getAttribute("href"));p("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",q,null==a.getAttribute("disabled"));a.className="i";
return!a.getAttribute("className")});B.input=k(function(a){a.innerHTML="<input>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")});p("value",m,B.attributes&&B.input);B.getElementsByTagName=k(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});B.getElementsByClassName=k(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});B.getById=
k(function(a){U.appendChild(a).id=Y;return!b.getElementsByName||!b.getElementsByName(Y).length});B.getById?(H.find.ID=function(a,b){if(typeof b.getElementById!==oa&&fa){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},H.filter.ID=function(a){var b=a.replace(fb,gb);return function(a){return a.getAttribute("id")===b}}):(delete H.find.ID,H.filter.ID=function(a){var b=a.replace(fb,gb);return function(a){return(a=typeof a.getAttributeNode!==oa&&a.getAttributeNode("id"))&&a.value===b}});H.find.TAG=
B.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==oa)return b.getElementsByTagName(a)}:function(a,b){var c,e=[],h=0,d=b.getElementsByTagName(a);if("*"===a){for(;c=d[h++];)1===c.nodeType&&e.push(c);return e}return d};H.find.CLASS=B.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==oa&&fa)return b.getElementsByClassName(a)};S=[];pa=[];if(B.qsa=e(b.querySelectorAll))k(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||
pa.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||pa.push(":checked")}),k(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("t","");a.querySelectorAll("[t^='']").length&&pa.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll(":enabled").length||pa.push(":enabled",":disabled");
a.querySelectorAll("*,:x");pa.push(",.*:")});(B.matchesSelector=e(Ba=U.webkitMatchesSelector||U.mozMatchesSelector||U.oMatchesSelector||U.msMatchesSelector))&&k(function(a){B.disconnectedMatch=Ba.call(a,"div");Ba.call(a,"[s!='']:x");S.push("!=",Ha)});pa=pa.length&&RegExp(pa.join("|"));S=S.length&&RegExp(S.join("|"));ja=e(U.contains)||U.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!!(e&&1===e.nodeType&&(c.contains?c.contains(e):a.compareDocumentPosition&&
a.compareDocumentPosition(e)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};B.sortDetached=k(function(a){return a.compareDocumentPosition(b.createElement("div"))&1});la=U.compareDocumentPosition?function(a,c){if(a===c)return Sa=!0,0;var e=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return e?e&1||!B.sortDetached&&c.compareDocumentPosition(a)===e?a===b||ja(ea,a)?-1:c===b||ja(ea,c)?1:ta?qa.call(ta,a)-qa.call(ta,c):0:e&4?-1:1:a.compareDocumentPosition?
-1:1}:function(a,c){var e,h=0;e=a.parentNode;var d=c.parentNode,l=[a],g=[c];if(a===c)return Sa=!0,0;if(!e||!d)return a===b?-1:c===b?1:e?-1:d?1:ta?qa.call(ta,a)-qa.call(ta,c):0;if(e===d)return v(a,c);for(e=a;e=e.parentNode;)l.unshift(e);for(e=c;e=e.parentNode;)g.unshift(e);for(;l[h]===g[h];)h++;return h?v(l[h],g[h]):l[h]===ea?-1:g[h]===ea?1:0};return b};c.matches=function(a,b){return c(a,null,null,b)};c.matchesSelector=function(a,b){(a.ownerDocument||a)!==J&&F(a);b=b.replace(xb,"='$1']");if(B.matchesSelector&&
fa&&!(S&&S.test(b)||pa&&pa.test(b)))try{var e=Ba.call(a,b);if(e||B.disconnectedMatch||a.document&&11!==a.document.nodeType)return e}catch(h){}return 0<c(b,J,null,[a]).length};c.contains=function(a,b){(a.ownerDocument||a)!==J&&F(a);return ja(a,b)};c.attr=function(a,c){(a.ownerDocument||a)!==J&&F(a);var e=H.attrHandle[c.toLowerCase()],e=e&&Pb.call(H.attrHandle,c.toLowerCase())?e(a,c,!fa):b;return e===b?B.attributes||!fa?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e};c.error=
function(a){throw Error("Syntax error, unrecognized expression: "+a);};c.uniqueSort=function(a){var b,c=[],e=0,h=0;Sa=!B.detectDuplicates;ta=!B.sortStable&&a.slice(0);a.sort(la);if(Sa){for(;b=a[h++];)b===a[h]&&(e=c.push(h));for(;e--;)a.splice(c[e],1)}return a};Da=c.getText=function(a){var b,c="",e=0;b=a.nodeType;if(!b)for(;b=a[e];e++)c+=Da(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=Da(a)}else if(3===b||4===b)return a.nodeValue;
return c};H=c.selectors={cacheLength:50,createPseudo:f,match:Ja,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(fb,gb);a[3]=(a[4]||a[5]||"").replace(fb,gb);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===
a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]);return a},PSEUDO:function(a){var c,e=!a[5]&&a[2];if(Ja.CHILD.test(a[0]))return null;a[3]&&a[4]!==b?a[2]=a[4]:e&&Xa.test(e)&&(c=w(e,!0))&&(c=e.indexOf(")",e.length-c)-e.length)&&(a[0]=a[0].slice(0,c),a[2]=e.slice(0,c));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(fb,gb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Ta[a+" "];return b||
(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&Ta(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==oa&&a.getAttribute("class")||"")})},ATTR:function(a,b,e){return function(h){h=c.attr(h,a);if(null==h)return"!="===b;if(!b)return!0;h+="";return"="===b?h===e:"!="===b?h!==e:"^="===b?e&&0===h.indexOf(e):"*="===b?e&&-1<h.indexOf(e):"$="===b?e&&h.slice(-e.length)===e:"~="===b?-1<(" "+h+" ").indexOf(e):"|="===b?h===e||h.slice(0,e.length+1)===
e+"-":!1}},CHILD:function(a,b,c,e,h){var d="nth"!==a.slice(0,3),l="last"!==a.slice(-4),g="of-type"===b;return 1===e&&0===h?function(a){return!!a.parentNode}:function(b,c,n){var f,k,p,q,t;c=d!==l?"nextSibling":"previousSibling";var u=b.parentNode,m=g&&b.nodeName.toLowerCase();n=!n&&!g;if(u){if(d){for(;c;){for(k=b;k=k[c];)if(g?k.nodeName.toLowerCase()===m:1===k.nodeType)return!1;t=c="only"===a&&!t&&"nextSibling"}return!0}t=[l?u.firstChild:u.lastChild];if(l&&n)for(n=u[Y]||(u[Y]={}),f=n[a]||[],q=f[0]===
ca&&f[1],p=f[0]===ca&&f[2],k=q&&u.childNodes[q];k=++q&&k&&k[c]||(p=q=0)||t.pop();){if(1===k.nodeType&&++p&&k===b){n[a]=[ca,q,p];break}}else if(n&&(f=(b[Y]||(b[Y]={}))[a])&&f[0]===ca)p=f[1];else for(;(k=++q&&k&&k[c]||(p=q=0)||t.pop())&&((g?k.nodeName.toLowerCase()!==m:1!==k.nodeType)||!++p||(n&&((k[Y]||(k[Y]={}))[a]=[ca,p]),k!==b)););p-=h;return p===e||0===p%e&&0<=p/e}}},PSEUDO:function(a,b){var e,h=H.pseudos[a]||H.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return h[Y]?h(b):1<h.length?
(e=[a,a,"",b],H.setFilters.hasOwnProperty(a.toLowerCase())?f(function(a,c){for(var e,d=h(a,b),l=d.length;l--;)e=qa.call(a,d[l]),a[e]=!(c[e]=d[l])}):function(a){return h(a,0,e)}):h}},pseudos:{not:f(function(a){var b=[],c=[],e=Aa(a.replace(Ea,"$1"));return e[Y]?f(function(a,b,c,h){h=e(a,null,h,[]);for(var d=a.length;d--;)if(c=h[d])a[d]=!(b[d]=c)}):function(a,h,d){b[0]=a;e(b,null,d,c);return!c.pop()}}),has:f(function(a){return function(b){return 0<c(a,b).length}}),contains:f(function(a){return function(b){return-1<
(b.textContent||b.innerText||Da(b)).indexOf(a)}}),lang:f(function(a){Ya.test(a||"")||c.error("unsupported lang: "+a);a=a.replace(fb,gb).toLowerCase();return function(b){var c;do if(c=fa?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===U},focus:function(a){return a===J.activeElement&&
(!J.hasFocus||J.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!H.pseudos.empty(a)},
header:function(a){return eb.test(a.nodeName)},input:function(a){return ab.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:C(function(){return[0]}),last:C(function(a,b){return[b-1]}),eq:C(function(a,b,c){return[0>c?c+b:c]}),even:C(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),
odd:C(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:C(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:C(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};for(R in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})H.pseudos[R]=x(R);for(R in{submit:!0,reset:!0})H.pseudos[R]=A(R);Aa=c.compile=function(a,b){var c,e=[],h=[],d=Ra[a+" "];if(!d){b||(b=w(a));for(c=b.length;c--;)d=I(b[c]),d[Y]?e.push(d):h.push(d);d=Ra(a,T(h,e))}return d};H.pseudos.nth=H.pseudos.eq;
Z.prototype=H.filters=H.pseudos;H.setFilters=new Z;B.sortStable=Y.split("").sort(la).join("")===Y;F();[0,0].sort(la);B.detectDuplicates=Sa;g.find=c;g.expr=c.selectors;g.expr[":"]=g.expr.pseudos;g.unique=c.uniqueSort;g.text=c.getText;g.isXMLDoc=c.isXML;g.contains=c.contains})(d);var zb={};g.Callbacks=function(a){a="string"===typeof a?zb[a]||k(a):g.extend({},a);var b,c,e,d,p,q,u=[],m=!a.once&&[],v=function(g){c=a.memory&&g;e=!0;p=q||0;q=0;d=u.length;for(b=!0;u&&p<d;p++)if(!1===u[p].apply(g[0],g[1])&&
a.stopOnFalse){c=!1;break}b=!1;u&&(m?m.length&&v(m.shift()):c?u=[]:x.disable())},x={add:function(){if(u){var e=u.length;(function Td(b){g.each(b,function(b,c){var e=g.type(c);"function"===e?a.unique&&x.has(c)||u.push(c):c&&c.length&&"string"!==e&&Td(c)})})(arguments);b?d=u.length:c&&(q=e,v(c))}return this},remove:function(){u&&g.each(arguments,function(a,c){for(var e;-1<(e=g.inArray(c,u,e));)u.splice(e,1),b&&(e<=d&&d--,e<=p&&p--)});return this},has:function(a){return a?-1<g.inArray(a,u):!(!u||!u.length)},
empty:function(){u=[];d=0;return this},disable:function(){u=m=c=f;return this},disabled:function(){return!u},lock:function(){m=f;c||x.disable();return this},locked:function(){return!m},fireWith:function(a,c){c=c||[];c=[a,c.slice?c.slice():c];!u||e&&!m||(b?m.push(c):v(c));return this},fire:function(){x.fireWith(this,arguments);return this},fired:function(){return!!e}};return x};g.extend({Deferred:function(a){var b=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),
"rejected"],["notify","progress",g.Callbacks("memory")]],c="pending",e={state:function(){return c},always:function(){d.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return g.Deferred(function(c){g.each(b,function(b,h){var l=h[0],n=g.isFunction(a[b])&&a[b];d[h[1]](function(){var a=n&&n.apply(this,arguments);if(a&&g.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[l+"With"](this===e?c.promise():this,n?[a]:arguments)})});a=null}).promise()},
promise:function(a){return null!=a?g.extend(a,e):e}},d={};e.pipe=e.then;g.each(b,function(a,h){var g=h[2],f=h[3];e[h[1]]=g.add;f&&g.add(function(){c=f},b[a^1][2].disable,b[2][2].lock);d[h[0]]=function(){d[h[0]+"With"](this===d?e:this,arguments);return this};d[h[0]+"With"]=g.fireWith});e.promise(d);a&&a.call(d,d);return d},when:function(a){var b=0,c=Xa.call(arguments),e=c.length,d=1!==e||a&&g.isFunction(a.promise)?e:0,f=1===d?a:g.Deferred(),k=function(a,b,c){return function(e){b[a]=this;c[a]=1<arguments.length?
Xa.call(arguments):e;c===p?f.notifyWith(b,c):--d||f.resolveWith(b,c)}},p,q,u;if(1<e)for(p=Array(e),q=Array(e),u=Array(e);b<e;b++)c[b]&&g.isFunction(c[b].promise)?c[b].promise().done(k(b,u,c)).fail(f.reject).progress(k(b,q,p)):--d;d||f.resolveWith(u,c);return f.promise()}});g.support=function(a){var b,c,e,f,k,p,q=J.createElement("div");q.setAttribute("className","t");q.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=q.getElementsByTagName("*")||[];c=q.getElementsByTagName("a")[0];
if(!c||!c.style||!b.length)return a;e=J.createElement("select");f=e.appendChild(J.createElement("option"));b=q.getElementsByTagName("input")[0];c.style.cssText="top:1px;float:left;opacity:.5";a.getSetAttribute="t"!==q.className;a.leadingWhitespace=3===q.firstChild.nodeType;a.tbody=!q.getElementsByTagName("tbody").length;a.htmlSerialize=!!q.getElementsByTagName("link").length;a.style=/top/.test(c.getAttribute("style"));a.hrefNormalized="/a"===c.getAttribute("href");a.opacity=/^0.5/.test(c.style.opacity);
a.cssFloat=!!c.style.cssFloat;a.checkOn=!!b.value;a.optSelected=f.selected;a.enctype=!!J.createElement("form").enctype;a.html5Clone="<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML;a.inlineBlockNeedsLayout=!1;a.shrinkWrapBlocks=!1;a.pixelPosition=!1;a.deleteExpando=!0;a.noCloneEvent=!0;a.reliableMarginRight=!0;a.boxSizingReliable=!0;b.checked=!0;a.noCloneChecked=b.cloneNode(!0).checked;e.disabled=!0;a.optDisabled=!f.disabled;try{delete q.test}catch(u){a.deleteExpando=!1}b=J.createElement("input");
b.setAttribute("value","");a.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");a.radioValue="t"===b.value;b.setAttribute("checked","t");b.setAttribute("name","t");c=J.createDocumentFragment();c.appendChild(b);a.appendChecked=b.checked;a.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;q.attachEvent&&(q.attachEvent("onclick",function(){a.noCloneEvent=!1}),q.cloneNode(!0).click());for(p in{submit:!0,change:!0,focusin:!0})q.setAttribute(c="on"+p,"t"),a[p+"Bubbles"]=
c in d||!1===q.attributes[c].expando;q.style.backgroundClip="content-box";q.cloneNode(!0).style.backgroundClip="";a.clearCloneStyle="content-box"===q.style.backgroundClip;for(p in g(a))break;a.ownLast="0"!==p;g(function(){var b,c,e=J.getElementsByTagName("body")[0];e&&(b=J.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e.appendChild(b).appendChild(q),q.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=q.getElementsByTagName("td"),
c[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",a.reliableHiddenOffsets=k&&0===c[0].offsetHeight,q.innerHTML="",q.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",g.swap(e,null!=e.style.zoom?{zoom:1}:{},function(){a.boxSizing=4===q.offsetWidth}),d.getComputedStyle&&(a.pixelPosition=
"1%"!==(d.getComputedStyle(q,null)||{}).top,a.boxSizingReliable="4px"===(d.getComputedStyle(q,null)||{width:"4px"}).width,c=q.appendChild(J.createElement("div")),c.style.cssText=q.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",c.style.marginRight=c.style.width="0",q.style.width="1px",a.reliableMarginRight=!parseFloat((d.getComputedStyle(c,null)||{}).marginRight)),typeof q.style.zoom!==fa&&(q.innerHTML="",
q.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===q.offsetWidth,q.style.display="block",q.innerHTML="<div></div>",q.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==q.offsetWidth,a.inlineBlockNeedsLayout&&(e.style.zoom=1)),e.removeChild(b),b=q=c=c=null)});b=e=c=f=c=b=null;return a}({});var kc=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ub=/([A-Z])/g;
g.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?g.cache[a[g.expando]]:a[g.expando];return!!a&&!b(a)},data:function(a,b,e){return c(a,b,e)},removeData:function(a,b){return y(a,b)},_data:function(a,b,e){return c(a,b,e,!0)},_removeData:function(a,b){return y(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&g.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===
b}});g.fn.extend({data:function(b,c){var e,d,k=null,p=0,q=this[0];if(b===f){if(this.length&&(k=g.data(q),1===q.nodeType&&!g._data(q,"parsedAttrs"))){for(e=q.attributes;p<e.length;p++)d=e[p].name,0===d.indexOf("data-")&&(d=g.camelCase(d.slice(5)),a(q,d,k[d]));g._data(q,"parsedAttrs",!0)}return k}return"object"===typeof b?this.each(function(){g.data(this,b)}):1<arguments.length?this.each(function(){g.data(this,b,c)}):q?a(q,b,g.data(q,b)):null},removeData:function(a){return this.each(function(){g.removeData(this,
a)})}});g.extend({queue:function(a,b,c){var e;if(a)return b=(b||"fx")+"queue",e=g._data(a,b),c&&(!e||g.isArray(c)?e=g._data(a,b,g.makeArray(c)):e.push(c)),e||[]},dequeue:function(a,b){b=b||"fx";var c=g.queue(a,b),e=c.length,d=c.shift(),f=g._queueHooks(a,b),k=function(){g.dequeue(a,b)};"inprogress"===d&&(d=c.shift(),e--);d&&("fx"===b&&c.unshift("inprogress"),delete f.stop,d.call(a,k,f));!e&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return g._data(a,c)||g._data(a,c,{empty:g.Callbacks("once memory").add(function(){g._removeData(a,
b+"queue");g._removeData(a,c)})})}});g.fn.extend({queue:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?g.queue(this[0],a):b===f?this:this.each(function(){var c=g.queue(this,a,b);g._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&g.dequeue(this,a)})},dequeue:function(a){return this.each(function(){g.dequeue(this,a)})},delay:function(a,b){a=g.fx?g.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var e=setTimeout(b,a);c.stop=function(){clearTimeout(e)}})},
clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,e=1,d=g.Deferred(),k=this,p=this.length,q=function(){--e||d.resolveWith(k,[k])};"string"!==typeof a&&(b=a,a=f);for(a=a||"fx";p--;)(c=g._data(k[p],a+"queueHooks"))&&c.empty&&(e++,c.empty.add(q));q();return d.promise(b)}});var ab,Ab,kb=/[\t\r\n\f]/g,Nc=/\r/g,Ld=/^(?:input|select|textarea|button|object)$/i,lc=/^(?:a|area)$/i,Bb=/^(?:checked|selected)$/i,Ia=g.support.getSetAttribute,Cb=g.support.input;g.fn.extend({attr:function(a,
b){return g.access(this,g.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){g.removeAttr(this,a)})},prop:function(a,b){return g.access(this,g.prop,a,b,1<arguments.length)},removeProp:function(a){a=g.propFix[a]||a;return this.each(function(){try{this[a]=f,delete this[a]}catch(b){}})},addClass:function(a){var b,c,e,d,f,k=0,p=this.length;b="string"===typeof a&&a;if(g.isFunction(a))return this.each(function(b){g(this).addClass(a.call(this,b,this.className))});if(b)for(b=
(a||"").match(Ha)||[];k<p;k++)if(c=this[k],e=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(kb," "):" ")){for(f=0;d=b[f++];)0>e.indexOf(" "+d+" ")&&(e+=d+" ");c.className=g.trim(e)}return this},removeClass:function(a){var b,c,e,d,f,k=0,p=this.length;b=0===arguments.length||"string"===typeof a&&a;if(g.isFunction(a))return this.each(function(b){g(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(Ha)||[];k<p;k++)if(c=this[k],e=1===c.nodeType&&(c.className?(" "+c.className+
" ").replace(kb," "):"")){for(f=0;d=b[f++];)for(;0<=e.indexOf(" "+d+" ");)e=e.replace(" "+d+" "," ");c.className=a?g.trim(e):""}return this},toggleClass:function(a,b){var c=typeof a,e="boolean"===typeof b;return g.isFunction(a)?this.each(function(c){g(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var d,f=0,k=g(this),p=b,q=a.match(Ha)||[];d=q[f++];)p=e?p:!k.hasClass(d),k[p?"addClass":"removeClass"](d);else if(c===fa||"boolean"===c)this.className&&g._data(this,
"__className__",this.className),this.className=this.className||!1===a?"":g._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(kb," ").indexOf(a))return!0;return!1},val:function(a){var b,c,e,d=this[0];if(arguments.length)return e=g.isFunction(a),this.each(function(b){1===this.nodeType&&(b=e?a.call(this,b,g(this).val()):a,null==b?b="":"number"===typeof b?b+="":g.isArray(b)&&(b=g.map(b,
function(a){return null==a?"":a+""})),c=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,b,"value")!==f||(this.value=b))});if(d){if((c=g.valHooks[d.type]||g.valHooks[d.nodeName.toLowerCase()])&&"get"in c&&(b=c.get(d,"value"))!==f)return b;b=d.value;return"string"===typeof b?b.replace(Nc,""):null==b?"":b}}});g.extend({valHooks:{option:{get:function(a){var b=g.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c=a.options,e=a.selectedIndex,
d=(a="select-one"===a.type||0>e)?null:[],f=a?e+1:c.length,k=0>e?f:a?e:0;k<f;k++)if(b=c[k],!(!b.selected&&k!==e||(g.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&g.nodeName(b.parentNode,"optgroup"))){b=g(b).val();if(a)return b;d.push(b)}return d},set:function(a,b){for(var c,e,d=a.options,f=g.makeArray(b),k=d.length;k--;)if(e=d[k],e.selected=0<=g.inArray(g(e).val(),f))c=!0;c||(a.selectedIndex=-1);return f}}},attr:function(a,b,c){var e,d,k=a.nodeType;if(a&&
3!==k&&8!==k&&2!==k){if(typeof a.getAttribute===fa)return g.prop(a,b,c);1===k&&g.isXMLDoc(a)||(b=b.toLowerCase(),e=g.attrHooks[b]||(g.expr.match.bool.test(b)?Ab:ab));if(c!==f)if(null===c)g.removeAttr(a,b);else{if(e&&"set"in e&&(d=e.set(a,c,b))!==f)return d;a.setAttribute(b,c+"");return c}else{if(e&&"get"in e&&null!==(d=e.get(a,b)))return d;d=g.find.attr(a,b);return null==d?f:d}}},removeAttr:function(a,b){var c,e,d=0,f=b&&b.match(Ha);if(f&&1===a.nodeType)for(;c=f[d++];)e=g.propFix[c]||c,g.expr.match.bool.test(c)?
Cb&&Ia||!Bb.test(c)?a[e]=!1:a[g.camelCase("default-"+c)]=a[e]=!1:g.attr(a,c,""),a.removeAttribute(Ia?c:e)},attrHooks:{type:{set:function(a,b){if(!g.support.radioValue&&"radio"===b&&g.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var e,d,k;k=a.nodeType;if(a&&3!==k&&8!==k&&2!==k){if(k=1!==k||!g.isXMLDoc(a))b=g.propFix[b]||b,d=g.propHooks[b];return c!==f?d&&"set"in d&&(e=d.set(a,c,b))!==f?e:a[b]=
c:d&&"get"in d&&null!==(e=d.get(a,b))?e:a[b]}},propHooks:{tabIndex:{get:function(a){var b=g.find.attr(a,"tabindex");return b?parseInt(b,10):Ld.test(a.nodeName)||lc.test(a.nodeName)&&a.href?0:-1}}}});Ab={set:function(a,b,c){!1===b?g.removeAttr(a,c):Cb&&Ia||!Bb.test(c)?a.setAttribute(!Ia&&g.propFix[c]||c,c):a[g.camelCase("default-"+c)]=a[c]=!0;return c}};g.each(g.expr.match.bool.source.match(/\w+/g),function(a,b){var c=g.expr.attrHandle[b]||g.find.attr;g.expr.attrHandle[b]=Cb&&Ia||!Bb.test(b)?function(a,
b,e){var h=g.expr.attrHandle[b];a=e?f:(g.expr.attrHandle[b]=f)!=c(a,b,e)?b.toLowerCase():null;g.expr.attrHandle[b]=h;return a}:function(a,b,c){return c?f:a[g.camelCase("default-"+b)]?b.toLowerCase():null}});Cb&&Ia||(g.attrHooks.value={set:function(a,b,c){if(g.nodeName(a,"input"))a.defaultValue=b;else return ab&&ab.set(a,b,c)}});Ia||(ab={set:function(a,b,c){var e=a.getAttributeNode(c);e||a.setAttributeNode(e=a.ownerDocument.createAttribute(c));e.value=b+="";return"value"===c||b===a.getAttribute(c)?
b:f}},g.expr.attrHandle.id=g.expr.attrHandle.name=g.expr.attrHandle.coords=function(a,b,c){var e;return c?f:(e=a.getAttributeNode(b))&&""!==e.value?e.value:null},g.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:f},set:ab.set},g.attrHooks.contenteditable={set:function(a,b,c){ab.set(a,""===b?!1:b,c)}},g.each(["width","height"],function(a,b){g.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}}));g.support.hrefNormalized||g.each(["href",
"src"],function(a,b){g.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});g.support.style||(g.attrHooks.style={get:function(a){return a.style.cssText||f},set:function(a,b){return a.style.cssText=b+""}});g.support.optSelected||(g.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}});g.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){g.propFix[this.toLowerCase()]=
this});g.support.enctype||(g.propFix.enctype="encoding");g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(a,b){if(g.isArray(b))return a.checked=0<=g.inArray(g(a).val(),b)}};g.support.checkOn||(g.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Vb=/^(?:input|select|textarea)$/i,Oc=/^key/,Md=/^(?:mouse|contextmenu)|click/,nc=/^(?:focusinfocus|focusoutblur)$/,mc=/^([^.]*)(?:\.(.+)|)$/;g.event={global:{},add:function(a,b,c,e,d){var k,p,q,u,
m,v,x,A,C;if(q=g._data(a)){c.handler&&(u=c,c=u.handler,d=u.selector);c.guid||(c.guid=g.guid++);(p=q.events)||(p=q.events={});(m=q.handle)||(m=q.handle=function(a){return typeof g===fa||a&&g.event.triggered===a.type?f:g.event.dispatch.apply(m.elem,arguments)},m.elem=a);b=(b||"").match(Ha)||[""];for(q=b.length;q--;)k=mc.exec(b[q])||[],A=v=k[1],C=(k[2]||"").split(".").sort(),A&&(k=g.event.special[A]||{},A=(d?k.delegateType:k.bindType)||A,k=g.event.special[A]||{},v=g.extend({type:A,origType:v,data:e,
handler:c,guid:c.guid,selector:d,needsContext:d&&g.expr.match.needsContext.test(d),namespace:C.join(".")},u),(x=p[A])||(x=p[A]=[],x.delegateCount=0,k.setup&&!1!==k.setup.call(a,e,C,m)||(a.addEventListener?a.addEventListener(A,m,!1):a.attachEvent&&a.attachEvent("on"+A,m))),k.add&&(k.add.call(a,v),v.handler.guid||(v.handler.guid=c.guid)),d?x.splice(x.delegateCount++,0,v):x.push(v),g.event.global[A]=!0);a=null}},remove:function(a,b,c,e,d){var f,k,p,q,u,m,v,x,A,C,w,y=g.hasData(a)&&g._data(a);if(y&&(m=
y.events)){b=(b||"").match(Ha)||[""];for(u=b.length;u--;)if(p=mc.exec(b[u])||[],A=w=p[1],C=(p[2]||"").split(".").sort(),A){v=g.event.special[A]||{};A=(e?v.delegateType:v.bindType)||A;x=m[A]||[];p=p[2]&&RegExp("(^|\\.)"+C.join("\\.(?:.*\\.|)")+"(\\.|$)");for(q=f=x.length;f--;)k=x[f],!d&&w!==k.origType||c&&c.guid!==k.guid||p&&!p.test(k.namespace)||e&&!(e===k.selector||"**"===e&&k.selector)||(x.splice(f,1),k.selector&&x.delegateCount--,v.remove&&v.remove.call(a,k));q&&!x.length&&(v.teardown&&!1!==v.teardown.call(a,
C,y.handle)||g.removeEvent(a,A,y.handle),delete m[A])}else for(A in m)g.event.remove(a,A+b[u],c,e,!0);g.isEmptyObject(m)&&(delete y.handle,g._removeData(a,"events"))}},trigger:function(a,b,c,e){var k,p,q,u,m,v,x=[c||J],A=S.call(a,"type")?a.type:a;m=S.call(a,"namespace")?a.namespace.split("."):[];q=k=c=c||J;if(3!==c.nodeType&&8!==c.nodeType&&!nc.test(A+g.event.triggered)&&(0<=A.indexOf(".")&&(m=A.split("."),A=m.shift(),m.sort()),p=0>A.indexOf(":")&&"on"+A,a=a[g.expando]?a:new g.Event(A,"object"===
typeof a&&a),a.isTrigger=e?2:3,a.namespace=m.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=f,a.target||(a.target=c),b=null==b?[a]:g.makeArray(b,[a]),m=g.event.special[A]||{},e||!m.trigger||!1!==m.trigger.apply(c,b))){if(!e&&!m.noBubble&&!g.isWindow(c)){u=m.delegateType||A;nc.test(u+A)||(q=q.parentNode);for(;q;q=q.parentNode)x.push(q),k=q;k===(c.ownerDocument||J)&&x.push(k.defaultView||k.parentWindow||d)}for(v=0;(q=x[v++])&&!a.isPropagationStopped();)a.type=
1<v?u:m.bindType||A,(k=(g._data(q,"events")||{})[a.type]&&g._data(q,"handle"))&&k.apply(q,b),(k=p&&q[p])&&g.acceptData(q)&&k.apply&&!1===k.apply(q,b)&&a.preventDefault();a.type=A;if(!(e||a.isDefaultPrevented()||m._default&&!1!==m._default.apply(x.pop(),b))&&g.acceptData(c)&&p&&c[A]&&!g.isWindow(c)){(k=c[p])&&(c[p]=null);g.event.triggered=A;try{c[A]()}catch(C){}g.event.triggered=f;k&&(c[p]=k)}return a.result}},dispatch:function(a){a=g.event.fix(a);var b,c,e,d,k=[],p=Xa.call(arguments);b=(g._data(this,
"events")||{})[a.type]||[];var q=g.event.special[a.type]||{};p[0]=a;a.delegateTarget=this;if(!q.preDispatch||!1!==q.preDispatch.call(this,a)){k=g.event.handlers.call(this,a,b);for(b=0;(e=k[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,d=0;(c=e.handlers[d++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(c.namespace))a.handleObj=c,a.data=c.data,c=((g.event.special[c.origType]||{}).handle||c.handler).apply(e.elem,p),c!==f&&!1===(a.result=c)&&(a.preventDefault(),
a.stopPropagation());q.postDispatch&&q.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var c,e,d,k,p=[],q=b.delegateCount,u=a.target;if(q&&u.nodeType&&(!a.button||"click"!==a.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==a.type)){d=[];for(k=0;k<q;k++)e=b[k],c=e.selector+" ",d[c]===f&&(d[c]=e.needsContext?0<=g(c,this).index(u):g.find(c,this,null,[u]).length),d[c]&&d.push(e);d.length&&p.push({elem:u,handlers:d})}q<b.length&&p.push({elem:this,
handlers:b.slice(q)});return p},fix:function(a){if(a[g.expando])return a;var b,c,e;b=a.type;var d=a,f=this.fixHooks[b];f||(this.fixHooks[b]=f=Md.test(b)?this.mouseHooks:Oc.test(b)?this.keyHooks:{});e=f.props?this.props.concat(f.props):this.props;a=new g.Event(d);for(b=e.length;b--;)c=e[b],a[c]=d[c];a.target||(a.target=d.srcElement||J);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return f.filter?f.filter(a,d):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,d=b.button,g=b.fromElement;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||J,e=c.documentElement,c=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||
c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0));!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g);a.which||d===f||(a.which=d&1?1:d&2?3:d&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==q()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===q()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(g.nodeName(this,
"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return g.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==f&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,e){a=g.extend(new g.Event,c,{type:a,isSimulated:!0,originalEvent:{}});e?g.event.trigger(a,null,b):g.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};g.removeEvent=J.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,
c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&(typeof a[b]===fa&&(a[b]=null),a.detachEvent(b,c))};g.Event=function(a,b){if(!(this instanceof g.Event))return new g.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?e:p):this.type=a;b&&g.extend(this,b);this.timeStamp=a&&a.timeStamp||g.now();this[g.expando]=!0};g.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=e;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=e;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=e;this.stopPropagation()}};g.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){g.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,
e=a.relatedTarget,d=a.handleObj;if(!e||e!==this&&!g.contains(this,e))a.type=d.origType,c=d.handler.apply(this,arguments),a.type=b;return c}}});g.support.submitBubbles||(g.event.special.submit={setup:function(){if(g.nodeName(this,"form"))return!1;g.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=g.nodeName(a,"input")||g.nodeName(a,"button")?a.form:f)&&!g._data(a,"submitBubbles")&&(g.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),g._data(a,"submitBubbles",!0))})},
postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&g.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(g.nodeName(this,"form"))return!1;g.event.remove(this,"._submit")}});g.support.changeBubbles||(g.event.special.change={setup:function(){if(Vb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)g.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),
g.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);g.event.simulate("change",this,a,!0)});return!1}g.event.add(this,"beforeactivate._change",function(a){a=a.target;Vb.test(a.nodeName)&&!g._data(a,"changeBubbles")&&(g.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||g.event.simulate("change",this.parentNode,a,!0)}),g._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||
a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){g.event.remove(this,"._change");return!Vb.test(this.nodeName)}});g.support.focusinBubbles||g.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,e=function(a){g.event.simulate(b,a.target,g.event.fix(a),!0)};g.event.special[b]={setup:function(){0===c++&&J.addEventListener(a,e,!0)},teardown:function(){0===--c&&J.removeEventListener(a,e,!0)}}});g.fn.extend({on:function(a,
b,c,e,d){var k,q;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=f);for(k in a)this.on(k,b,c,a[k],d);return this}null==c&&null==e?(e=b,c=b=f):null==e&&("string"===typeof b?(e=c,c=f):(e=c,c=b,b=f));if(!1===e)e=p;else if(!e)return this;1===d&&(q=e,e=function(a){g().off(a);return q.apply(this,arguments)},e.guid=q.guid||(q.guid=g.guid++));return this.each(function(){g.event.add(this,a,e,c,b)})},one:function(a,b,c,e){return this.on(a,b,c,e,1)},off:function(a,b,c){var e;if(a&&a.preventDefault&&a.handleObj)return e=
a.handleObj,g(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"===typeof a){for(e in a)this.off(e,b,a[e]);return this}if(!1===b||"function"===typeof b)c=b,b=f;!1===c&&(c=p);return this.each(function(){g.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){g.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return g.event.trigger(a,b,c,!0)}});var Nd=/^.[^:#\[\.,]*$/,Od=/^(?:parents|prev(?:Until|All))/,
Pc=g.expr.match.needsContext,Wb={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({find:function(a){var b,c=[],e=this,d=e.length;if("string"!==typeof a)return this.pushStack(g(a).filter(function(){for(b=0;b<d;b++)if(g.contains(e[b],this))return!0}));for(b=0;b<d;b++)g.find(a,e[b],c);c=this.pushStack(1<d?g.unique(c):c);c.selector=this.selector?this.selector+" "+a:a;return c},has:function(a){var b,c=g(a,this),e=c.length;return this.filter(function(){for(b=0;b<e;b++)if(g.contains(this,c[b]))return!0})},
not:function(a){return this.pushStack(B(this,a||[],!0))},filter:function(a){return this.pushStack(B(this,a||[],!1))},is:function(a){return!!B(this,"string"===typeof a&&Pc.test(a)?g(a):a||[],!1).length},closest:function(a,b){for(var c,e=0,d=this.length,f=[],k=Pc.test(a)||"string"!==typeof a?g(a,b||this.context):0;e<d;e++)for(c=this[e];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(k?-1<k.index(c):1===c.nodeType&&g.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(1<f.length?g.unique(f):
f)},index:function(a){return a?"string"===typeof a?g.inArray(this[0],g(a)):g.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"===typeof a?g(a,b):g.makeArray(a&&a.nodeType?[a]:a),c=g.merge(this.get(),c);return this.pushStack(g.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});g.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return g.dir(a,
"parentNode")},parentsUntil:function(a,b,c){return g.dir(a,"parentNode",c)},next:function(a){return K(a,"nextSibling")},prev:function(a){return K(a,"previousSibling")},nextAll:function(a){return g.dir(a,"nextSibling")},prevAll:function(a){return g.dir(a,"previousSibling")},nextUntil:function(a,b,c){return g.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return g.dir(a,"previousSibling",c)},siblings:function(a){return g.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return g.sibling(a.firstChild)},
contents:function(a){return g.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:g.merge([],a.childNodes)}},function(a,b){g.fn[a]=function(c,e){var d=g.map(this,b,c);"Until"!==a.slice(-5)&&(e=c);e&&"string"===typeof e&&(d=g.filter(e,d));1<this.length&&(Wb[a]||(d=g.unique(d)),Od.test(a)&&(d=d.reverse()));return this.pushStack(d)}});g.extend({filter:function(a,b,c){var e=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===e.nodeType?g.find.matchesSelector(e,a)?[e]:[]:g.find.matches(a,g.grep(b,
function(a){return 1===a.nodeType}))},dir:function(a,b,c){var e=[];for(a=a[b];a&&9!==a.nodeType&&(c===f||1!==a.nodeType||!g(a).is(c));)1===a.nodeType&&e.push(a),a=a[b];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var pc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Rc=/ jQuery\d+="(?:null|\d+)"/g,Ea=RegExp("<(?:"+pc+")[\\s/>]",
"i"),Db=/^\s+/,Sc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ob=/<([\w:]+)/,Xb=/<tbody/i,Uc=/<|&#?\w+;/,Tc=/<(?:script|style|link)/i,Yb=/^(?:checkbox|radio)$/i,oc=/checked\s*(?:[^=]|=\s*.checked.)/i,qc=/^$|\/(?:java|ecma)script/i,Vc=/^true\/(.*)/,Wc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,oa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:g.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Eb=N(J).appendChild(J.createElement("div"));oa.optgroup=oa.option;oa.tbody=oa.tfoot=oa.colgroup=oa.caption=oa.thead;oa.th=oa.td;g.fn.extend({text:function(a){return g.access(this,function(a){return a===f?g.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(a))},
null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||F(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=F(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,e=a?g.filter(a,this):this,d=0;null!=(c=e[d]);d++)b||1!==c.nodeType||g.cleanData(R(c)),c.parentNode&&(b&&g.contains(c.ownerDocument,c)&&I(R(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&g.cleanData(R(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&g.nodeName(a,"select")&&(a.options.length=0)}return this},
clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return g.clone(this,a,b)})},html:function(a){return g.access(this,function(a){var b=this[0]||{},c=0,e=this.length;if(a===f)return 1===b.nodeType?b.innerHTML.replace(Rc,""):f;if("string"===typeof a&&!(Tc.test(a)||!g.support.htmlSerialize&&Ea.test(a)||!g.support.leadingWhitespace&&Db.test(a)||oa[(ob.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Sc,"<$1></$2>");try{for(;c<e;c++)b=this[c]||{},1===b.nodeType&&(g.cleanData(R(b,
!1)),b.innerHTML=a);b=0}catch(d){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=g.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;this.domManip(arguments,function(c){var e=a[b++],d=a[b++];d&&(e&&e.parentNode!==d&&(e=this.nextSibling),g(this).remove(),d.insertBefore(c,e))},!0);return b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=Qb.apply([],a);var e,d,f,k,p=0,q=this.length,u=this,m=q-1,x=a[0],A=g.isFunction(x);
if(A||!(1>=q||"string"!==typeof x||g.support.checkClone)&&oc.test(x))return this.each(function(e){var d=u.eq(e);A&&(a[0]=x.call(this,e,d.html()));d.domManip(a,b,c)});if(q&&(k=g.buildFragment(a,this[0].ownerDocument,!1,!c&&this),e=k.firstChild,1===k.childNodes.length&&(k=e),e)){f=g.map(R(k,"script"),v);for(d=f.length;p<q;p++)e=k,p!==m&&(e=g.clone(e,!0,!0),d&&g.merge(f,R(e,"script"))),b.call(this[p],e,p);if(d)for(k=f[f.length-1].ownerDocument,g.map(f,M),p=0;p<d;p++)e=f[p],qc.test(e.type||"")&&!g._data(e,
"globalEval")&&g.contains(k,e)&&(e.src?g._evalUrl(e.src):g.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Wc,"")));k=e=null}return this}});g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){g.fn[a]=function(a){for(var c=0,e=[],d=g(a),h=d.length-1;c<=h;c++)a=c===h?this:this.clone(!0),g(d[c])[b](a),Rb.apply(e,a.get());return this.pushStack(e)}});g.extend({clone:function(a,b,c){var e,d,f,k,p,q=g.contains(a.ownerDocument,
a);g.support.html5Clone||g.isXMLDoc(a)||!Ea.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Eb.innerHTML=a.outerHTML,Eb.removeChild(f=Eb.firstChild));if(!(g.support.noCloneEvent&&g.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||g.isXMLDoc(a)))for(e=R(f),p=R(a),k=0;null!=(d=p[k]);++k)if(e[k]){var u=e[k],m=void 0,x=void 0,A=void 0;if(1===u.nodeType){m=u.nodeName.toLowerCase();if(!g.support.noCloneEvent&&u[g.expando]){A=g._data(u);for(x in A.events)g.removeEvent(u,x,A.handle);u.removeAttribute(g.expando)}if("script"===
m&&u.text!==d.text)v(u).text=d.text,M(u);else if("object"===m)u.parentNode&&(u.outerHTML=d.outerHTML),g.support.html5Clone&&d.innerHTML&&!g.trim(u.innerHTML)&&(u.innerHTML=d.innerHTML);else if("input"===m&&Yb.test(d.type))u.defaultChecked=u.checked=d.checked,u.value!==d.value&&(u.value=d.value);else if("option"===m)u.defaultSelected=u.selected=d.defaultSelected;else if("input"===m||"textarea"===m)u.defaultValue=d.defaultValue}}if(b)if(c)for(p=p||R(a),e=e||R(f),k=0;null!=(d=p[k]);k++)C(d,e[k]);else C(a,
f);e=R(f,"script");0<e.length&&I(e,!q&&R(a,"script"));return f},buildFragment:function(a,b,c,e){for(var d,f,k,p,q,u,m=a.length,v=N(b),x=[],A=0;A<m;A++)if((f=a[A])||0===f)if("object"===g.type(f))g.merge(x,f.nodeType?[f]:f);else if(Uc.test(f)){k=k||v.appendChild(b.createElement("div"));p=(ob.exec(f)||["",""])[1].toLowerCase();u=oa[p]||oa._default;k.innerHTML=u[1]+f.replace(Sc,"<$1></$2>")+u[2];for(d=u[0];d--;)k=k.lastChild;!g.support.leadingWhitespace&&Db.test(f)&&x.push(b.createTextNode(Db.exec(f)[0]));
if(!g.support.tbody)for(d=(f="table"!==p||Xb.test(f)?"<table>"!==u[1]||Xb.test(f)?0:k:k.firstChild)&&f.childNodes.length;d--;)g.nodeName(q=f.childNodes[d],"tbody")&&!q.childNodes.length&&f.removeChild(q);g.merge(x,k.childNodes);for(k.textContent="";k.firstChild;)k.removeChild(k.firstChild);k=v.lastChild}else x.push(b.createTextNode(f));k&&v.removeChild(k);g.support.appendChecked||g.grep(R(x,"input"),H);for(A=0;f=x[A++];)if(!e||-1===g.inArray(f,e))if(a=g.contains(f.ownerDocument,f),k=R(v.appendChild(f),
"script"),a&&I(k),c)for(d=0;f=k[d++];)qc.test(f.type||"")&&c.push(f);return v},cleanData:function(a,b){for(var c,e,d,f,k=0,p=g.expando,q=g.cache,u=g.support.deleteExpando,m=g.event.special;null!=(c=a[k]);k++)if(b||g.acceptData(c))if(f=(d=c[p])&&q[d]){if(f.events)for(e in f.events)m[e]?g.event.remove(c,e):g.removeEvent(c,e,f.handle);q[d]&&(delete q[d],u?delete c[p]:typeof c.removeAttribute!==fa?c.removeAttribute(p):c[p]=null,ka.push(d))}},_evalUrl:function(a){return g.ajax({url:a,type:"GET",dataType:"script",
async:!1,global:!1,"throws":!0})}});g.fn.extend({wrapAll:function(a){if(g.isFunction(a))return this.each(function(b){g(this).wrapAll(a.call(this,b))});if(this[0]){var b=g(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return g.isFunction(a)?this.each(function(b){g(this).wrapInner(a.call(this,b))}):this.each(function(){var b=
g(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=g.isFunction(a);return this.each(function(c){g(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)}).end()}});var Fb,Va,Ya,rc=/alpha\([^)]*\)/i,Pd=/opacity\s*=\s*([^)]*)/,Yc=/^(top|right|bottom|left)$/,sc=/^(none|table(?!-c[ea]).+)/,tc=/^margin/,Zc=RegExp("^("+hb+")(.*)$","i"),Zb=RegExp("^("+hb+")(?!px)[a-z%]+$","i"),
Qd=RegExp("^([+-])=("+hb+")","i"),$c={BODY:"block"},Gb={position:"absolute",visibility:"hidden",display:"block"},uc={letterSpacing:0,fontWeight:400},Ja=["Top","Right","Bottom","Left"],Hb=["Webkit","O","Moz","ms"];g.fn.extend({css:function(a,b){return g.access(this,function(a,b,c){var e,d={},h=0;if(g.isArray(b)){e=Va(a);for(c=b.length;h<c;h++)d[b[h]]=g.css(a,b[h],!1,e);return d}return c!==f?g.style(a,b,c):g.css(a,b)},a,b,1<arguments.length)},show:function(){return Aa(this,!0)},hide:function(){return Aa(this)},
toggle:function(a){var b="boolean"===typeof a;return this.each(function(){(b?a:W(this))?g(this).show():g(this).hide()})}});g.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ya(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":g.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var d,k,p,q=g.camelCase(b),
u=a.style;b=g.cssProps[q]||(g.cssProps[q]=w(u,q));p=g.cssHooks[b]||g.cssHooks[q];if(c!==f){if(k=typeof c,"string"===k&&(d=Qd.exec(c))&&(c=(d[1]+1)*d[2]+parseFloat(g.css(a,b)),k="number"),!(null==c||"number"===k&&isNaN(c)||("number"!==k||g.cssNumber[q]||(c+="px"),g.support.clearCloneStyle||""!==c||0!==b.indexOf("background")||(u[b]="inherit"),p&&"set"in p&&(c=p.set(a,c,e))===f)))try{u[b]=c}catch(m){}}else return p&&"get"in p&&(d=p.get(a,!1,e))!==f?d:u[b]}},css:function(a,b,c,e){var d,k;k=g.camelCase(b);
b=g.cssProps[k]||(g.cssProps[k]=w(a.style,k));(k=g.cssHooks[b]||g.cssHooks[k])&&"get"in k&&(d=k.get(a,!0,c));d===f&&(d=Ya(a,b,e));"normal"===d&&b in uc&&(d=uc[b]);return""===c||c?(a=parseFloat(d),!0===c||g.isNumeric(a)?a||0:d):d}});d.getComputedStyle?(Va=function(a){return d.getComputedStyle(a,null)},Ya=function(a,b,c){var e,d=(c=c||Va(a))?c.getPropertyValue(b)||c[b]:f,k=a.style;c&&(""!==d||g.contains(a.ownerDocument,a)||(d=g.style(a,b)),Zb.test(d)&&tc.test(b)&&(a=k.width,b=k.minWidth,e=k.maxWidth,
k.minWidth=k.maxWidth=k.width=d,d=c.width,k.width=a,k.minWidth=b,k.maxWidth=e));return d}):J.documentElement.currentStyle&&(Va=function(a){return a.currentStyle},Ya=function(a,b,c){var e,d,g=(c=c||Va(a))?c[b]:f,k=a.style;null==g&&k&&k[b]&&(g=k[b]);if(Zb.test(g)&&!Yc.test(b)){c=k.left;if(d=(e=a.runtimeStyle)&&e.left)e.left=a.currentStyle.left;k.left="fontSize"===b?"1em":g;g=k.pixelLeft+"px";k.left=c;d&&(e.left=d)}return""===g?"auto":g});g.each(["height","width"],function(a,b){g.cssHooks[b]={get:function(a,
c,e){if(c)return 0===a.offsetWidth&&sc.test(g.css(a,"display"))?g.swap(a,Gb,function(){return U(a,b,e)}):U(a,b,e)},set:function(a,c,e){var d=e&&Va(a);return ea(a,c,e?ca(a,b,e,g.support.boxSizing&&"border-box"===g.css(a,"boxSizing",!1,d),d):0)}}});g.support.opacity||(g.cssHooks.opacity={get:function(a,b){return Pd.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,e=a.currentStyle,d=g.isNumeric(b)?"alpha(opacity="+
100*b+")":"",f=e&&e.filter||c.filter||"";c.zoom=1;if((1<=b||""===b)&&""===g.trim(f.replace(rc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||e&&!e.filter))return;c.filter=rc.test(f)?f.replace(rc,d):f+" "+d}});g(function(){g.support.reliableMarginRight||(g.cssHooks.marginRight={get:function(a,b){if(b)return g.swap(a,{display:"inline-block"},Ya,[a,"marginRight"])}});!g.support.pixelPosition&&g.fn.position&&g.each(["top","left"],function(a,b){g.cssHooks[b]={get:function(a,c){if(c)return c=
Ya(a,b),Zb.test(c)?g(a).position()[b]+"px":c}}})});g.expr&&g.expr.filters&&(g.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!g.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||g.css(a,"display"))},g.expr.filters.visible=function(a){return!g.expr.filters.hidden(a)});g.each({margin:"",padding:"",border:"Width"},function(a,b){g.cssHooks[a+b]={expand:function(c){var e=0,d={};for(c="string"===typeof c?c.split(" "):[c];4>e;e++)d[a+Ja[e]+b]=c[e]||c[e-2]||c[0];
return d}};tc.test(a)||(g.cssHooks[a+b].set=ea)});var ad=/%20/g,vc=/\[\]$/,wc=/\r?\n/g,qa=/^(?:submit|button|image|reset|file)$/i,Wa=/^(?:input|select|textarea|keygen)/i;g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=g.prop(this,"elements");return a?g.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!g(this).is(":disabled")&&Wa.test(this.nodeName)&&!qa.test(a)&&(this.checked||!Yb.test(a))}).map(function(a,
b){var c=g(this).val();return null==c?null:g.isArray(c)?g.map(c,function(a){return{name:b.name,value:a.replace(wc,"\r\n")}}):{name:b.name,value:c.replace(wc,"\r\n")}}).get()}});g.param=function(a,b){var c,e=[],d=function(a,b){b=g.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===f&&(b=g.ajaxSettings&&g.ajaxSettings.traditional);if(g.isArray(a)||a.jquery&&!g.isPlainObject(a))g.each(a,function(){d(this.name,this.value)});else for(c in a)Ca(c,a[c],b,d);return e.join("&").replace(ad,
"+")};g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){g.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});g.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},
delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var ha,Ka,Ib=g.now(),qb=/\?/,xc=/#.*$/,yc=/([?&])_=[^&]*/,La=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Jb=/^(?:GET|HEAD)$/,zc=/^\/\//,bd=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ac=g.fn.load,Ac={},Kb={},cd="*/".concat("*");try{Ka=Pb.href}catch(Be){Ka=J.createElement("a"),Ka.href="",Ka=Ka.href}ha=bd.exec(Ka.toLowerCase())||[];g.fn.load=function(a,b,c){if("string"!==
typeof a&&ac)return ac.apply(this,arguments);var e,d,k,p=this,q=a.indexOf(" ");0<=q&&(e=a.slice(q,a.length),a=a.slice(0,q));g.isFunction(b)?(c=b,b=f):b&&"object"===typeof b&&(k="POST");0<p.length&&g.ajax({url:a,type:k,dataType:"html",data:b}).done(function(a){d=arguments;p.html(e?g("<div>").append(g.parseHTML(a)).find(e):a)}).complete(c&&function(a,b){p.each(c,d||[a.responseText,b,a])});return this};g.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){g.fn[b]=
function(a){return this.on(b,a)}});g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ka,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ha[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":cd,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",
json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?x(x(a,g.ajaxSettings),b):x(g.ajaxSettings,a)},ajaxPrefilter:ja(Ac),ajaxTransport:ja(Kb),ajax:function(a,b){function c(a,b,e,d){var h,l,n,v;v=b;if(2!==K){K=2;q&&clearTimeout(q);m=f;p=d||"";T.readyState=0<a?4:0;d=200<=a&&300>a||304===a;if(e){n=x;for(var t=T,X,sa,I,B,Z=n.contents,R=n.dataTypes;"*"===R[0];)R.shift(),sa===f&&(sa=
n.mimeType||t.getResponseHeader("Content-Type"));if(sa)for(B in Z)if(Z[B]&&Z[B].test(sa)){R.unshift(B);break}if(R[0]in e)I=R[0];else{for(B in e){if(!R[0]||n.converters[B+" "+R[0]]){I=B;break}X||(X=B)}I=I||X}I?(I!==R[0]&&R.unshift(I),n=e[I]):n=void 0}a:{e=x;X=n;sa=T;I=d;var E,H,N,t={},Z=e.dataTypes.slice();if(Z[1])for(H in e.converters)t[H.toLowerCase()]=e.converters[H];for(B=Z.shift();B;)if(e.responseFields[B]&&(sa[e.responseFields[B]]=X),!N&&I&&e.dataFilter&&(X=e.dataFilter(X,e.dataType)),N=B,B=
Z.shift())if("*"===B)B=N;else if("*"!==N&&N!==B){H=t[N+" "+B]||t["* "+B];if(!H)for(E in t)if(n=E.split(" "),n[1]===B&&(H=t[N+" "+n[0]]||t["* "+n[0]])){!0===H?H=t[E]:!0!==t[E]&&(B=n[0],Z.unshift(n[1]));break}if(!0!==H)if(H&&e["throws"])X=H(X);else try{X=H(X)}catch(Da){n={state:"parsererror",error:H?Da:"No conversion from "+N+" to "+B};break a}}n={state:"success",data:X}}if(d)x.ifModified&&((v=T.getResponseHeader("Last-Modified"))&&(g.lastModified[k]=v),(v=T.getResponseHeader("etag"))&&(g.etag[k]=v)),
204===a||"HEAD"===x.type?v="nocontent":304===a?v="notmodified":(v=n.state,h=n.data,l=n.error,d=!l);else if(l=v,a||!v)v="error",0>a&&(a=0);T.status=a;T.statusText=(b||v)+"";d?w.resolveWith(A,[h,v,T]):w.rejectWith(A,[T,v,l]);T.statusCode(M);M=f;u&&C.trigger(d?"ajaxSuccess":"ajaxError",[T,x,d?h:l]);y.fireWith(A,[T,v]);u&&(C.trigger("ajaxComplete",[T,x]),--g.active||g.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=f);b=b||{};var e,d,k,p,q,u,m,v,x=g.ajaxSetup({},b),A=x.context||x,C=x.context&&
(A.nodeType||A.jquery)?g(A):g.event,w=g.Deferred(),y=g.Callbacks("once memory"),M=x.statusCode||{},X={},sa={},K=0,I="canceled",T={readyState:0,getResponseHeader:function(a){var b;if(2===K){if(!v)for(v={};b=La.exec(p);)v[b[1].toLowerCase()]=b[2];b=v[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===K?p:null},setRequestHeader:function(a,b){var c=a.toLowerCase();K||(a=sa[c]=sa[c]||a,X[a]=b);return this},overrideMimeType:function(a){K||(x.mimeType=a);return this},statusCode:function(a){var b;
if(a)if(2>K)for(b in a)M[b]=[M[b],a[b]];else T.always(a[T.status]);return this},abort:function(a){a=a||I;m&&m.abort(a);c(0,a);return this}};w.promise(T).complete=y.add;T.success=T.done;T.error=T.fail;x.url=((a||x.url||Ka)+"").replace(xc,"").replace(zc,ha[1]+"//");x.type=b.method||b.type||x.method||x.type;x.dataTypes=g.trim(x.dataType||"*").toLowerCase().match(Ha)||[""];null==x.crossDomain&&(e=bd.exec(x.url.toLowerCase()),x.crossDomain=!(!e||e[1]===ha[1]&&e[2]===ha[2]&&(e[3]||("http:"===e[1]?"80":
"443"))===(ha[3]||("http:"===ha[1]?"80":"443"))));x.data&&x.processData&&"string"!==typeof x.data&&(x.data=g.param(x.data,x.traditional));Y(Ac,x,b,T);if(2===K)return T;(u=x.global)&&0===g.active++&&g.event.trigger("ajaxStart");x.type=x.type.toUpperCase();x.hasContent=!Jb.test(x.type);k=x.url;x.hasContent||(x.data&&(k=x.url+=(qb.test(k)?"&":"?")+x.data,delete x.data),!1===x.cache&&(x.url=yc.test(k)?k.replace(yc,"$1_="+Ib++):k+(qb.test(k)?"&":"?")+"_="+Ib++));x.ifModified&&(g.lastModified[k]&&T.setRequestHeader("If-Modified-Since",
g.lastModified[k]),g.etag[k]&&T.setRequestHeader("If-None-Match",g.etag[k]));(x.data&&x.hasContent&&!1!==x.contentType||b.contentType)&&T.setRequestHeader("Content-Type",x.contentType);T.setRequestHeader("Accept",x.dataTypes[0]&&x.accepts[x.dataTypes[0]]?x.accepts[x.dataTypes[0]]+("*"!==x.dataTypes[0]?", "+cd+"; q=0.01":""):x.accepts["*"]);for(d in x.headers)T.setRequestHeader(d,x.headers[d]);if(x.beforeSend&&(!1===x.beforeSend.call(A,T,x)||2===K))return T.abort();I="abort";for(d in{success:1,error:1,
complete:1})T[d](x[d]);if(m=Y(Kb,x,b,T)){T.readyState=1;u&&C.trigger("ajaxSend",[T,x]);x.async&&0<x.timeout&&(q=setTimeout(function(){T.abort("timeout")},x.timeout));try{K=1,m.send(X,c)}catch(B){if(2>K)c(-1,B);else throw B;}}else c(-1,"No Transport");return T},getJSON:function(a,b,c){return g.get(a,b,c,"json")},getScript:function(a,b){return g.get(a,f,b,"script")}});g.each(["get","post"],function(a,b){g[b]=function(a,c,e,d){g.isFunction(c)&&(d=d||e,e=c,c=f);return g.ajax({url:a,type:b,dataType:d,
data:c,success:e})}});g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){g.globalEval(a);return a}}});g.ajaxPrefilter("script",function(a){a.cache===f&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});g.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=J.head||g("head")[0]||J.documentElement;return{send:function(e,d){b=J.createElement("script");
b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||d(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(f,!0)}}}});var Bc=[],eb=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Bc.pop()||g.expando+"_"+Ib++;this[a]=!0;return a}});g.ajaxPrefilter("json jsonp",
function(a,b,c){var e,k,p,q=!1!==a.jsonp&&(eb.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&eb.test(a.data)&&"data");if(q||"jsonp"===a.dataTypes[0])return e=a.jsonpCallback=g.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,q?a[q]=a[q].replace(eb,"$1"+e):!1!==a.jsonp&&(a.url+=(qb.test(a.url)?"&":"?")+a.jsonp+"="+e),a.converters["script json"]=function(){p||g.error(e+" was not called");return p[0]},a.dataTypes[0]="json",
k=d[e],d[e]=function(){p=arguments},c.always(function(){d[e]=k;a[e]&&(a.jsonpCallback=b.jsonpCallback,Bc.push(e));p&&g.isFunction(k)&&k(p[0]);p=k=f}),"script"});var Za,rb,dd=0,Ma=d.ActiveXObject&&function(){for(var a in Za)Za[a](f,!0)};g.ajaxSettings.xhr=d.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&X()))a:{try{a=new d.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:X;rb=g.ajaxSettings.xhr();g.support.cors=!!rb&&"withCredentials"in rb;(rb=g.support.ajax=!!rb)&&g.ajaxTransport(function(a){if(!a.crossDomain||
g.support.cors){var b;return{send:function(c,e){var k,p,q=a.xhr();a.username?q.open(a.type,a.url,a.async,a.username,a.password):q.open(a.type,a.url,a.async);if(a.xhrFields)for(p in a.xhrFields)q[p]=a.xhrFields[p];a.mimeType&&q.overrideMimeType&&q.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");try{for(p in c)q.setRequestHeader(p,c[p])}catch(u){}q.send(a.hasContent&&a.data||null);b=function(c,d){var p,n,u,m;try{if(b&&(d||4===q.readyState))if(b=
f,k&&(q.onreadystatechange=g.noop,Ma&&delete Za[k]),d)4!==q.readyState&&q.abort();else{m={};p=q.status;n=q.getAllResponseHeaders();"string"===typeof q.responseText&&(m.text=q.responseText);try{u=q.statusText}catch(v){u=""}p||!a.isLocal||a.crossDomain?1223===p&&(p=204):p=m.text?200:404}}catch(x){d||e(-1,x)}m&&e(p,u,m,n)};a.async?4===q.readyState?setTimeout(b):(k=++dd,Ma&&(Za||(Za={},g(d).unload(Ma)),Za[k]=b),q.onreadystatechange=b):b()},abort:function(){b&&b(f,!0)}}}});var Na,Lb,ed=/^(?:toggle|show|hide)$/,
$a=RegExp("^(?:([+-])=|)("+hb+")([a-z%]*)$","i"),gd=/queueHooks$/,bc=[function(a,b,c){var e,d,k,f,p,q=this,m={},v=a.style,x=a.nodeType&&W(a),A=g._data(a,"fxshow");c.queue||(f=g._queueHooks(a,"fx"),null==f.unqueued&&(f.unqueued=0,p=f.empty.fire,f.empty.fire=function(){f.unqueued||p()}),f.unqueued++,q.always(function(){q.always(function(){f.unqueued--;g.queue(a,"fx").length||f.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[v.overflow,v.overflowX,v.overflowY],"inline"===
g.css(a,"display")&&"none"===g.css(a,"float")&&(g.support.inlineBlockNeedsLayout&&"inline"!==Ta(a.nodeName)?v.zoom=1:v.display="inline-block"));c.overflow&&(v.overflow="hidden",g.support.shrinkWrapBlocks||q.always(function(){v.overflow=c.overflow[0];v.overflowX=c.overflow[1];v.overflowY=c.overflow[2]}));for(e in b)d=b[e],ed.exec(d)&&(delete b[e],k=k||"toggle"===d,d!==(x?"hide":"show")&&(m[e]=A&&A[e]||g.style(a,e)));if(!g.isEmptyObject(m))for(e in A?"hidden"in A&&(x=A.hidden):A=g._data(a,"fxshow",
{}),k&&(A.hidden=!x),x?g(a).show():q.done(function(){g(a).hide()}),q.done(function(){var b;g._removeData(a,"fxshow");for(b in m)g.style(a,b,m[b])}),m)b=u(x?A[e]:0,e,q),e in A||(A[e]=b.start,x&&(b.end=b.start,b.start="width"===e||"height"===e?1:0))}],sb={"*":[function(a,b){var c=this.createTween(a,b),e=c.cur(),d=$a.exec(b),f=d&&d[3]||(g.cssNumber[a]?"":"px"),k=(g.cssNumber[a]||"px"!==f&&+e)&&$a.exec(g.css(c.elem,a)),p=1,q=20;if(k&&k[3]!==f){f=f||k[3];d=d||[];k=+e||1;do p=p||".5",k/=p,g.style(c.elem,
a,k+f);while(p!==(p=c.cur()/e)&&1!==p&&--q)}d&&(k=c.start=+k||+e||0,c.unit=f,c.end=d[1]?k+(d[1]+1)*d[2]:+d[2]);return c}]};g.Animation=g.extend(A,{tweener:function(a,b){g.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,e=0,d=a.length;e<d;e++)c=a[e],sb[c]=sb[c]||[],sb[c].unshift(b)},prefilter:function(a,b){b?bc.unshift(a):bc.push(a)}});g.Tween=Z;Z.prototype={constructor:Z,init:function(a,b,c,e,d,k){this.elem=a;this.prop=c;this.easing=d||"swing";this.options=b;this.start=this.now=this.cur();this.end=
e;this.unit=k||(g.cssNumber[c]?"":"px")},cur:function(){var a=Z.propHooks[this.prop];return a&&a.get?a.get(this):Z.propHooks._default.get(this)},run:function(a){var b,c=Z.propHooks[this.prop];this.pos=this.options.duration?b=g.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):Z.propHooks._default.set(this);return this}};Z.prototype.init.prototype=
Z.prototype;Z.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=g.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(g.fx.step[a.prop])g.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[g.cssProps[a.prop]]||g.cssHooks[a.prop])?g.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};Z.propHooks.scrollTop=Z.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};
g.each(["toggle","show","hide"],function(a,b){var c=g.fn[b];g.fn[b]=function(a,e,d){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(Da(b,!0),a,e,d)}});g.fn.extend({fadeTo:function(a,b,c,e){return this.filter(W).css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,c,e){var d=g.isEmptyObject(a),k=g.speed(b,c,e);b=function(){var b=A(this,g.extend({},a),k);(d||g._data(this,"finish"))&&b.stop(!0)};b.finish=b;return d||!1===k.queue?this.each(b):this.queue(k.queue,
b)},stop:function(a,b,c){var e=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=f);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,d=null!=a&&a+"queueHooks",k=g.timers,f=g._data(this);if(d)f[d]&&f[d].stop&&e(f[d]);else for(d in f)f[d]&&f[d].stop&&gd.test(d)&&e(f[d]);for(d=k.length;d--;)k[d].elem!==this||null!=a&&k[d].queue!==a||(k[d].anim.stop(c),b=!1,k.splice(d,1));!b&&c||g.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,
c=g._data(this),e=c[a+"queue"];b=c[a+"queueHooks"];var d=g.timers,k=e?e.length:0;c.finish=!0;g.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=d.length;b--;)d[b].elem===this&&d[b].queue===a&&(d[b].anim.stop(!0),d.splice(b,1));for(b=0;b<k;b++)e[b]&&e[b].finish&&e[b].finish.call(this);delete c.finish})}});g.each({slideDown:Da("show"),slideUp:Da("hide"),slideToggle:Da("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){g.fn[a]=function(a,c,e){return this.animate(b,
a,c,e)}});g.speed=function(a,b,c){var e=a&&"object"===typeof a?g.extend({},a):{complete:c||!c&&b||g.isFunction(a)&&a,duration:a,easing:c&&b||b&&!g.isFunction(b)&&b};e.duration=g.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in g.fx.speeds?g.fx.speeds[e.duration]:g.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){g.isFunction(e.old)&&e.old.call(this);e.queue&&g.dequeue(this,e.queue)};return e};g.easing={linear:function(a){return a},
swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};g.timers=[];g.fx=Z.prototype.init;g.fx.tick=function(){var a,b=g.timers,c=0;for(Na=g.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||g.fx.stop();Na=f};g.fx.timer=function(a){a()&&g.timers.push(a)&&g.fx.start()};g.fx.interval=13;g.fx.start=function(){Lb||(Lb=setInterval(g.fx.tick,g.fx.interval))};g.fx.stop=function(){clearInterval(Lb);Lb=null};g.fx.speeds={slow:600,fast:200,_default:400};g.fx.step={};g.expr&&g.expr.filters&&
(g.expr.filters.animated=function(a){return g.grep(g.timers,function(b){return a===b.elem}).length});g.fn.offset=function(a){if(arguments.length)return a===f?this:this.each(function(b){g.offset.setOffset(this,a,b)});var b,c,e={top:0,left:0},d=(c=this[0])&&c.ownerDocument;if(d){b=d.documentElement;if(!g.contains(b,c))return e;typeof c.getBoundingClientRect!==fa&&(e=c.getBoundingClientRect());c=ib(d);return{top:e.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:e.left+(c.pageXOffset||b.scrollLeft)-
(b.clientLeft||0)}}};g.offset={setOffset:function(a,b,c){var e=g.css(a,"position");"static"===e&&(a.style.position="relative");var d=g(a),k=d.offset(),f=g.css(a,"top"),p=g.css(a,"left"),q={},u={};("absolute"===e||"fixed"===e)&&-1<g.inArray("auto",[f,p])?(u=d.position(),e=u.top,p=u.left):(e=parseFloat(f)||0,p=parseFloat(p)||0);g.isFunction(b)&&(b=b.call(a,c,k));null!=b.top&&(q.top=b.top-k.top+e);null!=b.left&&(q.left=b.left-k.left+p);"using"in b?b.using.call(a,q):d.css(q)}};g.fn.extend({position:function(){if(this[0]){var a,
b,c={top:0,left:0},e=this[0];"fixed"===g.css(e,"position")?b=e.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),g.nodeName(a[0],"html")||(c=a.offset()),c.top+=g.css(a[0],"borderTopWidth",!0),c.left+=g.css(a[0],"borderLeftWidth",!0));return{top:b.top-c.top-g.css(e,"marginTop",!0),left:b.left-c.left-g.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||jb;a&&!g.nodeName(a,"html")&&"static"===g.css(a,"position");)a=a.offsetParent;return a||
jb})}});g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);g.fn[a]=function(e){return g.access(this,function(a,e,d){var h=ib(a);if(d===f)return h?b in h?h[b]:h.document.documentElement[e]:a[e];h?h.scrollTo(c?g(h).scrollLeft():d,c?d:g(h).scrollTop()):a[e]=d},a,e,arguments.length,null)}});g.each({Height:"height",Width:"width"},function(a,b){g.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,e){g.fn[e]=function(e,d){var k=arguments.length&&(c||"boolean"!==
typeof e),p=c||(!0===e||!0===d?"margin":"border");return g.access(this,function(b,c,e){return g.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):e===f?g.css(b,c,p):g.style(b,c,e,p)},b,k?e:f,k,null)}})});g.fn.size=function(){return this.length};g.fn.andSelf=g.fn.addBack;"object"===typeof module&&module&&"object"===typeof module.exports?module.exports=g:(d.jQuery=d.$=g,"function"===
typeof define&&define.amd&&define("jquery",[],function(){return g}))})(window);+function(d){var f=function(k){d(k).on("click",'[data-dismiss="alert"]',this.close)};f.prototype.close=function(k){function c(){b.trigger("closed.bs.alert").remove()}var f=d(this),a=f.attr("data-target");a||(a=(a=f.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,""));var b=d(a);k&&k.preventDefault();b.length||(b=f.hasClass("alert")?f:f.parent());b.trigger(k=d.Event("close.bs.alert"));k.isDefaultPrevented()||(b.removeClass("in"),d.support.transition&&b.hasClass("fade")?b.one(d.support.transition.end,c).emulateTransitionEnd(150):
c())};var m=d.fn.alert;d.fn.alert=function(k){return this.each(function(){var c=d(this),m=c.data("bs.alert");m||c.data("bs.alert",m=new f(this));"string"==typeof k&&m[k].call(c)})};d.fn.alert.Constructor=f;d.fn.alert.noConflict=function(){d.fn.alert=m;return this};d(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',f.prototype.close)}(window.jQuery);
+function(d){var f=function(k,c){this.$element=d(k);this.options=d.extend({},f.DEFAULTS,c)};f.DEFAULTS={loadingText:"loading..."};f.prototype.setState=function(d){var c=this.$element,f=c.is("input")?"val":"html",a=c.data();d+="Text";a.resetText||c.data("resetText",c[f]());c[f](a[d]||this.options[d]);setTimeout(function(){"loadingText"==d?c.addClass("disabled").attr("disabled","disabled"):c.removeClass("disabled").removeAttr("disabled")},0)};f.prototype.toggle=function(){var d=this.$element.closest('[data-toggle="buttons"]');
d.length&&"radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&d.find(".active").removeClass("active");this.$element.toggleClass("active")};var m=d.fn.button;d.fn.button=function(k){return this.each(function(){var c=d(this),m=c.data("bs.button"),a="object"==typeof k&&k;m||c.data("bs.button",m=new f(this,a));"toggle"==k?m.toggle():k&&m.setState(k)})};d.fn.button.Constructor=f;d.fn.button.noConflict=function(){d.fn.button=m;return this};
d(document).on("click.bs.button.data-api","[data-toggle^=button]",function(f){var c=d(f.target);c.hasClass("btn")||(c=c.closest(".btn"));c.button("toggle");f.preventDefault()})}(window.jQuery);
+function(d){var f=function(f,c){this.$element=d(f);this.$indicators=this.$element.find(".carousel-indicators");this.options=c;this.paused=this.sliding=this.interval=this.$active=this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter",d.proxy(this.pause,this)).on("mouseleave",d.proxy(this.cycle,this))};f.DEFAULTS={interval:5E3,pause:"hover",wrap:!0};f.prototype.cycle=function(f){f||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&
(this.interval=setInterval(d.proxy(this.next,this),this.options.interval));return this};f.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};f.prototype.to=function(f){var c=this,m=this.getActiveIndex();if(!(f>this.$items.length-1||0>f))return this.sliding?this.$element.one("slid",function(){c.to(f)}):m==f?this.pause().cycle():this.slide(f>m?"next":"prev",d(this.$items[f]))};f.prototype.pause=
function(f){f||(this.paused=!0);this.$element.find(".next, .prev").length&&d.support.transition.end&&(this.$element.trigger(d.support.transition.end),this.cycle(!0));this.interval=clearInterval(this.interval);return this};f.prototype.next=function(){if(!this.sliding)return this.slide("next")};f.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};f.prototype.slide=function(f,c){var m=this.$element.find(".item.active"),a=c||m[f](),b=this.interval,e="next"==f?"left":"right",p="next"==
f?"first":"last",q=this;if(!a.length){if(!this.options.wrap)return;a=this.$element.find(".item")[p]()}this.sliding=!0;b&&this.pause();p=d.Event("slide.bs.carousel",{relatedTarget:a[0],direction:e});if(!a.hasClass("active")){this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var a=d(q.$indicators.children()[q.getActiveIndex()]);a&&a.addClass("active")}));if(d.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(p);
if(p.isDefaultPrevented())return;a.addClass(f);a[0].offsetWidth;m.addClass(e);a.addClass(e);m.one(d.support.transition.end,function(){a.removeClass([f,e].join(" ")).addClass("active");m.removeClass(["active",e].join(" "));q.sliding=!1;setTimeout(function(){q.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{this.$element.trigger(p);if(p.isDefaultPrevented())return;m.removeClass("active");a.addClass("active");this.sliding=!1;this.$element.trigger("slid")}b&&this.cycle();return this}};var m=
d.fn.carousel;d.fn.carousel=function(k){return this.each(function(){var c=d(this),m=c.data("bs.carousel"),a=d.extend({},f.DEFAULTS,c.data(),"object"==typeof k&&k),b="string"==typeof k?k:a.slide;m||c.data("bs.carousel",m=new f(this,a));if("number"==typeof k)m.to(k);else if(b)m[b]();else a.interval&&m.pause().cycle()})};d.fn.carousel.Constructor=f;d.fn.carousel.noConflict=function(){d.fn.carousel=m;return this};d(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(f){var c=
d(this),m,a=d(c.attr("data-target")||(m=c.attr("href"))&&m.replace(/.*(?=#[^\s]+$)/,""));m=d.extend({},a.data(),c.data());var b=c.attr("data-slide-to");b&&(m.interval=!1);a.carousel(m);(b=c.attr("data-slide-to"))&&a.data("bs.carousel").to(b);f.preventDefault()});d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var f=d(this);f.carousel(f.data())})})}(window.jQuery);
+function(d){function f(){d(k).remove();d(c).each(function(a){var c=m(d(this));c.hasClass("open")&&(c.trigger(a=d.Event("hide.bs.dropdown")),a.isDefaultPrevented()||c.removeClass("open").trigger("hidden.bs.dropdown"))})}function m(a){var c=a.attr("data-target");c||(c=(c=a.attr("href"))&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));return(c=c&&d(c))&&c.length?c:a.parent()}var k=".dropdown-backdrop",c="[data-toggle=dropdown]",y=function(a){d(a).on("click.bs.dropdown",this.toggle)};y.prototype.toggle=
function(a){var c=d(this);if(!c.is(".disabled, :disabled")){var k=m(c);a=k.hasClass("open");f();if(!a){if("ontouchstart"in document.documentElement&&!k.closest(".navbar-nav").length)d('<div class="dropdown-backdrop"/>').insertAfter(d(this)).on("click",f);k.trigger(a=d.Event("show.bs.dropdown"));if(a.isDefaultPrevented())return;k.toggleClass("open").trigger("shown.bs.dropdown");c.focus()}return!1}};y.prototype.keydown=function(a){if(/(38|40|27)/.test(a.keyCode)){var e=d(this);a.preventDefault();a.stopPropagation();
if(!e.is(".disabled, :disabled")){var f=m(e),k=f.hasClass("open");if(!k||k&&27==a.keyCode)return 27==a.which&&f.find(c).focus(),e.click();e=d("[role=menu] li:not(.divider):visible a",f);e.length&&(f=e.index(e.filter(":focus")),38==a.keyCode&&0<f&&f--,40==a.keyCode&&f<e.length-1&&f++,~f||(f=0),e.eq(f).focus())}}};var a=d.fn.dropdown;d.fn.dropdown=function(a){return this.each(function(){var c=d(this),f=c.data("dropdown");f||c.data("dropdown",f=new y(this));"string"==typeof a&&f[a].call(c)})};d.fn.dropdown.Constructor=
y;d.fn.dropdown.noConflict=function(){d.fn.dropdown=a;return this};d(document).on("click.bs.dropdown.data-api",f).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",c,y.prototype.toggle).on("keydown.bs.dropdown.data-api",c+", [role=menu]",y.prototype.keydown)}(window.jQuery);
+function(d){var f=function(f,c){this.options=c;this.$element=d(f);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.load(this.options.remote)};f.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};f.prototype.toggle=function(d){return this[this.isShown?"hide":"show"](d)};f.prototype.show=function(f){var c=this,m=d.Event("show.bs.modal",{relatedTarget:f});this.$element.trigger(m);this.isShown||m.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',
d.proxy(this.hide,this)),this.backdrop(function(){var a=d.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body);c.$element.show();a&&c.$element[0].offsetWidth;c.$element.addClass("in").attr("aria-hidden",!1);c.enforceFocus();var b=d.Event("shown.bs.modal",{relatedTarget:f});a?c.$element.find(".modal-dialog").one(d.support.transition.end,function(){c.$element.focus().trigger(b)}).emulateTransitionEnd(300):c.$element.focus().trigger(b)}))};f.prototype.hide=
function(f){f&&f.preventDefault();f=d.Event("hide.bs.modal");this.$element.trigger(f);this.isShown&&!f.isDefaultPrevented()&&(this.isShown=!1,this.escape(),d(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),d.support.transition&&this.$element.hasClass("fade")?this.$element.one(d.support.transition.end,d.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};f.prototype.enforceFocus=function(){d(document).off("focusin.bs.modal").on("focusin.bs.modal",
d.proxy(function(d){this.$element[0]===d.target||this.$element.has(d.target).length||this.$element.focus()},this))};f.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",d.proxy(function(d){27==d.which&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};f.prototype.hideModal=function(){var d=this;this.$element.hide();this.backdrop(function(){d.removeBackdrop();d.$element.trigger("hidden.bs.modal")})};f.prototype.removeBackdrop=
function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};f.prototype.backdrop=function(f){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var m=d.support.transition&&c;this.$backdrop=d('<div class="modal-backdrop '+c+'" />').appendTo(document.body);this.$element.on("click.dismiss.modal",d.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));m&&
this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");f&&(m?this.$backdrop.one(d.support.transition.end,f).emulateTransitionEnd(150):f())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),d.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(d.support.transition.end,f).emulateTransitionEnd(150):f()):f&&f()};var m=d.fn.modal;d.fn.modal=function(k,c){return this.each(function(){var m=d(this),a=m.data("bs.modal"),b=d.extend({},f.DEFAULTS,m.data(),"object"==typeof k&&
k);a||m.data("bs.modal",a=new f(this,b));if("string"==typeof k)a[k](c);else b.show&&a.show(c)})};d.fn.modal.Constructor=f;d.fn.modal.noConflict=function(){d.fn.modal=m;return this};d(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(f){var c=d(this),m=c.attr("href"),a=d(c.attr("data-target")||m&&m.replace(/.*(?=#[^\s]+$)/,"")),m=a.data("modal")?"toggle":d.extend({remote:!/#/.test(m)&&m},a.data(),c.data());f.preventDefault();a.modal(m,this).one("hide",function(){c.is(":visible")&&
c.focus()})});d(document).on("show.bs.modal",".modal",function(){d(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){d(document.body).removeClass("modal-open")})}(window.jQuery);
+function(d){var f=function(d,c){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",d,c)};f.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};f.prototype.init=function(f,c,m){this.enabled=!0;this.type=f;this.$element=d(c);this.options=this.getOptions(m);f=this.options.trigger.split(" ");
for(c=f.length;c--;)if(m=f[c],"click"==m)this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this));else if("manual"!=m){var a="hover"==m?"mouseleave":"blur";this.$element.on(("hover"==m?"mouseenter":"focus")+"."+this.type,this.options.selector,d.proxy(this.enter,this));this.$element.on(a+"."+this.type,this.options.selector,d.proxy(this.leave,this))}this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};f.prototype.getDefaults=
function(){return f.DEFAULTS};f.prototype.getOptions=function(f){f=d.extend({},this.getDefaults(),this.$element.data(),f);f.delay&&"number"==typeof f.delay&&(f.delay={show:f.delay,hide:f.delay});return f};f.prototype.getDelegateOptions=function(){var f={},c=this.getDefaults();this._options&&d.each(this._options,function(d,a){c[d]!=a&&(f[d]=a)});return f};f.prototype.enter=function(f){var c=f instanceof this.constructor?f:d(f.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
clearTimeout(c.timeout);c.hoverState="in";if(!c.options.delay||!c.options.delay.show)return c.show();c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)};f.prototype.leave=function(f){var c=f instanceof this.constructor?f:d(f.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(c.timeout);c.hoverState="out";if(!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)};
f.prototype.show=function(){var f=d.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(f),!f.isDefaultPrevented())){var c=this.tip();this.setContent();this.options.animation&&c.addClass("fade");var f="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,m=/\s?auto?\s?/i,a=m.test(f);a&&(f=f.replace(m,"")||"top");c.detach().css({top:0,left:0,display:"block"}).addClass(f);this.options.container?c.appendTo(this.options.container):
c.insertAfter(this.$element);var m=this.getPosition(),b=c[0].offsetWidth,e=c[0].offsetHeight;if(a){var p=this.$element.parent(),a=f,q=document.documentElement.scrollTop||document.body.scrollTop,K="body"==this.options.container?window.innerWidth:p.outerWidth(),B="body"==this.options.container?window.innerHeight:p.outerHeight(),p="body"==this.options.container?0:p.offset().left,f="bottom"==f&&m.top+m.height+e-q>B?"top":"top"==f&&0>m.top-q-e?"bottom":"right"==f&&m.right+b>K?"left":"left"==f&&m.left-
b<p?"right":f;c.removeClass(a).addClass(f)}c=this.getCalculatedOffset(f,m,b,e);this.applyPlacement(c,f);this.$element.trigger("shown.bs."+this.type)}};f.prototype.applyPlacement=function(d,c){var f,a=this.tip(),b=a[0].offsetWidth,e=a[0].offsetHeight,p=parseInt(a.css("margin-top"),10),q=parseInt(a.css("margin-left"),10);isNaN(p)&&(p=0);isNaN(q)&&(q=0);d.top+=p;d.left+=q;a.offset(d).addClass("in");p=a[0].offsetWidth;q=a[0].offsetHeight;"top"==c&&q!=e&&(f=!0,d.top=d.top+e-q);/bottom|top/.test(c)?(e=
0,0>d.left&&(e=-2*d.left,d.left=0,a.offset(d),p=a[0].offsetWidth),this.replaceArrow(e-b+p,p,"left")):this.replaceArrow(q-e,q,"top");f&&a.offset(d)};f.prototype.replaceArrow=function(d,c,f){this.arrow().css(f,d?50*(1-d/c)+"%":"")};f.prototype.setContent=function(){var d=this.tip(),c=this.getTitle();d.find(".tooltip-inner")[this.options.html?"html":"text"](c);d.removeClass("fade in top bottom left right")};f.prototype.hide=function(){function f(){"in"!=c.hoverState&&m.detach()}var c=this,m=this.tip(),
a=d.Event("hide.bs."+this.type);this.$element.trigger(a);if(!a.isDefaultPrevented())return m.removeClass("in"),d.support.transition&&this.$tip.hasClass("fade")?m.one(d.support.transition.end,f).emulateTransitionEnd(150):f(),this.$element.trigger("hidden.bs."+this.type),this};f.prototype.fixTitle=function(){var d=this.$element;(d.attr("title")||"string"!=typeof d.attr("data-original-title"))&&d.attr("data-original-title",d.attr("title")||"").attr("title","")};f.prototype.hasContent=function(){return this.getTitle()};
f.prototype.getPosition=function(){var f=this.$element[0];return d.extend({},"function"==typeof f.getBoundingClientRect?f.getBoundingClientRect():{width:f.offsetWidth,height:f.offsetHeight},this.$element.offset())};f.prototype.getCalculatedOffset=function(d,c,f,a){return"bottom"==d?{top:c.top+c.height,left:c.left+c.width/2-f/2}:"top"==d?{top:c.top-a,left:c.left+c.width/2-f/2}:"left"==d?{top:c.top+c.height/2-a/2,left:c.left-f}:{top:c.top+c.height/2-a/2,left:c.left+c.width}};f.prototype.getTitle=function(){var d=
this.$element,c=this.options;return d.attr("data-original-title")||("function"==typeof c.title?c.title.call(d[0]):c.title)};f.prototype.tip=function(){return this.$tip=this.$tip||d(this.options.template)};f.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};f.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)};f.prototype.enable=function(){this.enabled=!0};f.prototype.disable=function(){this.enabled=!1};
f.prototype.toggleEnabled=function(){this.enabled=!this.enabled};f.prototype.toggle=function(f){f=f?d(f.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;f.tip().hasClass("in")?f.leave(f):f.enter(f)};f.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var m=d.fn.tooltip;d.fn.tooltip=function(k){return this.each(function(){var c=d(this),m=c.data("bs.tooltip"),a="object"==typeof k&&k;m||c.data("bs.tooltip",m=new f(this,a));
if("string"==typeof k)m[k]()})};d.fn.tooltip.Constructor=f;d.fn.tooltip.noConflict=function(){d.fn.tooltip=m;return this}}(window.jQuery);
+function(d){var f=function(d,c){this.init("popover",d,c)};if(!d.fn.tooltip)throw Error("Popover requires tooltip.js");f.DEFAULTS=d.extend({},d.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});f.prototype=d.extend({},d.fn.tooltip.Constructor.prototype);f.prototype.constructor=f;f.prototype.getDefaults=function(){return f.DEFAULTS};f.prototype.setContent=
function(){var d=this.tip(),c=this.getTitle(),f=this.getContent();d.find(".popover-title")[this.options.html?"html":"text"](c);d.find(".popover-content")[this.options.html?"html":"text"](f);d.removeClass("fade top bottom left right in");d.find(".popover-title").html()||d.find(".popover-title").hide()};f.prototype.hasContent=function(){return this.getTitle()||this.getContent()};f.prototype.getContent=function(){var d=this.$element,c=this.options;return d.attr("data-content")||("function"==typeof c.content?
c.content.call(d[0]):c.content)};f.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};f.prototype.tip=function(){this.$tip||(this.$tip=d(this.options.template));return this.$tip};var m=d.fn.popover;d.fn.popover=function(k){return this.each(function(){var c=d(this),m=c.data("bs.popover"),a="object"==typeof k&&k;m||c.data("bs.popover",m=new f(this,a));if("string"==typeof k)m[k]()})};d.fn.popover.Constructor=f;d.fn.popover.noConflict=function(){d.fn.popover=m;return this}}(window.jQuery);
+function(d){var f=function(f){this.element=d(f)};f.prototype.show=function(){var f=this.element,c=f.closest("ul:not(.dropdown-menu)"),m=f.attr("data-target");m||(m=(m=f.attr("href"))&&m.replace(/.*(?=#[^\s]*$)/,""));if(!f.parent("li").hasClass("active")){var a=c.find(".active:last a")[0],b=d.Event("show.bs.tab",{relatedTarget:a});f.trigger(b);b.isDefaultPrevented()||(m=d(m),this.activate(f.parent("li"),c),this.activate(m,m.parent(),function(){f.trigger({type:"shown.bs.tab",relatedTarget:a})}))}};
f.prototype.activate=function(f,c,m){function a(){b.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");f.addClass("active");e?(f[0].offsetWidth,f.addClass("in")):f.removeClass("fade");f.parent(".dropdown-menu")&&f.closest("li.dropdown").addClass("active");m&&m()}var b=c.find("> .active"),e=m&&d.support.transition&&b.hasClass("fade");e?b.one(d.support.transition.end,a).emulateTransitionEnd(150):a();b.removeClass("in")};var m=d.fn.tab;d.fn.tab=function(k){return this.each(function(){var c=
d(this),m=c.data("bs.tab");m||c.data("bs.tab",m=new f(this));if("string"==typeof k)m[k]()})};d.fn.tab.Constructor=f;d.fn.tab.noConflict=function(){d.fn.tab=m;return this};d(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(f){f.preventDefault();d(this).tab("show")})}(window.jQuery);
+function(d){var f=function(k,c){this.options=d.extend({},f.DEFAULTS,c);this.$window=d(window).on("scroll.bs.affix.data-api",d.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",d.proxy(this.checkPositionWithEventLoop,this));this.$element=d(k);this.affixed=this.unpin=null;this.checkPosition()};f.RESET="affix affix-top affix-bottom";f.DEFAULTS={offset:0};f.prototype.checkPositionWithEventLoop=function(){setTimeout(d.proxy(this.checkPosition,this),1)};f.prototype.checkPosition=function(){if(this.$element.is(":visible")){var k=
d(document).height(),c=this.$window.scrollTop(),m=this.$element.offset(),a=this.options.offset,b=a.top,e=a.bottom;"object"!=typeof a&&(e=b=a);"function"==typeof b&&(b=a.top());"function"==typeof e&&(e=a.bottom());k=null!=this.unpin&&c+this.unpin<=m.top?!1:null!=e&&m.top+this.$element.height()>=k-e?"bottom":null!=b&&c<=b?"top":!1;this.affixed!==k&&(this.unpin&&this.$element.css("top",""),this.affixed=k,this.unpin="bottom"==k?m.top-c:null,this.$element.removeClass(f.RESET).addClass("affix"+(k?"-"+k:
"")),"bottom"==k&&this.$element.offset({top:document.body.offsetHeight-e-this.$element.height()}))}};var m=d.fn.affix;d.fn.affix=function(k){return this.each(function(){var c=d(this),m=c.data("bs.affix"),a="object"==typeof k&&k;m||c.data("bs.affix",m=new f(this,a));if("string"==typeof k)m[k]()})};d.fn.affix.Constructor=f;d.fn.affix.noConflict=function(){d.fn.affix=m;return this};d(window).on("load",function(){d('[data-spy="affix"]').each(function(){var f=d(this),c=f.data();c.offset=c.offset||{};c.offsetBottom&&
(c.offset.bottom=c.offsetBottom);c.offsetTop&&(c.offset.top=c.offsetTop);f.affix(c)})})}(window.jQuery);
+function(d){var f=function(k,c){this.$element=d(k);this.options=d.extend({},f.DEFAULTS,c);this.transitioning=null;this.options.parent&&(this.$parent=d(this.options.parent));this.options.toggle&&this.toggle()};f.DEFAULTS={toggle:!0};f.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};f.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var f=d.Event("show.bs.collapse");this.$element.trigger(f);if(!f.isDefaultPrevented()){if((f=this.$parent&&
this.$parent.find("> .panel > .in"))&&f.length){var c=f.data("bs.collapse");if(c&&c.transitioning)return;f.collapse("hide");c||f.data("bs.collapse",null)}var m=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[m](0);this.transitioning=1;f=function(){this.$element.removeClass("collapsing").addClass("in")[m]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!d.support.transition)return f.call(this);c=d.camelCase(["scroll",m].join("-"));this.$element.one(d.support.transition.end,
d.proxy(f,this)).emulateTransitionEnd(350)[m](this.$element[0][c])}}};f.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var f=d.Event("hide.bs.collapse");this.$element.trigger(f);if(!f.isDefaultPrevented()){f=this.dimension();this.$element[f](this.$element[f]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var c=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};
if(!d.support.transition)return c.call(this);this.$element[f](0).one(d.support.transition.end,d.proxy(c,this)).emulateTransitionEnd(350)}}};f.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var m=d.fn.collapse;d.fn.collapse=function(k){return this.each(function(){var c=d(this),m=c.data("bs.collapse"),a=d.extend({},f.DEFAULTS,c.data(),"object"==typeof k&&k);m||c.data("bs.collapse",m=new f(this,a));if("string"==typeof k)m[k]()})};d.fn.collapse.Constructor=f;d.fn.collapse.noConflict=
function(){d.fn.collapse=m;return this};d(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(f){var c=d(this),m;f=c.attr("data-target")||f.preventDefault()||(m=c.attr("href"))&&m.replace(/.*(?=#[^\s]+$)/,"");m=d(f);var a=(f=m.data("bs.collapse"))?"toggle":c.data(),b=c.attr("data-parent"),e=b&&d(b);f&&f.transitioning||(e&&e.find('[data-toggle=collapse][data-parent="'+b+'"]').not(c).addClass("collapsed"),c[m.hasClass("in")?"addClass":"removeClass"]("collapsed"));m.collapse(a)})}(window.jQuery);
+function(d){function f(k,c){var m,a=d.proxy(this.process,this);this.$element=d(k).is("body")?d(window):d(k);this.$body=d("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",a);this.options=d.extend({},f.DEFAULTS,c);this.selector=(this.options.target||(m=d(k).attr("href"))&&m.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.offsets=d([]);this.targets=d([]);this.activeTarget=null;this.refresh();this.process()}f.DEFAULTS={offset:10};f.prototype.refresh=function(){var f=
this.$element[0]==window?"offset":"position";this.offsets=d([]);this.targets=d([]);var c=this;this.$body.find(this.selector).map(function(){var m=d(this),m=m.data("target")||m.attr("href"),a=/^#\w/.test(m)&&d(m);return a&&a.length&&[[a[f]().top+(!d.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),m]]||null}).sort(function(c,a){return c[0]-a[0]}).each(function(){c.offsets.push(this[0]);c.targets.push(this[1])})};f.prototype.process=function(){var d=this.$scrollElement.scrollTop()+this.options.offset,
c=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),f=this.offsets,a=this.targets,b=this.activeTarget,e;if(d>=c)return b!=(e=a.last()[0])&&this.activate(e);for(e=f.length;e--;)b!=a[e]&&d>=f[e]&&(!f[e+1]||d<=f[e+1])&&this.activate(a[e])};f.prototype.activate=function(f){this.activeTarget=f;d(this.selector).parents(".active").removeClass("active");f=d(this.selector+'[data-target="'+f+'"],'+this.selector+'[href="'+f+'"]').parents("li").addClass("active");
f.parent(".dropdown-menu").length&&(f=f.closest("li.dropdown").addClass("active"));f.trigger("activate")};var m=d.fn.scrollspy;d.fn.scrollspy=function(k){return this.each(function(){var c=d(this),m=c.data("bs.scrollspy"),a="object"==typeof k&&k;m||c.data("bs.scrollspy",m=new f(this,a));if("string"==typeof k)m[k]()})};d.fn.scrollspy.Constructor=f;d.fn.scrollspy.noConflict=function(){d.fn.scrollspy=m;return this};d(window).on("load",function(){d('[data-spy="scroll"]').each(function(){var f=d(this);
f.scrollspy(f.data())})})}(window.jQuery);
+function(d){d.fn.emulateTransitionEnd=function(f){var m=!1,k=this;d(this).one(d.support.transition.end,function(){m=!0});setTimeout(function(){m||d(k).trigger(d.support.transition.end)},f);return this};d(function(){var f=d.support,m;a:{m=document.createElement("bootstrap");var k={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in k)if(void 0!==m.style[c]){m={end:k[c]};break a}m=void 0}f.transition=
m})}(window.jQuery);(function(){var d=this,f=d._,m={},k=Array.prototype,c=Object.prototype,y=k.push,a=k.slice,b=k.concat,e=c.toString,p=c.hasOwnProperty,q=k.forEach,K=k.map,B=k.reduce,N=k.reduceRight,F=k.filter,v=k.every,M=k.some,I=k.indexOf,C=k.lastIndexOf,c=Array.isArray,R=Object.keys,H=Function.prototype.bind,w=function(a){if(a instanceof w)return a;if(!(this instanceof w))return new w(a);this._wrapped=a};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=
w):d._=w;w.VERSION="1.4.1";var W=w.each=w.forEach=function(a,b,c){if(q&&a.forEach===q)a.forEach(b,c);else if(a.length===+a.length)for(var e=0,d=a.length;e<d&&b.call(c,a[e],e,a)!==m;e++);else for(e in a)if(w.has(a,e)&&b.call(c,a[e],e,a)===m)break};w.map=w.collect=function(a,b,c){var e=[];return K&&a.map===K?a.map(b,c):(W(a,function(a,d,f){e[e.length]=b.call(c,a,d,f)}),e)};w.reduce=w.foldl=w.inject=function(a,b,c,e){var d=2<arguments.length;if(B&&a.reduce===B)return e&&(b=w.bind(b,e)),d?a.reduce(b,
c):a.reduce(b);W(a,function(a,f,k){d?c=b.call(e,c,a,f,k):(c=a,d=!0)});if(!d)throw new TypeError("Reduce of empty array with no initial value");return c};w.reduceRight=w.foldr=function(a,b,c,e){var d=2<arguments.length;if(N&&a.reduceRight===N)return e&&(b=w.bind(b,e)),2<arguments.length?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f)var k=w.keys(a),f=k.length;W(a,function(p,q,m){q=k?k[--f]:--f;d?c=b.call(e,c,a[q],q,m):(c=a[q],d=!0)});if(!d)throw new TypeError("Reduce of empty array with no initial value");
return c};w.find=w.detect=function(a,b,c){var e;return Aa(a,function(a,d,f){if(b.call(c,a,d,f))return e=a,!0}),e};w.filter=w.select=function(a,b,c){var e=[];return F&&a.filter===F?a.filter(b,c):(W(a,function(a,d,f){b.call(c,a,d,f)&&(e[e.length]=a)}),e)};w.reject=function(a,b,c){var e=[];return W(a,function(a,d,f){b.call(c,a,d,f)||(e[e.length]=a)}),e};w.every=w.all=function(a,b,c){b||(b=w.identity);var e=!0;return v&&a.every===v?a.every(b,c):(W(a,function(a,d,f){if(!(e=e&&b.call(c,a,d,f)))return m}),
!!e)};var Aa=w.some=w.any=function(a,b,c){b||(b=w.identity);var e=!1;return M&&a.some===M?a.some(b,c):(W(a,function(a,d,f){if(e||(e=b.call(c,a,d,f)))return m}),!!e)};w.contains=w.include=function(a,b){var c=!1;return I&&a.indexOf===I?-1!=a.indexOf(b):(c=Aa(a,function(a){return a===b}),c)};w.invoke=function(b,c){var e=a.call(arguments,2);return w.map(b,function(a){return(w.isFunction(c)?c:a[c]).apply(a,e)})};w.pluck=function(a,b){return w.map(a,function(a){return a[b]})};w.where=function(a,b){return w.isEmpty(b)?
[]:w.filter(a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};w.max=function(a,b,c){if(!b&&w.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&w.isEmpty(a))return-Infinity;var e={computed:-Infinity};return W(a,function(a,d,f){d=b?b.call(c,a,d,f):a;d>=e.computed&&(e={value:a,computed:d})}),e.value};w.min=function(a,b,c){if(!b&&w.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&w.isEmpty(a))return Infinity;var e={computed:Infinity};
return W(a,function(a,d,f){d=b?b.call(c,a,d,f):a;d<e.computed&&(e={value:a,computed:d})}),e.value};w.shuffle=function(a){var b,c=0,e=[];return W(a,function(a){b=w.random(c++);e[c-1]=e[b];e[b]=a}),e};var ea=function(a){return w.isFunction(a)?a:function(b){return b[a]}};w.sortBy=function(a,b,c){var e=ea(b);return w.pluck(w.map(a,function(a,b,d){return{value:a,index:b,criteria:e.call(c,a,b,d)}}).sort(function(a,b){var c=a.criteria,e=b.criteria;if(c!==e){if(c>e||void 0===c)return 1;if(c<e||void 0===e)return-1}return a.index<
b.index?-1:1}),"value")};var ca=function(a,b,c,e){var d={},f=ea(b);return W(a,function(b,k){var p=f.call(c,b,k,a);e(d,p,b)}),d};w.groupBy=function(a,b,c){return ca(a,b,c,function(a,b,c){(w.has(a,b)?a[b]:a[b]=[]).push(c)})};w.countBy=function(a,b,c){return ca(a,b,c,function(a,b,c){w.has(a,b)||(a[b]=0);a[b]++})};w.sortedIndex=function(a,b,c,e){c=null==c?w.identity:ea(c);b=c.call(e,b);for(var d=0,f=a.length;d<f;){var k=d+f>>>1;c.call(e,a[k])<b?d=k+1:f=k}return d};w.toArray=function(b){return b?b.length===
+b.length?a.call(b):w.values(b):[]};w.size=function(a){return a.length===+a.length?a.length:w.keys(a).length};w.first=w.head=w.take=function(b,c,e){return null==c||e?b[0]:a.call(b,0,c)};w.initial=function(b,c,e){return a.call(b,0,b.length-(null==c||e?1:c))};w.last=function(b,c,e){return null==c||e?b[b.length-1]:a.call(b,Math.max(b.length-c,0))};w.rest=w.tail=w.drop=function(b,c,e){return a.call(b,null==c||e?1:c)};w.compact=function(a){return w.filter(a,function(a){return!!a})};var U=function(a,b,
c){return W(a,function(a){w.isArray(a)?b?y.apply(c,a):U(a,b,c):c.push(a)}),c};w.flatten=function(a,b){return U(a,b,[])};w.without=function(b){return w.difference(b,a.call(arguments,1))};w.uniq=w.unique=function(a,b,c,e){c=c?w.map(a,c,e):a;var d=[],f=[];return W(c,function(c,e){(b?e&&f[f.length-1]===c:w.contains(f,c))||(f.push(c),d.push(a[e]))}),d};w.union=function(){return w.uniq(b.apply(k,arguments))};w.intersection=function(b){var c=a.call(arguments,1);return w.filter(w.uniq(b),function(a){return w.every(c,
function(b){return 0<=w.indexOf(b,a)})})};w.difference=function(c){var e=b.apply(k,a.call(arguments,1));return w.filter(c,function(a){return!w.contains(e,a)})};w.zip=function(){for(var b=a.call(arguments),c=w.max(w.pluck(b,"length")),e=Array(c),d=0;d<c;d++)e[d]=w.pluck(b,""+d);return e};w.object=function(a,b){for(var c={},e=0,d=a.length;e<d;e++)b?c[a[e]]=b[e]:c[a[e][0]]=a[e][1];return c};w.indexOf=function(a,b,c){var e=0,d=a.length;if(c){if("number"!=typeof c)return e=w.sortedIndex(a,b),a[e]===b?
e:-1;e=0>c?Math.max(0,d+c):c}if(I&&a.indexOf===I)return a.indexOf(b,c);for(;e<d;e++)if(a[e]===b)return e;return-1};w.lastIndexOf=function(a,b,c){var e=null!=c;if(C&&a.lastIndexOf===C)return e?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=e?c:a.length;c--;)if(a[c]===b)return c;return-1};w.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var e=Math.max(Math.ceil((b-a)/c),0),d=0,f=Array(e);d<e;)f[d++]=a,a+=c;return f};var Ta=function(){};w.bind=function(b,c){var e,d;if(b.bind===
H&&H)return H.apply(b,a.call(arguments,1));if(!w.isFunction(b))throw new TypeError;return d=a.call(arguments,2),e=function(){if(this instanceof e){Ta.prototype=b.prototype;var f=new Ta,k=b.apply(f,d.concat(a.call(arguments)));return Object(k)===k?k:f}return b.apply(c,d.concat(a.call(arguments)))}};w.bindAll=function(b){var c=a.call(arguments,1);return 0==c.length&&(c=w.functions(b)),W(c,function(a){b[a]=w.bind(b[a],b)}),b};w.memoize=function(a,b){var c={};return b||(b=w.identity),function(){var e=
b.apply(this,arguments);return w.has(c,e)?c[e]:c[e]=a.apply(this,arguments)}};w.delay=function(b,c){var e=a.call(arguments,2);return setTimeout(function(){return b.apply(null,e)},c)};w.defer=function(b){return w.delay.apply(w,[b,1].concat(a.call(arguments,1)))};w.throttle=function(a,b){var c,e,d,f,k,p,q=w.debounce(function(){k=f=!1},b);return function(){c=this;e=arguments;return d||(d=setTimeout(function(){d=null;k&&(p=a.apply(c,e));q()},b)),f?k=!0:(f=!0,p=a.apply(c,e)),q(),p}};w.debounce=function(a,
b,c){var e,d;return function(){var f=this,k=arguments,p=c&&!e;return clearTimeout(e),e=setTimeout(function(){e=null;c||(d=a.apply(f,k))},b),p&&(d=a.apply(f,k)),d}};w.once=function(a){var b=!1,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}};w.wrap=function(a,b){return function(){var c=[a];return y.apply(c,arguments),b.apply(this,c)}};w.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};w.after=
function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};w.keys=R||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)w.has(a,c)&&(b[b.length]=c);return b};w.values=function(a){var b=[],c;for(c in a)w.has(a,c)&&b.push(a[c]);return b};w.pairs=function(a){var b=[],c;for(c in a)w.has(a,c)&&b.push([c,a[c]]);return b};w.invert=function(a){var b={},c;for(c in a)w.has(a,c)&&(b[a[c]]=c);return b};w.functions=w.methods=function(a){var b=[],c;
for(c in a)w.isFunction(a[c])&&b.push(c);return b.sort()};w.extend=function(b){return W(a.call(arguments,1),function(a){for(var c in a)b[c]=a[c]}),b};w.pick=function(c){var e={},d=b.apply(k,a.call(arguments,1));return W(d,function(a){a in c&&(e[a]=c[a])}),e};w.omit=function(c){var e={},d=b.apply(k,a.call(arguments,1)),f;for(f in c)w.contains(d,f)||(e[f]=c[f]);return e};w.defaults=function(b){return W(a.call(arguments,1),function(a){for(var c in a)null==b[c]&&(b[c]=a[c])}),b};w.clone=function(a){return w.isObject(a)?
w.isArray(a)?a.slice():w.extend({},a):a};w.tap=function(a,b){return b(a),a};var Ba=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof w&&(a=a._wrapped);b instanceof w&&(b=b._wrapped);var f=e.call(a);if(f!=e.call(b))return!1;switch(f){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==
b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var k=c.length;k--;)if(c[k]==a)return d[k]==b;c.push(a);d.push(b);var k=0,p=!0;if("[object Array]"==f){if(k=a.length,p=k==b.length)for(;k--&&(p=Ba(a[k],b[k],c,d)););}else{var f=a.constructor,q=b.constructor;if(f!==q&&!(w.isFunction(f)&&f instanceof f&&w.isFunction(q)&&q instanceof q))return!1;for(var m in a)if(w.has(a,m)&&(k++,!(p=w.has(b,m)&&Ba(a[m],b[m],c,d))))break;if(p){for(m in b)if(w.has(b,
m)&&!k--)break;p=!k}}return c.pop(),d.pop(),p};w.isEqual=function(a,b){return Ba(a,b,[],[])};w.isEmpty=function(a){if(null==a)return!0;if(w.isArray(a)||w.isString(a))return 0===a.length;for(var b in a)if(w.has(a,b))return!1;return!0};w.isElement=function(a){return!!a&&1===a.nodeType};w.isArray=c||function(a){return"[object Array]"==e.call(a)};w.isObject=function(a){return a===Object(a)};W("Arguments Function String Number Date RegExp".split(" "),function(a){w["is"+a]=function(b){return e.call(b)==
"[object "+a+"]"}});w.isArguments(arguments)||(w.isArguments=function(a){return!!a&&!!w.has(a,"callee")});"function"!=typeof/./&&(w.isFunction=function(a){return"function"==typeof a});w.isFinite=function(a){return w.isNumber(a)&&isFinite(a)};w.isNaN=function(a){return w.isNumber(a)&&a!=+a};w.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==e.call(a)};w.isNull=function(a){return null===a};w.isUndefined=function(a){return void 0===a};w.has=function(a,b){return p.call(a,b)};w.noConflict=
function(){return d._=f,this};w.identity=function(a){return a};w.times=function(a,b,c){for(var e=0;e<a;e++)b.call(c,e)};w.random=function(a,b){return null==b&&(b=a,a=0),a+(0|Math.random()*(b-a+1))};var Ca={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};Ca.unescape=w.invert(Ca.escape);var ja={escape:RegExp("["+w.keys(Ca.escape).join("")+"]","g"),unescape:RegExp("("+w.keys(Ca.unescape).join("|")+")","g")};w.each(["escape","unescape"],function(a){w[a]=function(b){return null==
b?"":(""+b).replace(ja[a],function(b){return Ca[a][b]})}});w.result=function(a,b){if(null==a)return null;var c=a[b];return w.isFunction(c)?c.call(a):c};w.mixin=function(a){W(w.functions(a),function(b){var c=w[b]=a[b];w.prototype[b]=function(){var a=[this._wrapped];y.apply(a,arguments);a=c.apply(w,a);return this._chain?w(a).chain():a}})};var Y=0;w.uniqueId=function(a){var b=Y++;return a?a+b:b};w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};
var x=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},T=/\\|'|\r|\n|\t|\u2028|\u2029/g;w.template=function(a,b,c){c=w.defaults({},c,w.templateSettings);var e=RegExp([(c.escape||x).source,(c.interpolate||x).source,(c.evaluate||x).source].join("|")+"|$","g"),d=0,f="__p+='";a.replace(e,function(b,c,e,k,p){f+=a.slice(d,p).replace(T,function(a){return"\\"+X[a]});f+=c?"'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":e?"'+\n((__t=("+e+"))==null?'':__t)+\n'":k?"';\n"+
k+"\n__p+='":"";d=p+b.length});f+="';\n";c.variable||(f="with(obj||{}){\n"+f+"}\n");f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var k=new Function(c.variable||"obj","_",f)}catch(p){throw p.source=f,p;}if(b)return k(b,w);b=function(a){return k.call(this,a,w)};return b.source="function("+(c.variable||"obj")+"){\n"+f+"}",b};w.chain=function(a){return w(a).chain()};w.mixin(w);W("pop push reverse shift sort splice unshift".split(" "),
function(a){var b=k[a];w.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),("shift"==a||"splice"==a)&&0===c.length&&delete c[0],this._chain?w(c).chain():c}});W(["concat","join","slice"],function(a){var b=k[a];w.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?w(a).chain():a}});w.extend(w.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var d=this,f=d.Backbone,m=[],k=m.push,c=m.slice,y=m.splice,a;a="undefined"!==typeof exports?exports:d.Backbone={};a.VERSION="1.0.0";var b=d._;b||"undefined"===typeof require||(b=require("underscore"));a.$=d.jQuery||d.Zepto||d.ender||d.$;a.noConflict=function(){d.Backbone=f;return this};a.emulateHTTP=!1;a.emulateJSON=!1;var e=a.Events={on:function(a,b,c){if(!q(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,
ctx:c||this});return this},once:function(a,c,e){if(!q(this,"once",a,[c,e])||!c)return this;var d=this,f=b.once(function(){d.off(a,f);c.apply(this,arguments)});f._callback=c;return this.on(a,f,e)},off:function(a,c,e){var d,f,k,p,m,v,C,w;if(!this._events||!q(this,"off",a,[c,e]))return this;if(!a&&!c&&!e)return this._events={},this;p=a?[a]:b.keys(this._events);m=0;for(v=p.length;m<v;m++)if(a=p[m],k=this._events[a]){this._events[a]=d=[];if(c||e)for(C=0,w=k.length;C<w;C++)f=k[C],(c&&c!==f.callback&&c!==
f.callback._callback||e&&e!==f.context)&&d.push(f);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=c.call(arguments,1);if(!q(this,"trigger",a,b))return this;var e=this._events[a],d=this._events.all;e&&K(e,b);d&&K(d,arguments);return this},stopListening:function(a,b,c){var e=this._listeners;if(!e)return this;var d=!b&&!c;"object"===typeof b&&(c=this);a&&((e={})[a._listenerId]=a);for(var f in e)e[f].off(b,c,this),d&&delete this._listeners[f];return this}},
p=/\s+/,q=function(a,b,c,e){if(!c)return!0;if("object"===typeof c){for(var d in c)a[b].apply(a,[d,c[d]].concat(e));return!1}if(p.test(c)){c=c.split(p);d=0;for(var f=c.length;d<f;d++)a[b].apply(a,[c[d]].concat(e));return!1}return!0},K=function(a,b){var c,e=-1,d=a.length,f=b[0],k=b[1],p=b[2];switch(b.length){case 0:for(;++e<d;)(c=a[e]).callback.call(c.ctx);break;case 1:for(;++e<d;)(c=a[e]).callback.call(c.ctx,f);break;case 2:for(;++e<d;)(c=a[e]).callback.call(c.ctx,f,k);break;case 3:for(;++e<d;)(c=
a[e]).callback.call(c.ctx,f,k,p);break;default:for(;++e<d;)(c=a[e]).callback.apply(c.ctx,b)}};b.each({listenTo:"on",listenToOnce:"once"},function(a,c){e[c]=function(c,e,d){var f=this._listeners||(this._listeners={}),k=c._listenerId||(c._listenerId=b.uniqueId("l"));f[k]=c;"object"===typeof e&&(d=this);c[a](e,d,this);return this}});e.bind=e.on;e.unbind=e.off;b.extend(a,e);var B=a.Model=function(a,c){var e,d=a||{};c||(c={});this.cid=b.uniqueId("c");this.attributes={};c.collection&&(this.collection=c.collection);
c.parse&&(d=this.parse(d,c)||{});c._attrs||(c._attrs=d);if(e=b.result(this,"defaults"))d=b.defaults({},d,e);this.set(d,c);this.changed={};this.initialize.apply(this,arguments)};b.extend(B.prototype,e,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return b.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return b.escape(this.get(a))},has:function(a){return null!=
this.get(a)},set:function(a,c,e){var d,f,k,p,q,m,v;if(null==a)return this;"object"===typeof a?(f=a,e=c):(f={})[a]=c;e||(e={});if(!this._validate(f,e))return!1;k=e.unset;p=e.silent;a=[];q=this._changing;this._changing=!0;q||(this._previousAttributes=b.clone(this.attributes),this.changed={});v=this.attributes;m=this._previousAttributes;this.idAttribute in f&&(this.id=f[this.idAttribute]);for(d in f)c=f[d],b.isEqual(v[d],c)||a.push(d),b.isEqual(m[d],c)?delete this.changed[d]:this.changed[d]=c,k?delete v[d]:
v[d]=c;if(!p)for(a.length&&(this._pending=!0),c=0,d=a.length;c<d;c++)this.trigger("change:"+a[c],this,v[a[c]],e);if(q)return this;if(!p)for(;this._pending;)this._pending=!1,this.trigger("change",this,e);this._changing=this._pending=!1;return this},unset:function(a,c){return this.set(a,void 0,b.extend({},c,{unset:!0}))},clear:function(a){var c={},e;for(e in this.attributes)c[e]=void 0;return this.set(c,b.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!b.isEmpty(this.changed):b.has(this.changed,
a)},changedAttributes:function(a){if(!a)return this.hasChanged()?b.clone(this.changed):!1;var c,e=!1,d=this._changing?this._previousAttributes:this.attributes,f;for(f in a)b.isEqual(d[f],c=a[f])||((e||(e={}))[f]=c);return e},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return b.clone(this._previousAttributes)},fetch:function(a){a=a?b.clone(a):{};void 0===a.parse&&(a.parse=!0);var c=this,e=a.success;a.success=function(b){if(!c.set(c.parse(b,
a),a))return!1;e&&e(c,b,a);c.trigger("sync",c,b,a)};Y(this,a);return this.sync("read",this,a)},save:function(a,c,e){var d,f=this.attributes;null==a||"object"===typeof a?(d=a,e=c):(d={})[a]=c;e=b.extend({validate:!0},e);if(d&&!e.wait){if(!this.set(d,e))return!1}else if(!this._validate(d,e))return!1;d&&e.wait&&(this.attributes=b.extend({},f,d));void 0===e.parse&&(e.parse=!0);var k=this,p=e.success;e.success=function(a){k.attributes=f;var c=k.parse(a,e);e.wait&&(c=b.extend(d||{},c));if(b.isObject(c)&&
!k.set(c,e))return!1;p&&p(k,a,e);k.trigger("sync",k,a,e)};Y(this,e);a=this.isNew()?"create":e.patch?"patch":"update";"patch"===a&&(e.attrs=d);a=this.sync(a,this,e);d&&e.wait&&(this.attributes=f);return a},destroy:function(a){a=a?b.clone(a):{};var c=this,e=a.success,d=function(){c.trigger("destroy",c,c.collection,a)};a.success=function(b){(a.wait||c.isNew())&&d();e&&e(c,b,a);c.isNew()||c.trigger("sync",c,b,a)};if(this.isNew())return a.success(),!1;Y(this,a);var f=this.sync("delete",this,a);a.wait||
d();return f},url:function(){var a=b.result(this,"urlRoot")||b.result(this.collection,"url")||ja();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},b.extend(a||{},{validate:!0}))},_validate:function(a,c){if(!c.validate||!this.validate)return!0;a=b.extend({},this.attributes,a);var e=this.validationError=
this.validate(a,c)||null;if(!e)return!0;this.trigger("invalid",this,e,b.extend(c||{},{validationError:e}));return!1}});b.each("keys values pairs invert pick omit".split(" "),function(a){B.prototype[a]=function(){var e=c.call(arguments);e.unshift(this.attributes);return b[a].apply(b,e)}});var N=a.Collection=function(a,c){c||(c={});c.model&&(this.model=c.model);void 0!==c.comparator&&(this.comparator=c.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,b.extend({silent:!0},
c))},F={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};b.extend(N.prototype,e,{model:B,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,c){return this.set(a,b.extend({merge:!1},c,v))},remove:function(a,c){a=b.isArray(a)?a.slice():[a];c||(c={});var e,d,f,k;e=0;for(d=a.length;e<d;e++)if(k=this.get(a[e]))delete this._byId[k.id],delete this._byId[k.cid],f=this.indexOf(k),this.models.splice(f,
1),this.length--,c.silent||(c.index=f,k.trigger("remove",k,this,c)),this._removeReference(k);return this},set:function(a,c){c=b.defaults({},c,F);c.parse&&(a=this.parse(a,c));b.isArray(a)||(a=a?[a]:[]);var e,d,f,p,q,m,v=c.at,C=this.comparator&&null==v&&!1!==c.sort,w=b.isString(this.comparator)?this.comparator:null,M=[],K=[],I={},B=c.add,R=c.merge,H=c.remove,N=!C&&B&&H?[]:!1;e=0;for(d=a.length;e<d;e++)if(f=this._prepareModel(p=a[e],c))(q=this.get(f))?(H&&(I[q.cid]=!0),R&&(p=p===f?f.attributes:c._attrs,
q.set(p,c),C&&!m&&q.hasChanged(w)&&(m=!0))):B&&(M.push(f),f.on("all",this._onModelEvent,this),this._byId[f.cid]=f,null!=f.id&&(this._byId[f.id]=f)),N&&N.push(q||f),delete c._attrs;if(H){e=0;for(d=this.length;e<d;++e)I[(f=this.models[e]).cid]||K.push(f);K.length&&this.remove(K,c)}if(M.length||N&&N.length)C&&(m=!0),this.length+=M.length,null!=v?y.apply(this.models,[v,0].concat(M)):(N&&(this.models.length=0),k.apply(this.models,N||M));m&&this.sort({silent:!0});if(c.silent)return this;e=0;for(d=M.length;e<
d;e++)(f=M[e]).trigger("add",f,this,c);(m||N&&N.length)&&this.trigger("sort",this,c);return this},reset:function(a,c){c||(c={});for(var e=0,d=this.models.length;e<d;e++)this._removeReference(this.models[e]);c.previousModels=this.models;this._reset();this.add(a,b.extend({silent:!0},c));c.silent||this.trigger("reset",this,c);return this},push:function(a,c){a=this._prepareModel(a,c);this.add(a,b.extend({at:this.length},c));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},
unshift:function(a,c){a=this._prepareModel(a,c);this.add(a,b.extend({at:0},c));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(){return c.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a.id]||this._byId[a.cid]||this._byId[a]},at:function(a){return this.models[a]},where:function(a,c){return b.isEmpty(a)?c?void 0:[]:this[c?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,
!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});b.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(b.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,c,e){c||(c=this.comparator);var d=b.isFunction(c)?c:function(a){return a.get(c)};return b.sortedIndex(this.models,a,d,e)},pluck:function(a){return b.invoke(this.models,"get",
a)},fetch:function(a){a=a?b.clone(a):{};void 0===a.parse&&(a.parse=!0);var c=a.success,e=this;a.success=function(b){e[a.reset?"reset":"set"](b,a);c&&c(e,b,a);e.trigger("sync",e,b,a)};Y(this,a);return this.sync("read",this,a)},create:function(a,c){c=c?b.clone(c):{};if(!(a=this._prepareModel(a,c)))return!1;c.wait||this.add(a,c);var e=this,d=c.success;c.success=function(a,b,c){c.wait&&e.add(a,c);d&&d(a,b,c)};a.save(null,c);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},
_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof B)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var c=new this.model(a,b);if(!c.validationError)return c;this.trigger("invalid",this,a,b);return!1},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,e){if("add"!==a&&"remove"!==a||c===this)"destroy"===a&&this.remove(b,e),b&&a==="change:"+
b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments)}});b.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){N.prototype[a]=function(){var e=c.call(arguments);e.unshift(this.models);
return b[a].apply(b,e)}});b.each(["groupBy","countBy","sortBy"],function(a){N.prototype[a]=function(c,e){var d=b.isFunction(c)?c:function(a){return a.get(c)};return b[a](this.models,d,e)}});var m=a.View=function(a){this.cid=b.uniqueId("view");a||(a={});b.extend(this,b.pick(a,I));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},M=/^(\S+)\s*(.*)$/,I="model collection el id attributes className tagName events".split(" ");b.extend(m.prototype,e,{tagName:"div",$:function(a){return this.$el.find(a)},
initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(b,c){this.$el&&this.undelegateEvents();this.$el=b instanceof a.$?b:a.$(b);this.el=this.$el[0];!1!==c&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=b.result(this,"events")))return this;this.undelegateEvents();for(var c in a){var e=a[c];b.isFunction(e)||(e=this[a[c]]);if(e){var d=c.match(M),f=d[1],d=d[2],e=b.bind(e,this),f=f+(".delegateEvents"+
this.cid);if(""===d)this.$el.on(f,e);else this.$el.on(f,d,e)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(b.result(this,"el"),!1);else{var c=b.extend({},b.result(this,"attributes"));this.id&&(c.id=b.result(this,"id"));this.className&&(c["class"]=b.result(this,"className"));c=a.$("<"+b.result(this,"tagName")+">").attr(c);this.setElement(c,!1)}}});a.sync=function(c,e,d){var f=R[c];b.defaults(d||(d=
{}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var k={type:f,dataType:"json"};d.url||(k.url=b.result(e,"url")||ja());null!=d.data||!e||"create"!==c&&"update"!==c&&"patch"!==c||(k.contentType="application/json",k.data=JSON.stringify(d.attrs||e.toJSON(d)));d.emulateJSON&&(k.contentType="application/x-www-form-urlencoded",k.data=k.data?{model:k.data}:{});if(d.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){k.type="POST";d.emulateJSON&&(k.data._method=f);var p=d.beforeSend;d.beforeSend=
function(a){a.setRequestHeader("X-HTTP-Method-Override",f);if(p)return p.apply(this,arguments)}}"GET"===k.type||d.emulateJSON||(k.processData=!1);"PATCH"===k.type&&C&&(k.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});c=d.xhr=a.ajax(b.extend(k,d));e.trigger("request",e,c,d);return c};var C="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),R={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=
function(){return a.$.ajax.apply(a.$,arguments)};var H=a.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},w=/\((.*?)\)/g,W=/(\(\?)?:\w+/g,Aa=/\*\w+/g,ea=/[\-{}\[\]+?.,\\\^$|#\s]/g;b.extend(H.prototype,e,{initialize:function(){},route:function(c,e,d){b.isRegExp(c)||(c=this._routeToRegExp(c));b.isFunction(e)&&(d=e,e="");d||(d=this[e]);var f=this;a.history.route(c,function(b){b=f._extractParameters(c,b);d&&d.apply(f,b);f.trigger.apply(f,
["route:"+e].concat(b));f.trigger("route",e,b);a.history.trigger("route",f,e,b)});return this},navigate:function(b,c){a.history.navigate(b,c);return this},_bindRoutes:function(){if(this.routes){this.routes=b.result(this,"routes");for(var a,c=b.keys(this.routes);null!=(a=c.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(ea,"\\$&").replace(w,"(?:$1)?").replace(W,function(a,b){return b?a:"([^/]+)"}).replace(Aa,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,
c){var e=a.exec(c).slice(1);return b.map(e,function(a){return a?decodeURIComponent(a):null})}});var ca=a.History=function(){this.handlers=[];b.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},U=/^[#\/]|\s+$/g,Ta=/^\/+|\/+$/g,Ba=/msie [\w.]+/,Ca=/\/$/;ca.started=!1;b.extend(ca.prototype,e,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||
!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(Ca,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(U,"")},start:function(c){if(ca.started)throw Error("Backbone.history has already been started");ca.started=!0;this.options=b.extend({},{root:"/"},this.options,c);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&
this.history.pushState);c=this.getFragment();var e=document.documentMode,e=Ba.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);this.root=("/"+this.root+"/").replace(Ta,"/");e&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c));if(this._hasPushState)a.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!e)a.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&
(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=c;c=this.location;e=c.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!e)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&e&&c.hash&&(this.fragment=this.getHash().replace(U,""),this.history.replaceState({},document.title,this.root+this.fragment+c.search))}if(!this.options.silent)return this.loadUrl()},
stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);ca.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){var c=this.fragment=this.getFragment(a);return b.any(this.handlers,function(a){if(a.route.test(c))return a.callback(c),
!0})},navigate:function(a,b){if(!ca.started)return!1;b&&!0!==b||(b={trigger:!!b});a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var c=this.root+a;""===a&&"/"!==c&&(c=c.slice(0,-1));if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,
a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});a.history=new ca;B.extend=N.extend=H.extend=m.extend=ca.extend=function(a,c){var e=this,d;d=a&&b.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)};b.extend(d,e,c);var f=function(){this.constructor=d};f.prototype=e.prototype;d.prototype=new f;a&&b.extend(d.prototype,a);d.__super__=
e.prototype;return d};var ja=function(){throw Error('A "url" property or function must be specified');},Y=function(a,b){var c=b.error;b.error=function(e){c&&c(a,e,b);a.trigger("error",a,e,b)}}}).call(this);var Handlebars={};
(function(d,f){d.VERSION="1.0.0";d.COMPILER_REVISION=4;d.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};d.helpers={};d.partials={};var m=Object.prototype.toString;d.registerHelper=function(a,b,c){if("[object Object]"===m.call(a)){if(c||b)throw new d.Exception("Arg not supported with multiple helpers");d.Utils.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b};d.registerPartial=function(a,b){"[object Object]"===m.call(a)?d.Utils.extend(this.partials,a):
this.partials[a]=b};d.registerHelper("helperMissing",function(a){if(2===arguments.length)return f;throw Error("Missing helper: '"+a+"'");});d.registerHelper("blockHelperMissing",function(a,b){var c=b.inverse||function(){},e=b.fn,f=m.call(a);"[object Function]"===f&&(a=a.call(this));return!0===a?e(this):!1===a||null==a?c(this):"[object Array]"===f?0<a.length?d.helpers.each(a,b):c(this):e(a)});d.K=function(){};d.createFrame=Object.create||function(a){d.K.prototype=a;a=new d.K;d.K.prototype=null;return a};
d.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(a,b){if(d.logger.level<=a){var c=d.logger.methodMap[a];"undefined"!==typeof console&&console[c]&&console[c].call(console,b)}}};d.log=function(a,b){d.logger.log(a,b)};d.registerHelper("each",function(a,b){var c=b.fn,e=b.inverse,f=0,k="",p;"[object Function]"===m.call(a)&&(a=a.call(this));b.data&&(p=d.createFrame(b.data));if(a&&"object"===typeof a)if(a instanceof Array)for(var q=a.length;f<
q;f++)p&&(p.index=f),k+=c(a[f],{data:p});else for(q in a)a.hasOwnProperty(q)&&(p&&(p.key=q),k+=c(a[q],{data:p}),f++);0===f&&(k=e(this));return k});d.registerHelper("if",function(a,b){"[object Function]"===m.call(a)&&(a=a.call(this));return!a||d.Utils.isEmpty(a)?b.inverse(this):b.fn(this)});d.registerHelper("unless",function(a,b){return d.helpers["if"].call(this,a,{fn:b.inverse,inverse:b.fn})});d.registerHelper("with",function(a,b){"[object Function]"===m.call(a)&&(a=a.call(this));if(!d.Utils.isEmpty(a))return b.fn(a)});
d.registerHelper("log",function(a,b){var c=b.data&&null!=b.data.level?parseInt(b.data.level,10):1;d.log(c,a)});var k=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,
params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,
2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(a,b,c,e,d,f,k){a=f.length-1;switch(d){case 1:return f[a-1];case 2:this.$=new e.ProgramNode([],f[a]);break;case 3:this.$=new e.ProgramNode(f[a-2],f[a]);break;case 4:this.$=new e.ProgramNode(f[a-1],
[]);break;case 5:this.$=new e.ProgramNode(f[a]);break;case 6:this.$=new e.ProgramNode([],[]);break;case 7:this.$=new e.ProgramNode([]);break;case 8:this.$=[f[a]];break;case 9:f[a-1].push(f[a]);this.$=f[a-1];break;case 10:this.$=new e.BlockNode(f[a-2],f[a-1].inverse,f[a-1],f[a]);break;case 11:this.$=new e.BlockNode(f[a-2],f[a-1],f[a-1].inverse,f[a]);break;case 12:this.$=f[a];break;case 13:this.$=f[a];break;case 14:this.$=new e.ContentNode(f[a]);break;case 15:this.$=new e.CommentNode(f[a]);break;case 16:this.$=
new e.MustacheNode(f[a-1][0],f[a-1][1]);break;case 17:this.$=new e.MustacheNode(f[a-1][0],f[a-1][1]);break;case 18:this.$=f[a-1];break;case 19:this.$=new e.MustacheNode(f[a-1][0],f[a-1][1],"&"===f[a-2][2]);break;case 20:this.$=new e.MustacheNode(f[a-1][0],f[a-1][1],!0);break;case 21:this.$=new e.PartialNode(f[a-1]);break;case 22:this.$=new e.PartialNode(f[a-2],f[a-1]);break;case 24:this.$=[[f[a-2]].concat(f[a-1]),f[a]];break;case 25:this.$=[[f[a-1]].concat(f[a]),null];break;case 26:this.$=[[f[a-1]],
f[a]];break;case 27:this.$=[[f[a]],null];break;case 28:this.$=[[f[a]],null];break;case 29:f[a-1].push(f[a]);this.$=f[a-1];break;case 30:this.$=[f[a]];break;case 31:this.$=f[a];break;case 32:this.$=new e.StringNode(f[a]);break;case 33:this.$=new e.IntegerNode(f[a]);break;case 34:this.$=new e.BooleanNode(f[a]);break;case 35:this.$=f[a];break;case 36:this.$=new e.HashNode(f[a]);break;case 37:f[a-1].push(f[a]);this.$=f[a-1];break;case 38:this.$=[f[a]];break;case 39:this.$=[f[a-2],f[a]];break;case 40:this.$=
[f[a-2],new e.StringNode(f[a])];break;case 41:this.$=[f[a-2],new e.IntegerNode(f[a])];break;case 42:this.$=[f[a-2],new e.BooleanNode(f[a])];break;case 43:this.$=[f[a-2],f[a]];break;case 44:this.$=new e.PartialNameNode(f[a]);break;case 45:this.$=new e.PartialNameNode(new e.StringNode(f[a]));break;case 46:this.$=new e.PartialNameNode(new e.IntegerNode(f[a]));break;case 47:this.$=new e.DataNode(f[a]);break;case 48:this.$=new e.IdNode(f[a]);break;case 49:f[a-2].push({part:f[a],separator:f[a-1]});this.$=
f[a-2];break;case 50:this.$=[{part:f[a]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,
8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],
16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],
39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],
36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},
{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],
33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,
11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,
37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],
23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(a,b){throw Error(a);},parse:function(a){var b=[0],c=[null],e=[],d=this.table,f="",k=0,p=0,q=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;e.push(a);var m=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var v,M,K,B,x={},I,y;;){K=
b[b.length-1];if(this.defaultActions[K])B=this.defaultActions[K];else{if(null===v||"undefined"==typeof v)v=void 0,v=this.lexer.lex()||1,"number"!==typeof v&&(v=this.symbols_[v]||v);B=d[K]&&d[K][v]}if("undefined"===typeof B||!B.length||!B[0]){var u="";if(!q){y=[];for(I in d[K])this.terminals_[I]&&2<I&&y.push("'"+this.terminals_[I]+"'");u=this.lexer.showPosition?"Parse error on line "+(k+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+y.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+
(k+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'");this.parseError(u,{text:this.lexer.match,token:this.terminals_[v]||v,line:this.lexer.yylineno,loc:a,expected:y})}}if(B[0]instanceof Array&&1<B.length)throw Error("Parse Error: multiple actions possible at state: "+K+", token: "+v);switch(B[0]){case 1:b.push(v);c.push(this.lexer.yytext);e.push(this.lexer.yylloc);b.push(B[1]);v=null;M?(v=M,M=null):(p=this.lexer.yyleng,f=this.lexer.yytext,k=this.lexer.yylineno,a=this.lexer.yylloc,
0<q&&q--);break;case 2:y=this.productions_[B[1]][1];x.$=c[c.length-y];x._$={first_line:e[e.length-(y||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(y||1)].first_column,last_column:e[e.length-1].last_column};m&&(x._$.range=[e[e.length-(y||1)].range[0],e[e.length-1].range[1]]);K=this.performAction.call(x,f,p,k,this.yy,B[1],c,e);if("undefined"!==typeof K)return K;y&&(b=b.slice(0,-2*y),c=c.slice(0,-1*y),e=e.slice(0,-1*y));b.push(this.productions_[B[1]][0]);c.push(x.$);e.push(x._$);
B=d[b[b.length-2]][b[b.length-1]];b.push(B);break;case 3:return!0}}return!0}},c=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a){this._input=a;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},
input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b-1);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,
this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);return this},more:function(){this._more=!0;return this},
less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),d=0;d<e.length&&(!(b=this._input.match(this.rules[e[d]]))||a&&!(b[0].length>a[0].length)||(a=b,c=d,this.options.flex));d++);if(a){if(b=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=b.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+
a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];a=this.performAction.call(this,this.yy,this,e[c],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(a)return a}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)},options:{},performAction:function(a,b,c,e){switch(c){case 0:return b.yytext=
"\\",14;case 1:"\\"!==b.yytext.slice(-1)&&this.begin("mu");"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1),this.begin("emu"));if(b.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==b.yytext.slice(-1)&&this.popState(),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1)),14;case 4:return b.yytext=b.yytext.substr(0,b.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;
case 12:this.popState();this.begin("com");break;case 13:return b.yytext=b.yytext.substr(3,b.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\"/g,'"'),31;case 23:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;
case 28:return 36;case 29:return b.yytext=b.yytext.substr(1,b.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},rules:[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,
/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}}}}();b.lexer=c;a.prototype=b;b.Parser=a;return new a}();d.Parser=k;d.parse=function(a){if(a.constructor===
d.AST.ProgramNode)return a;d.Parser.yy=d.AST;return d.Parser.parse(a)};d.AST={};d.AST.ProgramNode=function(a,b){this.type="program";this.statements=a;b&&(this.inverse=new d.AST.ProgramNode(b))};d.AST.MustacheNode=function(a,b,c){this.type="mustache";this.escaped=!c;this.hash=b;c=this.id=a[0];a=this.params=a.slice(1);this.isHelper=(this.eligibleHelper=c.isSimple)&&(a.length||b)};d.AST.PartialNode=function(a,b){this.type="partial";this.partialName=a;this.context=b};d.AST.BlockNode=function(a,b,c,e){var f=
a.id;if(f.original!==e.original)throw new d.Exception(f.original+" doesn't match "+e.original);this.type="block";this.mustache=a;this.program=b;(this.inverse=c)&&!this.program&&(this.isInverse=!0)};d.AST.ContentNode=function(a){this.type="content";this.string=a};d.AST.HashNode=function(a){this.type="hash";this.pairs=a};d.AST.IdNode=function(a){this.type="ID";for(var b="",c=[],e=0,f=0,k=a.length;f<k;f++){var p=a[f].part,b=b+((a[f].separator||"")+p);if(".."===p||"."===p||"this"===p){if(0<c.length)throw new d.Exception("Invalid path: "+
b);".."===p?e++:this.isScoped=!0}else c.push(p)}this.original=b;this.parts=c;this.string=c.join(".");this.depth=e;this.isSimple=1===a.length&&!this.isScoped&&0===e;this.stringModeValue=this.string};d.AST.PartialNameNode=function(a){this.type="PARTIAL_NAME";this.name=a.original};d.AST.DataNode=function(a){this.type="DATA";this.id=a};d.AST.StringNode=function(a){this.type="STRING";this.original=this.string=this.stringModeValue=a};d.AST.IntegerNode=function(a){this.type="INTEGER";this.original=this.integer=
a;this.stringModeValue=Number(a)};d.AST.BooleanNode=function(a){this.type="BOOLEAN";this.bool=a;this.stringModeValue="true"===a};d.AST.CommentNode=function(a){this.type="comment";this.comment=a};var c="description fileName lineNumber message name number stack".split(" ");d.Exception=function(a){for(var b=Error.prototype.constructor.apply(this,arguments),e=0;e<c.length;e++)this[c[e]]=b[c[e]]};d.Exception.prototype=Error();d.SafeString=function(a){this.string=a};d.SafeString.prototype.toString=function(){return this.string.toString()};
var y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=/[&<>"'`]/g,b=/[&<>"'`]/,e=function(a){return y[a]||"&amp;"};d.Utils={extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},escapeExpression:function(c){if(c instanceof d.SafeString)return c.toString();if(null==c||!1===c)return"";c=c.toString();return b.test(c)?c.replace(a,e):c},isEmpty:function(a){return a||0===a?"[object Array]"===m.call(a)&&0===a.length?!0:!1:!0}};var p=d.Compiler=function(){},q=
d.JavaScriptCompiler=function(){};p.prototype={compiler:p,disassemble:function(){for(var a=this.opcodes,b,c=[],e,d,f=0,k=a.length;f<k;f++)if(b=a[f],"DECLARE"===b.opcode)c.push("DECLARE "+b.name+"="+b.value);else{e=[];for(var p=0;p<b.args.length;p++)d=b.args[p],"string"===typeof d&&(d='"'+d.replace("\n","\\n")+'"'),e.push(d);c.push(b.opcode+" "+e.join(" "))}return c.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var e=this.opcodes[c],
d=a.opcodes[c];if(e.opcode!==d.opcode||e.args.length!==d.args.length)return!1;for(var f=0;f<e.args.length;f++)if(e.args[f]!==d.args[f])return!1}b=this.children.length;if(a.children.length!==b)return!1;for(c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.children=[];this.depths={list:[]};this.options=b;var c=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};
if(c)for(var e in c)this.options.knownHelpers[e]=c[e];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){a=a.statements;var b;this.opcodes=[];for(var c=0,e=a.length;c<e;c++)b=a[c],this[b.type](b);this.isSimple=1===e;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(a){a=(new this.compiler).compile(a,this.options);var b=this.guid++,c;this.usePartial=this.usePartial||a.usePartial;this.children[b]=a;for(var e=0,
d=a.depths.list.length;e<d;e++)c=a.depths.list[e],2>c||this.addDepth(c-1);return b},block:function(a){var b=a.mustache,c=a.program;a=a.inverse;c&&(c=this.compileProgram(c));a&&(a=this.compileProgram(a));var e=this.classifyMustache(b);"helper"===e?this.helperMustache(b,c,a):"simple"===e?(this.simpleMustache(b),this.opcode("pushProgram",c),this.opcode("pushProgram",a),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(b,c,a),this.opcode("pushProgram",c),this.opcode("pushProgram",
a),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(a){a=a.pairs;var b,c;this.opcode("pushHash");for(var e=0,d=a.length;e<d;e++)b=a[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0;a.context?this.ID(a.context):
this.opcode("push","depth0");this.opcode("invokePartial",b.name);this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var b=this.options,c=this.classifyMustache(a);"simple"===c?this.simpleMustache(a):"helper"===c?this.helperMustache(a):this.ambiguousMustache(a);a.escaped&&!b.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(a,b,c){a=a.id;var e=a.parts[0],d=null!=b||null!=c;this.opcode("getContext",a.depth);this.opcode("pushProgram",
b);this.opcode("pushProgram",c);this.opcode("invokeAmbiguous",e,d)},simpleMustache:function(a){a=a.id;"DATA"===a.type?this.DATA(a):a.parts.length?this.ID(a):(this.addDepth(a.depth),this.opcode("getContext",a.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperMustache:function(a,b,c){b=this.setupFullMustacheParams(a,b,c);a=a.id.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",b.length,a);else{if(this.options.knownHelpersOnly)throw Error("You specified knownHelpersOnly, but used the unknown helper "+
a);this.opcode("invokeHelper",b.length,a)}},ID:function(a){this.addDepth(a.depth);this.opcode("getContext",a.depth);a.parts[0]?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var b=1,c=a.parts.length;b<c;b++)this.opcode("lookup",a.parts[b])},DATA:function(a){this.options.data=!0;if(a.id.isScoped||a.id.depth)throw new d.Exception("Scoped data references are not supported: "+a.original);this.opcode("lookupData");a=a.id.parts;for(var b=0,c=a.length;b<c;b++)this.opcode("lookup",
a[b])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){if(isNaN(a))throw Error("EWOT");0===a||this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a))},classifyMustache:function(a){var b=
a.isHelper,c=a.eligibleHelper,e=this.options;c&&!b&&(e.knownHelpers[a.id.parts[0]]?b=!0:e.knownHelpersOnly&&(c=!1));return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b=a.length,c;b--;)if(c=a[b],this.options.stringParams)c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type);else this[c.type](c)},setupMustacheParams:function(a){var b=a.params;this.pushParams(b);a.hash?this.hash(a.hash):this.opcode("emptyHash");
return b},setupFullMustacheParams:function(a,b,c){var e=a.params;this.pushParams(e);this.opcode("pushProgram",b);this.opcode("pushProgram",c);a.hash?this.hash(a.hash):this.opcode("emptyHash");return e}};var K=function(a){this.value=a};q.prototype={nameLookup:function(a,b){return/^[0-9]+$/.test(b)?a+"["+b+"]":q.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+
a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,e){this.environment=a;this.options=b||{};d.log(d.logger.DEBUG,this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!c;this.context=c||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];this.inlineStack=[];this.compileChildren(a,b);a=a.opcodes;this.i=0;for(F=a.length;this.i<
F;this.i++)b=a[this.i],"DECLARE"===b.opcode?this[b.name]=b.value:this[b.opcode].apply(this,b.args);return this.createFunctionContext(e)},nextOpcode:function(){return this.environment.opcodes[this.i+1]},eat:function(){this.i+=1},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);");this.options.data&&(c+=" data = data || {};");a.push(c)}this.environment.isSimple?
a.push(""):a.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);0<b.length&&(this.source[1]=this.source[1]+", "+b.join(", "));if(!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]+="\n"+
this.context.programs.join("\n")+"\n");this.environment.isSimple||this.source.push("return buffer;");b=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];c=0;for(var e=this.environment.depths.list.length;c<e;c++)b.push("depth"+this.environment.depths.list[c]);c=this.mergeSource();this.isChild||(e=d.COMPILER_REVISION,c="this.compilerInfo = ["+e+",'"+d.REVISION_CHANGES[e]+"'];\n"+c);if(a)return b.push(c),Function.apply(this,b);a="function "+(this.name||"")+"("+b.join(",")+
") {\n  "+c+"}";d.log(d.logger.DEBUG,a+"\n\n");return a},mergeSource:function(){for(var a="",b,c=0,e=this.source.length;c<e;c++){var d=this.source[c];d.appendToBuffer?b=b?b+"\n    + "+d.content:d.content:(b&&(a+="buffer += "+b+";\n  ",b=f),a+=d+"\n  ")}return a},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);this.replaceStack(function(b){a.splice(1,0,b);return"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing=
"helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b);a[a.length-1]="options";this.source.push("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){this.flushInline();var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }");this.environment.isSimple&&this.source.push("else { "+
this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';
this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(a){this.push("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext);this.pushString(b);"string"===typeof a?this.pushString(a):this.pushStackLiteral(a)},emptyHash:function(){this.pushStackLiteral("{}");this.options.stringParams&&
(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=f;this.options.stringParams&&(this.register("hashContexts","{"+a.contexts.join(",")+"}"),this.register("hashTypes","{"+a.types.join(",")+"}"));this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){this.inlineStack.push(a);return a},pushLiteral:function(a){this.pushStackLiteral(a)},
pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b){this.context.aliases.helperMissing="helpers.helperMissing";var c=this.lastHelper=this.setupHelper(a,b,!0),e=this.nameLookup("depth"+this.lastContext,b,"context");this.push(c.name+" || "+e);this.replaceStack(function(a){return a+" ? "+a+".call("+c.callParams+") : helperMissing.call("+c.helperMissingParams+")"})},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,
b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var c=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),d=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();this.source.push("if ("+f+" = "+e+") { "+f+" = "+f+".call("+c.callParams+"); }");this.source.push("else { "+f+" = "+d+"; "+f+" = typeof "+f+" === functionType ? "+f+".apply(depth0) : "+f+
"; }")},invokePartial:function(a){a=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&a.push("data");this.context.aliases.self="this";this.push("self.invokePartial("+a.join(", ")+")")},assignToHash:function(a){var b=this.popStack(),c,e;this.options.stringParams&&(e=this.popStack(),c=this.popStack());var d=this.hash;c&&d.contexts.push("'"+a+"': "+c);e&&d.types.push("'"+a+"': "+e);d.values.push("'"+a+"': ("+b+")")},compiler:q,compileChildren:function(a,
b){for(var c=a.children,e,d,f=0,k=c.length;f<k;f++){e=c[f];d=new this.compiler;var p=this.matchExistingProgram(e);null==p?(this.context.programs.push(""),p=this.context.programs.length,e.index=p,e.name="program"+p,this.context.programs[p]=d.compile(e,b,this.context),this.context.environments[p]=e):(e.index=p,e.name="program"+p)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var e=this.context.environments[b];if(e&&e.equals(a))return b}},programExpression:function(a){this.context.aliases.self=
"this";if(null==a)return"self.noop";var b=this.environment.children[a];a=b.depths.list;for(var c=[b.index,b.name,"data"],e=0,d=a.length;e<d;e++)b=a[e],1===b?c.push("depth0"):c.push("depth"+(b-1));return(0===a.length?"self.program(":"self.programWithDepth(")+c.join(", ")+")"},register:function(a,b){this.useRegister(a);this.source.push(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new K(a))},
pushStack:function(a){this.flushInline();var b=this.incrStack();a&&this.source.push(b+" = "+a+";");this.compileStack.push(b);return b},replaceStack:function(a){var b="",c=this.isInline(),e;c?(e=this.popStack(!0),e instanceof K?e=e.value:(b=this.stackSlot?this.topStackName():this.incrStack(),b="("+this.push(b)+" = "+e+"),",e=this.topStack())):e=this.topStack();a=a.call(this,e);c?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+b+a+")")):(/^stack/.test(e)||(e=this.nextStack()),
this.source.push(e+" = ("+b+a+");"));return e},nextStack:function(){return this.pushStack()},incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var e=a[b];e instanceof K?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},
popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof K)return c.value;b||this.stackSlot--;return c},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,b=b[b.length-1];return!a&&b instanceof K?b.value:b},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var e=
[];this.setupParams(a,e,c);a=this.nameLookup("helpers",b,"helper");return{params:e,name:a,callParams:["depth0"].concat(e).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(e).join(", ")}},setupParams:function(a,b,c){var e=[],d=[],f=[],k,p;e.push("hash:"+this.popStack());k=this.popStack();if((p=this.popStack())||k)p||(this.context.aliases.self="this",p="self.noop"),k||(this.context.aliases.self="this",k="self.noop"),e.push("inverse:"+k),e.push("fn:"+p);for(p=0;p<a;p++)k=this.popStack(),
b.push(k),this.options.stringParams&&(f.push(this.popStack()),d.push(this.popStack()));this.options.stringParams&&(e.push("contexts:["+d.join(",")+"]"),e.push("types:["+f.join(",")+"]"),e.push("hashContexts:hashContexts"),e.push("hashTypes:hashTypes"));this.options.data&&e.push("data:data");e="{"+e.join(",")+"}";c?(this.register("options",e),b.push("options")):b.push(e);return b.join(", ")}};for(var k="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),
B=q.RESERVED_WORDS={},N=0,F=k.length;N<F;N++)B[k[N]]=!0;q.isValidJavaScriptVariableName=function(a){return!q.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?!0:!1};d.precompile=function(a,b){if(null==a||"string"!==typeof a&&a.constructor!==d.AST.ProgramNode)throw new d.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{};"data"in b||(b.data=!0);var c=d.parse(a),c=(new p).compile(c,b);return(new q).compile(c,b)};d.compile=function(a,b){if(null==
a||"string"!==typeof a&&a.constructor!==d.AST.ProgramNode)throw new d.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=b||{};"data"in b||(b.data=!0);var c;return function(e,k){if(!c){var m=d.parse(a),m=(new p).compile(m,b),m=(new q).compile(m,b,f,!0);c=d.template(m)}return c.call(this,e,k)}};d.VM={template:function(a){var b={escapeExpression:d.Utils.escapeExpression,invokePartial:d.VM.invokePartial,programs:[],program:function(a,b,c){var e=this.programs[a];
c?e=d.VM.program(a,b,c):e||(e=this.programs[a]=d.VM.program(a,b));return e},merge:function(a,b){var c=a||b;a&&b&&(c={},d.Utils.extend(c,b),d.Utils.extend(c,a));return c},programWithDepth:d.VM.programWithDepth,noop:d.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f=a.call(b,d,c,e.helpers,e.partials,e.data),k=b.compilerInfo||[],p=k[0]||1,q=d.COMPILER_REVISION;if(p!==q){if(p<q)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+
d.REVISION_CHANGES[q]+") or downgrade your runtime to an older version ("+d.REVISION_CHANGES[p]+").";throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+k[1]+").";}return f}},programWithDepth:function(a,b,c){var e=Array.prototype.slice.call(arguments,3),d=function(a,d){d=d||{};return b.apply(this,[a,d.data||c].concat(e))};d.program=a;d.depth=e.length;return d},program:function(a,b,c){var e=function(a,e){e=e||
{};return b(a,e.data||c)};e.program=a;e.depth=0;return e},noop:function(){return""},invokePartial:function(a,b,c,e,k,p){e={helpers:e,partials:k,data:p};if(a===f)throw new d.Exception("The partial "+b+" could not be found");if(a instanceof Function)return a(c,e);if(d.compile)return k[b]=d.compile(a,{data:p!==f}),k[b](c,e);throw new d.Exception("The partial "+b+" could not be compiled when running in runtime-only mode");}};d.template=d.VM.template})(Handlebars);!function(d,f,m){var k=d.L,c={version:"0.6.4"};"object"==typeof module&&"object"==typeof module.exports?module.exports=c:"function"==typeof define&&define.amd&&define(c);c.noConflict=function(){return d.L=k,this};d.L=c;c.Util={extend:function(a){var b,c,d,f,k=Array.prototype.slice.call(arguments,1);c=0;for(d=k.length;d>c;c++)for(b in f=k[c]||{},f)f.hasOwnProperty(b)&&(a[b]=f[b]);return a},bind:function(a,b){var c=2<arguments.length?Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(b,
c||arguments)}},stamp:function(){var a=0;return function(b){return b._leaflet_id=b._leaflet_id||++a,b._leaflet_id}}(),invokeEach:function(a,b,c){var d,f;if("object"==typeof a){f=Array.prototype.slice.call(arguments,3);for(d in a)b.apply(c,[d,a[d]].concat(f));return!0}return!1},limitExecByInterval:function(a,b,c){var d,f;return function B(){var k=arguments;return d?(f=!0,void 0):(d=!0,setTimeout(function(){d=!1;f&&(B.apply(c,k),f=!1)},b),a.apply(c,k),void 0)}},falseFn:function(){return!1},formatNum:function(a,
b){var c=Math.pow(10,b||5);return Math.round(a*c)/c},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return c.Util.trim(a).split(/\s+/)},setOptions:function(a,b){return a.options=c.extend({},a.options,b),a.options},getParamString:function(a,b,c){var d=[],f;for(f in a)d.push(encodeURIComponent(c?f.toUpperCase():f)+"="+encodeURIComponent(a[f]));return(b&&-1!==b.indexOf("?")?"&":"?")+d.join("&")},template:function(a,b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,
c){var d=b[c];if(d===m)throw Error("No value provided for variable "+a);return"function"==typeof d&&(d=d(b)),d})},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="};(function(){function a(a){var b,c,e=["webkit","moz","o","ms"];for(b=0;b<e.length&&!c;b++)c=d[e[b]+a];return c}function b(a){var b=+new Date,c=Math.max(0,16-(b-e));return e=b+c,d.setTimeout(a,c)}var e=0,f=d.requestAnimationFrame||a("RequestAnimationFrame")||
b,k=d.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||function(a){d.clearTimeout(a)};c.Util.requestAnimFrame=function(a,e,k,q){return a=c.bind(a,e),k&&f===b?(a(),void 0):f.call(d,a,q)};c.Util.cancelAnimFrame=function(a){a&&k.call(d,a)}})();c.extend=c.Util.extend;c.bind=c.Util.bind;c.stamp=c.Util.stamp;c.setOptions=c.Util.setOptions;c.Class=function(){};c.Class.extend=function(a){var b=function(){this.initialize&&this.initialize.apply(this,arguments);this._initHooks&&
this.callInitHooks()},e=function(){};e.prototype=this.prototype;var d=new e;d.constructor=b;b.prototype=d;for(var f in this)this.hasOwnProperty(f)&&"prototype"!==f&&(b[f]=this[f]);a.statics&&(c.extend(b,a.statics),delete a.statics);a.includes&&(c.Util.extend.apply(null,[d].concat(a.includes)),delete a.includes);a.options&&d.options&&(a.options=c.extend({},d.options,a.options));c.extend(d,a);d._initHooks=[];var k=this;return b.__super__=k.prototype,d.callInitHooks=function(){if(!this._initHooksCalled){k.prototype.callInitHooks&&
k.prototype.callInitHooks.call(this);this._initHooksCalled=!0;for(var a=0,b=d._initHooks.length;b>a;a++)d._initHooks[a].call(this)}},b};c.Class.include=function(a){c.extend(this.prototype,a)};c.Class.mergeOptions=function(a){c.extend(this.prototype.options,a)};c.Class.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"==typeof a?a:function(){this[a].apply(this,b)})};c.Mixin={};c.Mixin.Events=
{addEventListener:function(a,b,e){if(c.Util.invokeEach(a,this.addEventListener,this,b,e))return this;var d,f,k,m,y,F,v,M=this._leaflet_events=this._leaflet_events||{},I=e&&c.stamp(e);a=c.Util.splitWords(a);d=0;for(f=a.length;f>d;d++)k={action:b,context:e||this},m=a[d],e?(y=m+"_idx",F=y+"_len",v=M[y]=M[y]||{},v[I]||(v[I]=[],M[F]=(M[F]||0)+1),v[I].push(k)):(M[m]=M[m]||[],M[m].push(k));return this},hasEventListeners:function(a){var b=this._leaflet_events;return!!b&&(a in b&&0<b[a].length||a+"_idx"in
b&&0<b[a+"_idx_len"])},removeEventListener:function(a,b,e){if(!this._leaflet_events)return this;if(!a)return this.clearAllEventListeners();if(c.Util.invokeEach(a,this.removeEventListener,this,b,e))return this;var d,f,k,m,y,F,v,M,I,C=this._leaflet_events,R=e&&c.stamp(e);a=c.Util.splitWords(a);d=0;for(f=a.length;f>d;d++)if(k=a[d],F=k+"_idx",v=F+"_len",M=C[F],b){if(m=e&&M?M[R]:C[k]){for(y=m.length-1;0<=y;y--)m[y].action!==b||e&&m[y].context!==e||(I=m.splice(y,1),I[0].action=c.Util.falseFn);e&&M&&0===
m.length&&(delete M[R],C[v]--)}}else delete C[k],delete C[F];return this},clearAllEventListeners:function(){return delete this._leaflet_events,this},fireEvent:function(a,b){if(!this.hasEventListeners(a))return this;var e,d,f,k,m,y=c.Util.extend({},b,{type:a,target:this});k=this._leaflet_events;if(k[a])for(e=k[a].slice(),d=0,f=e.length;f>d;d++)e[d].action.call(e[d].context||this,y);k=k[a+"_idx"];for(m in k)if(e=k[m].slice())for(d=0,f=e.length;f>d;d++)e[d].action.call(e[d].context||this,y);return this},
addOneTimeEventListener:function(a,b,e){if(c.Util.invokeEach(a,this.addOneTimeEventListener,this,b,e))return this;var d=c.bind(function(){this.removeEventListener(a,b,e).removeEventListener(a,d,e)},this);return this.addEventListener(a,b,e).addEventListener(a,d,e)}};c.Mixin.Events.on=c.Mixin.Events.addEventListener;c.Mixin.Events.off=c.Mixin.Events.removeEventListener;c.Mixin.Events.once=c.Mixin.Events.addOneTimeEventListener;c.Mixin.Events.fire=c.Mixin.Events.fireEvent;(function(){var a=!!d.ActiveXObject,
b=a&&!d.XMLHttpRequest,e=a&&!f.querySelector,k=a&&!f.addEventListener,q=navigator.userAgent.toLowerCase(),y=-1!==q.indexOf("webkit"),B=-1!==q.indexOf("chrome"),N=-1!==q.indexOf("phantom"),F=-1!==q.indexOf("android"),q=-1!==q.search("android [23]"),v=typeof orientation!=m+"",M=d.navigator&&d.navigator.msPointerEnabled&&d.navigator.msMaxTouchPoints,I="devicePixelRatio"in d&&1<d.devicePixelRatio||"matchMedia"in d&&d.matchMedia("(min-resolution:144dpi)")&&d.matchMedia("(min-resolution:144dpi)").matches,
C=f.documentElement,R=a&&"transition"in C.style,H="WebKitCSSMatrix"in d&&"m11"in new d.WebKitCSSMatrix,w="MozPerspective"in C.style,W="OTransition"in C.style,Aa=!d.L_DISABLE_3D&&(R||H||w||W)&&!N,ea;if(ea=!d.L_NO_TOUCH){if(N=!N)M||"ontouchstart"in C?N=!0:(N=f.createElement("div"),C=!1,N=N.setAttribute?(N.setAttribute("ontouchstart","return;"),"function"==typeof N.ontouchstart&&(C=!0),N.removeAttribute("ontouchstart"),C):!1);ea=N}c.Browser={ie:a,ie6:b,ie7:e,ielt9:k,webkit:y,android:F,android23:q,chrome:B,
ie3d:R,webkit3d:H,gecko3d:w,opera3d:W,any3d:Aa,mobile:v,mobileWebkit:v&&y,mobileWebkit3d:v&&H,mobileOpera:v&&d.opera,touch:ea,msTouch:M,retina:I}})();c.Point=function(a,b,c){this.x=c?Math.round(a):a;this.y=c?Math.round(b):b};c.Point.prototype={clone:function(){return new c.Point(this.x,this.y)},add:function(a){return this.clone()._add(c.point(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(c.point(a))},_subtract:function(a){return this.x-=
a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),
this},distanceTo:function(a){a=c.point(a);var b=a.x-this.x;a=a.y-this.y;return Math.sqrt(b*b+a*a)},equals:function(a){return a=c.point(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=c.point(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+c.Util.formatNum(this.x)+", "+c.Util.formatNum(this.y)+")"}};c.point=function(a,b,e){return a instanceof c.Point?a:c.Util.isArray(a)?new c.Point(a[0],a[1]):a===m||null===a?a:new c.Point(a,b,e)};
c.Bounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,f=c.length;f>d;d++)this.extend(c[d])};c.Bounds.prototype={extend:function(a){return a=c.point(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new c.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new c.Point(this.min.x,
this.max.y)},getTopRight:function(){return new c.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,e;return a="number"==typeof a[0]||a instanceof c.Point?c.point(a):c.bounds(a),a instanceof c.Bounds?(b=a.min,e=a.max):b=e=a,b.x>=this.min.x&&e.x<=this.max.x&&b.y>=this.min.y&&e.y<=this.max.y},intersects:function(a){a=c.bounds(a);var b=this.min,e=this.max,d=a.min;a=a.max;var f=a.y>=b.y&&d.y<=e.y;return a.x>=b.x&&d.x<=e.x&&f},isValid:function(){return!(!this.min||
!this.max)}};c.bounds=function(a,b){return!a||a instanceof c.Bounds?a:new c.Bounds(a,b)};c.Transformation=function(a,b,c,d){this._a=a;this._b=b;this._c=c;this._d=d};c.Transformation.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){return b=b||1,a.x=b*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(a,b){return b=b||1,new c.Point((a.x/b-this._b)/this._a,(a.y/b-this._d)/this._c)}};c.DomUtil={get:function(a){return"string"==typeof a?
f.getElementById(a):a},getStyle:function(a,b){var c=a.style[b];(!c&&a.currentStyle&&(c=a.currentStyle[b]),c&&"auto"!==c||!f.defaultView)||(c=(c=f.defaultView.getComputedStyle(a,null))?c[b]:null);return"auto"===c?null:c},getViewportOffset:function(a){var b,e=0,d=0,k=a,m=f.body,y=f.documentElement,N=c.Browser.ie7;do{if(e+=k.offsetTop||0,d+=k.offsetLeft||0,e+=parseInt(c.DomUtil.getStyle(k,"borderTopWidth"),10)||0,d+=parseInt(c.DomUtil.getStyle(k,"borderLeftWidth"),10)||0,b=c.DomUtil.getStyle(k,"position"),
k.offsetParent===m&&"absolute"===b)break;if("fixed"===b){e+=m.scrollTop||y.scrollTop||0;d+=m.scrollLeft||y.scrollLeft||0;break}if("relative"===b&&!k.offsetLeft){b=c.DomUtil.getStyle(k,"width");var F=c.DomUtil.getStyle(k,"max-width"),v=k.getBoundingClientRect();"none"===b&&"none"===F||(d+=v.left+k.clientLeft);e+=v.top+(m.scrollTop||y.scrollTop||0);break}k=k.offsetParent}while(k);k=a;do{if(k===m)break;e-=k.scrollTop||0;d-=k.scrollLeft||0;c.DomUtil.documentIsLtr()||!c.Browser.webkit&&!N||(d+=k.scrollWidth-
k.clientWidth,N&&"hidden"!==c.DomUtil.getStyle(k,"overflow-y")&&"hidden"!==c.DomUtil.getStyle(k,"overflow")&&(d+=17));k=k.parentNode}while(k);return new c.Point(d,e)},documentIsLtr:function(){return c.DomUtil._docIsLtrCached||(c.DomUtil._docIsLtrCached=!0,c.DomUtil._docIsLtr="ltr"===c.DomUtil.getStyle(f.body,"direction")),c.DomUtil._docIsLtr},create:function(a,b,c){a=f.createElement(a);return a.className=b,c&&c.appendChild(a),a},hasClass:function(a,b){return 0<a.className.length&&RegExp("(^|\\s)"+
b+"(\\s|$)").test(a.className)},addClass:function(a,b){c.DomUtil.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},removeClass:function(a,b){a.className=c.Util.trim((" "+a.className+" ").replace(" "+b+" "," "))},setOpacity:function(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){var c=!1;try{c=a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){if(1===b)return}b=Math.round(100*b);c?(c.Enabled=100!==b,c.Opacity=b):a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+
b+")"}},testProp:function(a){for(var b=f.documentElement.style,c=0;c<a.length;c++)if(a[c]in b)return a[c];return!1},getTranslateString:function(a){var b=c.Browser.webkit3d;return"translate"+(b?"3d":"")+"("+a.x+"px,"+a.y+"px"+((b?",0":"")+")")},getScaleString:function(a,b){return c.DomUtil.getTranslateString(b.add(b.multiplyBy(-1*a)))+(" scale("+a+") ")},setPosition:function(a,b,e){a._leaflet_pos=b;!e&&c.Browser.any3d?(a.style[c.DomUtil.TRANSFORM]=c.DomUtil.getTranslateString(b),c.Browser.mobileWebkit3d&&
(a.style.WebkitBackfaceVisibility="hidden")):(a.style.left=b.x+"px",a.style.top=b.y+"px")},getPosition:function(a){return a._leaflet_pos}};c.DomUtil.TRANSFORM=c.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);c.DomUtil.TRANSITION=c.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);c.DomUtil.TRANSITION_END="webkitTransition"===c.DomUtil.TRANSITION||"OTransition"===c.DomUtil.TRANSITION?c.DomUtil.TRANSITION+"End":
"transitionend";(function(){var a=c.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);c.extend(c.DomUtil,{disableTextSelection:function(){if(c.DomEvent.on(d,"selectstart",c.DomEvent.preventDefault),a){var b=f.documentElement.style;this._userSelect=b[a];b[a]="none"}},enableTextSelection:function(){c.DomEvent.off(d,"selectstart",c.DomEvent.preventDefault);a&&(f.documentElement.style[a]=this._userSelect,delete this._userSelect)},disableImageDrag:function(){c.DomEvent.on(d,
"dragstart",c.DomEvent.preventDefault)},enableImageDrag:function(){c.DomEvent.off(d,"dragstart",c.DomEvent.preventDefault)}})})();c.LatLng=function(a,b){var c=parseFloat(a),d=parseFloat(b);if(isNaN(c)||isNaN(d))throw Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=c;this.lng=d};c.extend(c.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1E-9});c.LatLng.prototype={equals:function(a){if(!a)return!1;a=c.latLng(a);return Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=
c.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+c.Util.formatNum(this.lat,a)+", "+c.Util.formatNum(this.lng,a)+")"},distanceTo:function(a){a=c.latLng(a);var b=c.LatLng.DEG_TO_RAD,e=(a.lng-this.lng)*b,d=this.lat*b,f=a.lat*b;a=Math.sin((a.lat-this.lat)*b/2);e=Math.sin(e/2);d=a*a+e*e*Math.cos(d)*Math.cos(f);return 12756274*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))},wrap:function(a,b){var e=this.lng;return a=a||-180,b=b||180,e=(e+b)%(b-a)+(a>e||e===b?b:a),new c.LatLng(this.lat,e)}};c.latLng=function(a,
b){return a instanceof c.LatLng?a:c.Util.isArray(a)?new c.LatLng(a[0],a[1]):a===m||null===a?a:"object"==typeof a&&"lat"in a?new c.LatLng(a.lat,"lng"in a?a.lng:a.lon):new c.LatLng(a,b)};c.LatLngBounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,f=c.length;f>d;d++)this.extend(c[d])};c.LatLngBounds.prototype={extend:function(a){return a?(a="number"==typeof a[0]||"string"==typeof a[0]||a instanceof c.LatLng?c.latLng(a):c.latLngBounds(a),a instanceof c.LatLng?this._southWest||this._northEast?(this._southWest.lat=
Math.min(a.lat,this._southWest.lat),this._southWest.lng=Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new c.LatLng(a.lat,a.lng),this._northEast=new c.LatLng(a.lat,a.lng)):a instanceof c.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast)),this):this},pad:function(a){var b=this._southWest,e=this._northEast,d=Math.abs(b.lat-e.lat)*a;a*=Math.abs(b.lng-e.lng);return new c.LatLngBounds(new c.LatLng(b.lat-
d,b.lng-a),new c.LatLng(e.lat+d,e.lng+a))},getCenter:function(){return new c.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new c.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new c.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},
getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof c.LatLng?c.latLng(a):c.latLngBounds(a);var b,e,d=this._southWest,f=this._northEast;return a instanceof c.LatLngBounds?(b=a.getSouthWest(),e=a.getNorthEast()):b=e=a,b.lat>=d.lat&&e.lat<=f.lat&&b.lng>=d.lng&&e.lng<=f.lng},intersects:function(a){a=c.latLngBounds(a);var b=this._southWest,e=this._northEast,d=a.getSouthWest();a=a.getNorthEast();var f=
a.lng>=b.lng&&d.lng<=e.lng;return a.lat>=b.lat&&d.lat<=e.lat&&f},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(a){return a?(a=c.latLngBounds(a),this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}};c.latLngBounds=function(a,b){return!a||a instanceof c.LatLngBounds?a:new c.LatLngBounds(a,b)};c.Projection={};c.Projection.SphericalMercator=
{MAX_LATITUDE:85.0511287798,project:function(a){var b=c.LatLng.DEG_TO_RAD,e=this.MAX_LATITUDE,e=Math.max(Math.min(e,a.lat),-e);a=a.lng*b;b*=e;return b=Math.log(Math.tan(Math.PI/4+b/2)),new c.Point(a,b)},unproject:function(a){var b=c.LatLng.RAD_TO_DEG,e=a.x*b;a=(2*Math.atan(Math.exp(a.y))-Math.PI/2)*b;return new c.LatLng(a,e)}};c.Projection.LonLat={project:function(a){return new c.Point(a.lng,a.lat)},unproject:function(a){return new c.LatLng(a.y,a.x)}};c.CRS={latLngToPoint:function(a,b){var c=this.projection.project(a),
d=this.scale(b);return this.transformation._transform(c,d)},pointToLatLng:function(a,b){var c=this.scale(b),c=this.transformation.untransform(a,c);return this.projection.unproject(c)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)}};c.CRS.Simple=c.extend({},c.CRS,{projection:c.Projection.LonLat,transformation:new c.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}});c.CRS.EPSG3857=c.extend({},c.CRS,{code:"EPSG:3857",projection:c.Projection.SphericalMercator,
transformation:new c.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(a){return this.projection.project(a).multiplyBy(6378137)}});c.CRS.EPSG900913=c.extend({},c.CRS.EPSG3857,{code:"EPSG:900913"});c.CRS.EPSG4326=c.extend({},c.CRS,{code:"EPSG:4326",projection:c.Projection.LonLat,transformation:new c.Transformation(1/360,0.5,-1/360,0.5)});c.Map=c.Class.extend({includes:c.Mixin.Events,options:{crs:c.CRS.EPSG3857,fadeAnimation:c.DomUtil.TRANSITION&&!c.Browser.android23,trackResize:!0,
markerZoomAnimation:c.DomUtil.TRANSITION&&c.Browser.any3d},initialize:function(a,b){b=c.setOptions(this,b);this._initContainer(a);this._initLayout();this._initEvents();b.maxBounds&&this.setMaxBounds(b.maxBounds);b.center&&b.zoom!==m&&this.setView(c.latLng(b.center),b.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._tileLayersNum=0;this.callInitHooks();this._addLayers(b.layers)},setView:function(a,b){return this._resetView(c.latLng(a),this._limitZoom(b)),this},setZoom:function(a,
b){return this.setView(this.getCenter(),a,{zoom:b})},zoomIn:function(a,b){return this.setZoom(this._zoom+(a||1),b)},zoomOut:function(a,b){return this.setZoom(this._zoom-(a||1),b)},setZoomAround:function(a,b,e){var d=this.getZoomScale(b),f=this.getSize().divideBy(2);a=(a instanceof c.Point?a:this.latLngToContainerPoint(a)).subtract(f).multiplyBy(1-1/d);f=this.containerPointToLatLng(f.add(a));return this.setView(f,b,{zoom:e})},fitBounds:function(a,b){b=b||{};a=a.getBounds?a.getBounds():c.latLngBounds(a);
var e=c.point(b.paddingTopLeft||b.padding||[0,0]),d=c.point(b.paddingBottomRight||b.padding||[0,0]),f=this.getBoundsZoom(a,!1,e.add(d)),e=d.subtract(e).divideBy(2),d=this.project(a.getSouthWest(),f),k=this.project(a.getNorthEast(),f),e=this.unproject(d.add(k).divideBy(2).add(e),f);return this.setView(e,f,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a){return this.fire("movestart"),this._rawPanBy(c.point(a)),
this.fire("move"),this.fire("moveend")},setMaxBounds:function(a,b){if(a=c.latLngBounds(a),this.options.maxBounds=a,!a)return this._boundsMinZoom=null,this.off("moveend",this._panInsideMaxBounds,this),this;var e=this.getBoundsZoom(a,!0);return this._boundsMinZoom=e,this._loaded&&(this._zoom<e?this.setView(a.getCenter(),e,b):this.panInsideBounds(a)),this.on("moveend",this._panInsideMaxBounds,this),this},panInsideBounds:function(a){a=c.latLngBounds(a);var b=this.getPixelBounds(),e=b.getBottomLeft(),
b=b.getTopRight(),d=this.project(a.getSouthWest());a=this.project(a.getNorthEast());var f=0,k=0;return b.y<a.y&&(k=Math.ceil(a.y-b.y)),b.x>a.x&&(f=Math.floor(a.x-b.x)),e.y>d.y&&(k=Math.floor(d.y-e.y)),e.x<d.x&&(f=Math.ceil(d.x-e.x)),f||k?this.panBy([f,k]):this},addLayer:function(a){var b=c.stamp(a);return this._layers[b]?this:(this._layers[b]=a,!a.options||isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[b]=a,this._updateZoomLevels()),this.options.zoomAnimation&&c.TileLayer&&
a instanceof c.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(a),this)},removeLayer:function(a){var b=c.stamp(a);if(this._layers[b])return this._loaded&&a.onRemove(this),delete this._layers[b],this._loaded&&this.fire("layerremove",{layer:a}),this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels()),this.options.zoomAnimation&&c.TileLayer&&a instanceof c.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,
a.off("load",this._onTileLayerLoad,this)),this},hasLayer:function(a){return a?c.stamp(a)in this._layers:!1},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},invalidateSize:function(a){a=c.extend({animate:!1,pan:!0},!0===a?{animate:!0}:a);var b=this.getSize();if(this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds),!this._loaded)return this;var e=this.getSize(),d=b.subtract(e).divideBy(2).round();return d.x||d.y?(a.animate&&a.pan?
this.panBy(d):(a.pan&&this._rawPanBy(d),this.fire("move"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c.bind(this.fire,this,"moveend"),200)),this.fire("resize",{oldSize:b,newSize:e})):this},addHandler:function(a,b){if(b){var c=this[a]=new b(this);return this._handlers.push(c),this.options[a]&&c.enable(),this}},remove:function(){return this._loaded&&this.fire("unload"),this._initEvents("off"),delete this._container._leaflet,this._clearPanes(),this._clearControlPos&&this._clearControlPos(),
this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._moved()?this.layerPointToLatLng(this._getCenterLayerPoint()):this._initialCenter},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),b=this.unproject(a.getBottomLeft()),a=this.unproject(a.getTopRight());return new c.LatLngBounds(b,a)},getMinZoom:function(){var a=this._layersMinZoom===m?0:this._layersMinZoom,b=this._boundsMinZoom===m?0:this._boundsMinZoom;return this.options.minZoom===
m?Math.max(a,b):this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===m?this._layersMaxZoom===m?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,b,e){a=c.latLngBounds(a);var d,f=this.getMinZoom()-(b?1:0),k=this.getMaxZoom(),m=this.getSize(),y=a.getNorthWest();a=a.getSouthEast();d=!0;e=c.point(e||[0,0]);do f++,d=this.project(a,f).subtract(this.project(y,f)).add(e),d=b?d.x<m.x||d.y<m.y:m.contains(d);while(d&&k>=f);return d&&b?null:b?f:f-1},getSize:function(){return(!this._size||
this._sizeChanged)&&(this._size=new c.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new c.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var b=this.options.crs;return b.scale(a)/b.scale(this._zoom)},
getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,b){return b=b===m?this._zoom:b,this.options.crs.latLngToPoint(c.latLng(a),b)},unproject:function(a,b){return b=b===m?this._zoom:b,this.options.crs.pointToLatLng(c.point(a),b)},layerPointToLatLng:function(a){a=c.point(a).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(c.latLng(a))._round()._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return c.point(a).subtract(this._getMapPanePos())},
layerPointToContainerPoint:function(a){return c.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){a=this.containerPointToLayerPoint(c.point(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(c.latLng(a)))},mouseEventToContainerPoint:function(a){return c.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},
mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){a=this._container=c.DomUtil.get(a);if(!a)throw Error("Map container not found.");if(a._leaflet)throw Error("Map container is already initialized.");a._leaflet=!0},_initLayout:function(){var a=this._container;c.DomUtil.addClass(a,"leaflet-container"+(c.Browser.touch?" leaflet-touch":"")+(c.Browser.retina?" leaflet-retina":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));
var b=c.DomUtil.getStyle(a,"position");"absolute"!==b&&"relative"!==b&&"fixed"!==b&&(a.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container);this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane);a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane);a.shadowPane=this._createPane("leaflet-shadow-pane");a.overlayPane=
this._createPane("leaflet-overlay-pane");a.markerPane=this._createPane("leaflet-marker-pane");a.popupPane=this._createPane("leaflet-popup-pane");this.options.markerZoomAnimation||(c.DomUtil.addClass(a.markerPane," leaflet-zoom-hide"),c.DomUtil.addClass(a.shadowPane," leaflet-zoom-hide"),c.DomUtil.addClass(a.popupPane," leaflet-zoom-hide"))},_createPane:function(a,b){return c.DomUtil.create("div",a,b||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(a){a=
a?c.Util.isArray(a)?a:[a]:[];for(var b=0,e=a.length;e>b;b++)this.addLayer(a[b])},_resetView:function(a,b,e,d){var f=this._zoom!==b;d||(this.fire("movestart"),f&&this.fire("zoomstart"));this._zoom=b;this._initialCenter=a;this._initialTopLeftPoint=this._getNewTopLeftPoint(a);e?this._initialTopLeftPoint._add(this._getMapPanePos()):c.DomUtil.setPosition(this._mapPane,new c.Point(0,0));this._tileLayersToLoad=this._tileLayersNum;a=!this._loaded;this._loaded=!0;a&&(this.fire("load"),this.eachLayer(this._layerAdd,
this));this.fire("viewreset",{hard:!e});this.fire("move");(f||d)&&this.fire("zoomend");this.fire("moveend",{hard:!e})},_rawPanBy:function(a){c.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,b=1/0,c=-1/0,d=this._getZoomSpan();for(a in this._zoomBoundLayers){var f=this._zoomBoundLayers[a];isNaN(f.options.minZoom)||(b=Math.min(b,f.options.minZoom));isNaN(f.options.maxZoom)||(c=
Math.max(c,f.options.maxZoom))}a===m?this._layersMaxZoom=this._layersMinZoom=m:(this._layersMaxZoom=c,this._layersMinZoom=b);d!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(a){if(c.DomEvent){a=a||"on";c.DomEvent[a](this._container,"click",this._onMouseClick,this);var b,e,f="dblclick mousedown mouseup mouseenter mouseleave mousemove contextmenu".split(" ");
b=0;for(e=f.length;e>b;b++)c.DomEvent[a](this._container,f[b],this._fireMouseEvent,this);this.options.trackResize&&c.DomEvent[a](d,"resize",this._onResize,this)}},_onResize:function(){c.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=c.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(a){!this._loaded||!a._simulated&&this.dragging&&this.dragging.moved()||c.DomEvent._skipped(a)||(this.fire("preclick"),this._fireMouseEvent(a))},_fireMouseEvent:function(a){if(this._loaded&&
!c.DomEvent._skipped(a)){var b=a.type;if(b="mouseenter"===b?"mouseover":"mouseleave"===b?"mouseout":b,this.hasEventListeners(b)){"contextmenu"===b&&c.DomEvent.preventDefault(a);var e=this.mouseEventToContainerPoint(a),d=this.containerPointToLayerPoint(e),f=this.layerPointToLatLng(d);this.fire(b,{latlng:f,layerPoint:d,containerPoint:e,originalEvent:a})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--;this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=
0,b=this._handlers.length;b>a;a++)this._handlers[a].disable()},whenReady:function(a,b){return this._loaded?a.call(b||this,this):this.on("load",a,b),this},_layerAdd:function(a){a.onAdd(this);this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return c.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(a,b){var c=this.getSize()._divideBy(2);
return this.project(a,b)._subtract(c)._round()},_latLngToNewLayerPoint:function(a,b,c){c=this._getNewTopLeftPoint(c,b).add(this._getMapPanePos());return this.project(a,b)._subtract(c)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitZoom:function(a){var b=this.getMinZoom(),c=this.getMaxZoom();return Math.max(b,Math.min(c,a))}});c.map=function(a,
b){return new c.Map(a,b)};c.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(a){var b=c.LatLng.DEG_TO_RAD,e=this.MAX_LATITUDE,d=Math.max(Math.min(e,a.lat),-e),e=this.R_MAJOR;a=a.lng*b*e;var b=d*b,d=this.R_MINOR/e,d=Math.sqrt(1-d*d),f=d*Math.sin(b),f=Math.pow((1-f)/(1+f),0.5*d),d=Math.tan(0.5*(0.5*Math.PI-b))/f;return b=-e*Math.log(d),new c.Point(a,b)},unproject:function(a){var b,e=c.LatLng.RAD_TO_DEG,d=this.R_MAJOR,f=a.x*e/d,k=this.R_MINOR/
d,k=Math.sqrt(1-k*k);a=Math.exp(-a.y/d);var d=Math.PI/2-2*Math.atan(a),m=15;for(b=0.1;1E-7<Math.abs(b)&&0<--m;)b=k*Math.sin(d),b=Math.PI/2-2*Math.atan(a*Math.pow((1-b)/(1+b),0.5*k))-d,d+=b;return new c.LatLng(d*e,f)}};c.CRS.EPSG3395=c.extend({},c.CRS,{code:"EPSG:3395",projection:c.Projection.Mercator,transformation:function(){var a=c.Projection.Mercator;return new c.Transformation(0.5/(Math.PI*a.R_MAJOR),0.5,-0.5/(Math.PI*a.R_MINOR),0.5)}()});c.TileLayer=c.Class.extend({includes:c.Mixin.Events,options:{minZoom:0,
maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:c.Browser.mobile,updateWhenIdle:c.Browser.mobile},initialize:function(a,b){b=c.setOptions(this,b);b.detectRetina&&c.Browser.retina&&0<b.maxZoom&&(b.tileSize=Math.floor(b.tileSize/2),b.zoomOffset++,0<b.minZoom&&b.minZoom--,this.options.maxZoom--);b.bounds&&(b.bounds=c.latLngBounds(b.bounds));this._url=a;var e=this.options.subdomains;"string"==typeof e&&(this.options.subdomains=e.split(""))},
onAdd:function(a){this._map=a;this._animated=a._zoomAnimated;this._initContainer();this._createTileProto();a.on({viewreset:this._reset,moveend:this._update},this);this._animated&&a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||(this._limitedUpdate=c.Util.limitExecByInterval(this._update,150,this),a.on("move",this._limitedUpdate,this));this._reset();this._update()},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this._container.parentNode.removeChild(this._container);
a.off({viewreset:this._reset,moveend:this._update},this);this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||a.off("move",this._limitedUpdate,this);this._map=this._container=null},bringToFront:function(){var a=this._map._panes.tilePane;return this._container&&(a.appendChild(this._container),this._setAutoZIndex(a,Math.max)),this},bringToBack:function(){var a=this._map._panes.tilePane;return this._container&&(a.insertBefore(this._container,
a.firstChild),this._setAutoZIndex(a,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},setUrl:function(a,b){return this._url=a,b||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&
this.options.zIndex!==m&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a,b){var c,d,f,k=a.children,m=-b(1/0,-1/0);d=0;for(f=k.length;f>d;d++)k[d]!==this._container&&(c=parseInt(k[d].style.zIndex,10),isNaN(c)||(m=b(m,c)));this.options.zIndex=this._container.style.zIndex=(isFinite(m)?m:0)+b(1,-1)},_updateOpacity:function(){var a,b=this._tiles;if(c.Browser.ielt9)for(a in b)c.DomUtil.setOpacity(b[a],this.options.opacity);else c.DomUtil.setOpacity(this._container,this.options.opacity)},
_initContainer:function(){var a=this._map._panes.tilePane;this._container||((this._container=c.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated)?(this._bgBuffer=c.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),this._tileContainer=c.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container)):this._tileContainer=this._container,a.appendChild(this._container),1>this.options.opacity&&this._updateOpacity())},_reset:function(a){for(var b in this._tiles)this.fire("tileunload",
{tile:this._tiles[b]});this._tiles={};this._tilesToLoad=0;this.options.reuseTiles&&(this._unusedTiles=[]);this._tileContainer.innerHTML="";this._animated&&a&&a.hard&&this._clearBgBuffer();this._initContainer()},_update:function(){if(this._map){var a=this._map.getPixelBounds(),b=this._map.getZoom(),e=this.options.tileSize;b>this.options.maxZoom||b<this.options.minZoom||(a=c.bounds(a.min.divideBy(e)._floor(),a.max.divideBy(e)._floor()),this._addTilesFromCenterOut(a),(this.options.unloadInvisibleTiles||
this.options.reuseTiles)&&this._removeOtherTiles(a))}},_addTilesFromCenterOut:function(a){var b,e,d,k=[],m=a.getCenter();for(b=a.min.y;b<=a.max.y;b++)for(e=a.min.x;e<=a.max.x;e++)d=new c.Point(e,b),this._tileShouldBeLoaded(d)&&k.push(d);a=k.length;if(0!==a){k.sort(function(a,b){return a.distanceTo(m)-b.distanceTo(m)});b=f.createDocumentFragment();this._tilesToLoad||this.fire("loading");this._tilesToLoad+=a;for(e=0;a>e;e++)this._addTile(k[e],b);this._tileContainer.appendChild(b)}},_tileShouldBeLoaded:function(a){if(a.x+
":"+a.y in this._tiles)return!1;var b=this.options;if(!b.continuousWorld){var c=this._getWrapTileNum();if(b.noWrap&&(0>a.x||a.x>=c)||0>a.y||a.y>=c)return!1}return b.bounds&&(c=b.tileSize,a=a.multiplyBy(c),c=a.add([c,c]),a=this._map.unproject(a),c=this._map.unproject(c),b.continuousWorld||b.noWrap||(a=a.wrap(),c=c.wrap()),!b.bounds.intersects([a,c]))?!1:!0},_removeOtherTiles:function(a){var b,c,d;for(d in this._tiles)b=d.split(":"),c=parseInt(b[0],10),b=parseInt(b[1],10),(c<a.min.x||c>a.max.x||b<a.min.y||
b>a.max.y)&&this._removeTile(d)},_removeTile:function(a){var b=this._tiles[a];this.fire("tileunload",{tile:b,url:b.src});this.options.reuseTiles?(c.DomUtil.removeClass(b,"leaflet-tile-loaded"),this._unusedTiles.push(b)):b.parentNode===this._tileContainer&&this._tileContainer.removeChild(b);c.Browser.android||(b.onload=null,b.src=c.Util.emptyImageUrl);delete this._tiles[a]},_addTile:function(a,b){var e=this._getTilePos(a),d=this._getTile();c.DomUtil.setPosition(d,e,c.Browser.chrome||c.Browser.android23);
this._tiles[a.x+":"+a.y]=d;this._loadTile(d,a);d.parentNode!==this._tileContainer&&b.appendChild(d)},_getZoomForUrl:function(){var a=this.options,b=this._map.getZoom();return a.zoomReverse&&(b=a.maxZoom-b),b+a.zoomOffset},_getTilePos:function(a){var b=this._map.getPixelOrigin();return a.multiplyBy(this.options.tileSize).subtract(b)},getTileUrl:function(a){return c.Util.template(this._url,c.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){return Math.pow(2,
this._getZoomForUrl())},_adjustTilePoint:function(a){var b=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(a.x=(a.x%b+b)%b);this.options.tms&&(a.y=b-a.y-1);a.z=this._getZoomForUrl()},_getSubdomain:function(a){a=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[a]},_createTileProto:function(){var a=this._tileImg=c.DomUtil.create("img","leaflet-tile");a.style.width=a.style.height=this.options.tileSize+"px";a.galleryimg="no"},_getTile:function(){if(this.options.reuseTiles&&
0<this._unusedTiles.length){var a=this._unusedTiles.pop();return this._resetTile(a),a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=this._tileImg.cloneNode(!1);return a.onselectstart=a.onmousemove=c.Util.falseFn,c.Browser.ielt9&&this.options.opacity!==m&&c.DomUtil.setOpacity(a,this.options.opacity),a},_loadTile:function(a,b){a._layer=this;a.onload=this._tileOnLoad;a.onerror=this._tileOnError;this._adjustTilePoint(b);a.src=this.getTileUrl(b)},_tileLoaded:function(){this._tilesToLoad--;
this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(c.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==c.Util.emptyImageUrl&&(c.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src}));a._tileLoaded()},_tileOnError:function(){var a=this._layer;a.fire("tileerror",{tile:this,url:this.src});var b=a.options.errorTileUrl;b&&(this.src=b);a._tileLoaded()}});
c.tileLayer=function(a,b){return new c.TileLayer(a,b)};c.TileLayer.WMS=c.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(a,b){this._url=a;var e=c.extend({},this.defaultWmsParams),d=b.tileSize||this.options.tileSize;e.width=e.height=b.detectRetina&&c.Browser.retina?2*d:d;for(var f in b)this.options.hasOwnProperty(f)||"crs"===f||(e[f]=b[f]);this.wmsParams=e;c.setOptions(this,b)},onAdd:function(a){this._crs=
this.options.crs||a.options.crs;var b=1.3<=parseFloat(this.wmsParams.version)?"crs":"srs";this.wmsParams[b]=this._crs.code;c.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a,b){var e=this._map,d=this.options.tileSize,f=a.multiplyBy(d),d=f.add([d,d]),f=this._crs.project(e.unproject(f,b)),e=this._crs.project(e.unproject(d,b)),e=[f.x,e.y,e.x,f.y].join(),f=c.Util.template(this._url,{s:this._getSubdomain(a)});return f+c.Util.getParamString(this.wmsParams,f,!0)+"&BBOX="+e},setParams:function(a,
b){return c.extend(this.wmsParams,a),b||this.redraw(),this}});c.tileLayer.wms=function(a,b){return new c.TileLayer.WMS(a,b)};c.TileLayer.Canvas=c.TileLayer.extend({options:{async:!1},initialize:function(a){c.setOptions(this,a)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var a in this._tiles)this._redrawTile(this._tiles[a]);return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTileProto:function(){var a=this._canvasProto=c.DomUtil.create("canvas",
"leaflet-tile");a.width=a.height=this.options.tileSize},_createTile:function(){var a=this._canvasProto.cloneNode(!1);return a.onselectstart=a.onmousemove=c.Util.falseFn,a},_loadTile:function(a,b){a._layer=this;a._tilePoint=b;this._redrawTile(a);this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}});c.tileLayer.canvas=function(a){return new c.TileLayer.Canvas(a)};c.ImageOverlay=c.Class.extend({includes:c.Mixin.Events,options:{opacity:1},initialize:function(a,
b,e){this._url=a;this._bounds=c.latLngBounds(b);c.setOptions(this,e)},onAdd:function(a){this._map=a;this._image||this._initImage();a._panes.overlayPane.appendChild(this._image);a.on("viewreset",this._reset,this);a.options.zoomAnimation&&c.Browser.any3d&&a.on("zoomanim",this._animateZoom,this);this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image);a.off("viewreset",this._reset,this);a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),
this},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var a=this._map._panes.overlayPane;return this._image&&a.insertBefore(this._image,a.firstChild),this},_initImage:function(){this._image=c.DomUtil.create("img","leaflet-image-layer");this._map.options.zoomAnimation&&c.Browser.any3d?c.DomUtil.addClass(this._image,"leaflet-zoom-animated"):
c.DomUtil.addClass(this._image,"leaflet-zoom-hide");this._updateOpacity();c.extend(this._image,{galleryimg:"no",onselectstart:c.Util.falseFn,onmousemove:c.Util.falseFn,onload:c.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(a){var b=this._map,e=this._image,d=b.getZoomScale(a.zoom),f=this._bounds.getNorthWest(),k=this._bounds.getSouthEast(),f=b._latLngToNewLayerPoint(f,a.zoom,a.center);a=b._latLngToNewLayerPoint(k,a.zoom,a.center)._subtract(f);a=f._add(a._multiplyBy(0.5*(1-1/d)));
e.style[c.DomUtil.TRANSFORM]=c.DomUtil.getTranslateString(a)+" scale("+d+") "},_reset:function(){var a=this._image,b=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),e=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(b);c.DomUtil.setPosition(a,b);a.style.width=e.x+"px";a.style.height=e.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){c.DomUtil.setOpacity(this._image,this.options.opacity)}});c.imageOverlay=function(a,b,e){return new c.ImageOverlay(a,
b,e)};c.Icon=c.Class.extend({options:{className:""},initialize:function(a){c.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var c=this._getIconUrl(a);if(!c){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null}var d;return d=b&&"IMG"===b.tagName?this._createImg(c,b):this._createImg(c),this._setIconStyles(d,a),d},_setIconStyles:function(a,b){var e,
d=this.options,f=c.point(d[b+"Size"]);e="shadow"===b?c.point(d.shadowAnchor||d.iconAnchor):c.point(d.iconAnchor);!e&&f&&(e=f.divideBy(2,!0));a.className="leaflet-marker-"+b+" "+d.className;e&&(a.style.marginLeft=-e.x+"px",a.style.marginTop=-e.y+"px");f&&(a.style.width=f.x+"px",a.style.height=f.y+"px")},_createImg:function(a,b){return c.Browser.ie6?(b||(b=f.createElement("div")),b.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+a+'")'):(b||(b=f.createElement("img")),b.src=a),
b},_getIconUrl:function(a){return c.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}});c.icon=function(a){return new c.Icon(a)};c.Icon.Default=c.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var b=a+"Url";if(this.options[b])return this.options[b];c.Browser.retina&&"icon"===a&&(a+="-2x");b=c.Icon.Default.imagePath;if(!b)throw Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");
return b+"/marker-"+a+".png"}});c.Icon.Default.imagePath=function(){var a,b,c,d,k=f.getElementsByTagName("script"),m=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;a=0;for(b=k.length;b>a;a++)if(c=k[a].src,c.match(m))return d=c.split(m)[0],(d?d+"/":"")+"images"}();c.Marker=c.Class.extend({includes:c.Mixin.Events,options:{icon:new c.Icon.Default,title:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,b){c.setOptions(this,b);this._latlng=
c.latLng(a)},onAdd:function(a){this._map=a;a.on("viewreset",this.update,this);this._initIcon();this.update();a.options.zoomAnimation&&a.options.markerZoomAnimation&&a.on("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this.dragging&&this.dragging.disable();this._removeIcon();this._removeShadow();this.fire("remove");a.off({viewreset:this.update,zoomanim:this._animateZoom},this);this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=
c.latLng(a),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update(),this},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,b=this._map,e=b.options.zoomAnimation&&b.options.markerZoomAnimation?"leaflet-zoom-animated":"leaflet-zoom-hide",
d=a.icon.createIcon(this._icon),b=!1;d!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(d.title=a.title));c.DomUtil.addClass(d,e);a.keyboard&&(d.tabIndex="0");this._icon=d;this._initInteraction();a.riseOnHover&&c.DomEvent.on(d,"mouseover",this._bringToFront,this).on(d,"mouseout",this._resetZIndex,this);var d=a.icon.createShadow(this._shadow),f=!1;d!==this._shadow&&(this._removeShadow(),f=!0);d&&c.DomUtil.addClass(d,e);this._shadow=d;1>a.opacity&&this._updateOpacity();a=this._map._panes;
b&&a.markerPane.appendChild(this._icon);d&&f&&a.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&c.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex);this._map._panes.markerPane.removeChild(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow);this._shadow=null},_setPos:function(a){c.DomUtil.setPosition(this._icon,a);this._shadow&&c.DomUtil.setPosition(this._shadow,
a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPos(a)},_initInteraction:function(){if(this.options.clickable){var a=this._icon,b=["dblclick","mousedown","mouseover","mouseout","contextmenu"];c.DomUtil.addClass(a,"leaflet-clickable");c.DomEvent.on(a,"click",this._onMouseClick,this);c.DomEvent.on(a,"keypress",this._onKeyPress,
this);for(var e=0;e<b.length;e++)c.DomEvent.on(a,b[e],this._fireMouseEvent,this);c.Handler.MarkerDrag&&(this.dragging=new c.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(a){var b=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||b)&&c.DomEvent.stopPropagation(a);b||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){13===
a.keyCode&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng});"contextmenu"===a.type&&this.hasEventListeners(a.type)&&c.DomEvent.preventDefault(a);"mousedown"!==a.type?c.DomEvent.stopPropagation(a):c.DomEvent.preventDefault(a)},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){c.DomUtil.setOpacity(this._icon,this.options.opacity);this._shadow&&
c.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});c.marker=function(a,b){return new c.Marker(a,b)};c.DivIcon=c.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(a){a=a&&"DIV"===a.tagName?a:f.createElement("div");var b=this.options;return a.innerHTML=!1!==b.html?b.html:"",b.bgPos&&(a.style.backgroundPosition=-b.bgPos.x+"px "+-b.bgPos.y+
"px"),this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});c.divIcon=function(a){return new c.DivIcon(a)};c.Map.mergeOptions({closePopupOnClick:!0});c.Popup=c.Class.extend({includes:c.Mixin.Events,options:{minWidth:50,maxWidth:300,maxHeight:null,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(a,b){c.setOptions(this,a);this._source=b;this._animated=c.Browser.any3d&&this.options.zoomAnimation;this._isOpen=
!1},onAdd:function(a){this._map=a;this._container||this._initLayout();this._updateContent();var b=a.options.fadeAnimation;b&&c.DomUtil.setOpacity(this._container,0);a._panes.popupPane.appendChild(this._container);a.on(this._getEvents(),this);this._update();b&&c.DomUtil.setOpacity(this._container,1);this.fire("open");a.fire("popupopen",{popup:this});this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(a){return a.addLayer(this),this},openOn:function(a){return a.openPopup(this),
this},onRemove:function(a){a._panes.popupPane.removeChild(this._container);c.Util.falseFn(this._container.offsetWidth);a.off(this._getEvents(),this);a.options.fadeAnimation&&c.DomUtil.setOpacity(this._container,0);this._map=null;this.fire("close");a.fire("popupclose",{popup:this});this._source&&this._source.fire("popupclose",{popup:this})},setLatLng:function(a){return this._latlng=c.latLng(a),this._update(),this},setContent:function(a){return this._content=a,this._update(),this},_getEvents:function(){var a=
{viewreset:this._updatePosition};return this._animated&&(a.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a,b=this._container=c.DomUtil.create("div","leaflet-popup "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"));this.options.closeButton&&
(a=this._closeButton=c.DomUtil.create("a","leaflet-popup-close-button",b),a.href="#close",a.innerHTML="&#215;",c.DomEvent.disableClickPropagation(a),c.DomEvent.on(a,"click",this._onCloseButtonClick,this));a=this._wrapper=c.DomUtil.create("div","leaflet-popup-content-wrapper",b);c.DomEvent.disableClickPropagation(a);this._contentNode=c.DomUtil.create("div","leaflet-popup-content",a);c.DomEvent.on(this._contentNode,"mousewheel",c.DomEvent.stopPropagation);c.DomEvent.on(this._contentNode,"MozMousePixelScroll",
c.DomEvent.stopPropagation);c.DomEvent.on(a,"contextmenu",c.DomEvent.stopPropagation);this._tipContainer=c.DomUtil.create("div","leaflet-popup-tip-container",b);this._tip=c.DomUtil.create("div","leaflet-popup-tip",this._tipContainer)},_update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=
this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var a=this._contentNode,b=a.style;b.width="";b.whiteSpace="nowrap";var e=a.offsetWidth,e=Math.min(e,this.options.maxWidth),e=Math.max(e,this.options.minWidth);b.width=e+1+"px";b.whiteSpace="";b.height="";var e=a.offsetHeight,d=this.options.maxHeight;d&&e>d?(b.height=d+"px",c.DomUtil.addClass(a,
"leaflet-popup-scrolled")):c.DomUtil.removeClass(a,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),b=this._animated,e=c.point(this.options.offset);b&&c.DomUtil.setPosition(this._container,a);this._containerBottom=-e.y-(b?0:a.y);this._containerLeft=-Math.round(this._containerWidth/2)+e.x+(b?0:a.x);this._container.style.bottom=this._containerBottom+"px";this._container.style.left=this._containerLeft+
"px"}},_zoomAnimation:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);c.DomUtil.setPosition(this._container,a)},_adjustPan:function(){if(this.options.autoPan){var a=this._map,b=this._container.offsetHeight,e=this._containerWidth,d=new c.Point(this._containerLeft,-b-this._containerBottom);this._animated&&d._add(c.DomUtil.getPosition(this._container));var d=a.layerPointToContainerPoint(d),f=c.point(this.options.autoPanPadding),k=a.getSize(),m=0,y=0;d.x+e>k.x&&(m=d.x+e-k.x+
f.x);0>d.x-m&&(m=d.x-f.x);d.y+b>k.y&&(y=d.y+b-k.y+f.y);0>d.y-y&&(y=d.y-f.y);(m||y)&&a.fire("autopanstart").panBy([m,y])}},_onCloseButtonClick:function(a){this._close();c.DomEvent.stop(a)}});c.popup=function(a,b){return new c.Popup(a,b)};c.Map.include({openPopup:function(a,b,e){(this.closePopup(),a instanceof c.Popup)||(a=(new c.Popup(e)).setLatLng(b).setContent(a));return a._isOpen=!0,this._popup=a,this.addLayer(a)},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),
a&&(this.removeLayer(a),a._isOpen=!1),this}});c.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(a,b){var e=c.point(this.options.icon.options.popupAnchor||[0,0]);return e=e.add(c.Popup.prototype.options.offset),
b&&b.offset&&(e=e.add(b.offset)),b=c.extend({offset:e},b),this._popup||this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),a instanceof c.Popup?(c.setOptions(a,b),this._popup=a):this._popup=(new c.Popup(b,this)).setContent(a),this},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup).off("remove",this.closePopup).off("move",
this._movePopup)),this},_movePopup:function(a){this._popup.setLatLng(a.latlng)}});c.LayerGroup=c.Class.extend({initialize:function(a){this._layers={};var b,c;if(a)for(b=0,c=a.length;c>b;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);return this._layers[b]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(a){return a?
a in this._layers||this.getLayerId(a)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(a){var b,c,d=Array.prototype.slice.call(arguments,1);for(b in this._layers)c=this._layers[b],c[a]&&c[a].apply(c,d);return this},onAdd:function(a){this._map=a;this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a);this._map=null},addTo:function(a){return a.addLayer(this),this},eachLayer:function(a,b){for(var c in this._layers)a.call(b,
this._layers[c]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[],b;for(b in this._layers)a.push(this._layers[b]);return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return c.stamp(a)}});c.layerGroup=function(a){return new c.LayerGroup(a)};c.FeatureGroup=c.LayerGroup.extend({includes:c.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){return this.hasLayer(a)?
this:(a.on(c.FeatureGroup.EVENTS,this._propagateEvent,this),c.LayerGroup.prototype.addLayer.call(this,a),this._popupContent&&a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.off(c.FeatureGroup.EVENTS,this._propagateEvent,this),c.LayerGroup.prototype.removeLayer.call(this,a),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:a})):this},
bindPopup:function(a,b){return this._popupContent=a,this._popupOptions=b,this.invoke("bindPopup",a,b)},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new c.LatLngBounds;return this.eachLayer(function(b){a.extend(b instanceof c.Marker?b.getLatLng():b.getBounds())}),a},_propagateEvent:function(a){a.layer||(a.layer=a.target);a.target=this;this.fire(a.type,
a)}});c.featureGroup=function(a){return new c.FeatureGroup(a)};c.Path=c.Class.extend({includes:[c.Mixin.Events],statics:{CLIP_PADDING:function(){var a=((c.Browser.mobile?1280:2E3)/Math.max(d.outerWidth,d.outerHeight)-1)/2;return Math.max(0,Math.min(0.5,a))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,weight:5,opacity:0.5,fill:!1,fillColor:null,fillOpacity:0.2,clickable:!0},initialize:function(a){c.setOptions(this,a)},onAdd:function(a){this._map=a;this._container||(this._initElements(),this._initEvents());
this.projectLatlngs();this._updatePath();this._container&&this._map._pathRoot.appendChild(this._container);this.fire("add");a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){a._pathRoot.removeChild(this._container);this.fire("remove");this._map=null;c.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null);a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},
setStyle:function(a){return c.setOptions(this,a),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}});c.Map.include({_updatePathViewport:function(){var a=c.Path.CLIP_PADDING,b=this.getSize(),e=c.DomUtil.getPosition(this._mapPane).multiplyBy(-1)._subtract(b.multiplyBy(a)._round()),a=e.add(b.multiplyBy(1+2*a)._round());this._pathViewport=new c.Bounds(e,a)}});c.Path.SVG_NS="http://www.w3.org/2000/svg";c.Browser.svg=!(!f.createElementNS||
!f.createElementNS(c.Path.SVG_NS,"svg").createSVGRect);c.Path=c.Path.extend({statics:{SVG:c.Browser.svg},bringToFront:function(){var a=this._map._pathRoot,b=this._container;return b&&a.lastChild!==b&&a.appendChild(b),this},bringToBack:function(){var a=this._map._pathRoot,b=this._container,c=a.firstChild;return b&&c!==b&&a.insertBefore(b,c),this},getPathString:function(){},_createElement:function(a){return f.createElementNS(c.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot();this._initPath();
this._initStyle()},_initPath:function(){this._container=this._createElement("g");this._path=this._createElement("path");this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round"));this.options.fill&&this._path.setAttribute("fill-rule","evenodd");this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents);this.options.clickable||this.options.pointerEvents||
this._path.setAttribute("pointer-events","none");this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray")):this._path.setAttribute("stroke","none");this.options.fill?(this._path.setAttribute("fill",
this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0");this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){!c.Browser.svg&&c.Browser.vml||this._path.setAttribute("class","leaflet-clickable");c.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var a="dblclick mousedown mouseover mouseout mousemove contextmenu".split(" "),
b=0;b<a.length;b++)c.DomEvent.on(this._container,a[b],this._fireMouseEvent,this)}},_onMouseClick:function(a){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)},_fireMouseEvent:function(a){if(this.hasEventListeners(a.type)){var b=this._map,e=b.mouseEventToContainerPoint(a),d=b.containerPointToLayerPoint(e),b=b.layerPointToLatLng(d);this.fire(a.type,{latlng:b,layerPoint:d,containerPoint:e,originalEvent:a});"contextmenu"===a.type&&c.DomEvent.preventDefault(a);"mousemove"!==a.type&&
c.DomEvent.stopPropagation(a)}}});c.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=c.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&c.Browser.any3d?(this._pathRoot.setAttribute("class"," leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):this._pathRoot.setAttribute("class"," leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},
_animatePathZoom:function(a){var b=this.getZoomScale(a.zoom);a=this._getCenterOffset(a.center)._multiplyBy(-b)._add(this._pathViewport.min);this._pathRoot.style[c.DomUtil.TRANSFORM]=c.DomUtil.getTranslateString(a)+" scale("+b+") ";this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,b=a.min,e=a.max,a=e.x-b.x,e=e.y-b.y,d=this._pathRoot,f=this._panes.overlayPane;c.Browser.mobileWebkit&&
f.removeChild(d);c.DomUtil.setPosition(d,b);d.setAttribute("width",a);d.setAttribute("height",e);d.setAttribute("viewBox",[b.x,b.y,a,e].join(" "));c.Browser.mobileWebkit&&f.appendChild(d)}}});c.Path.include({bindPopup:function(a,b){return a instanceof c.Popup?this._popup=a:((!this._popup||b)&&(this._popup=new c.Popup(b,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&
(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(a){return this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(a){this._popup.setLatLng(a.latlng);this._map.openPopup(this._popup)}});c.Browser.vml=!c.Browser.svg&&function(){try{var a=f.createElement("div");a.innerHTML=
'<v:shape adj="1"/>';var b=a.firstChild;return b.style.behavior="url(#default#VML)",b&&"object"==typeof b.adj}catch(c){return!1}}();c.Path=c.Browser.svg||!c.Browser.vml?c.Path:c.Path.extend({statics:{VML:!0,CLIP_PADDING:0.02},_createElement:function(){try{return f.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return f.createElement("<lvml:"+a+' class="lvml">')}}catch(a){return function(a){return f.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),
_initPath:function(){var a=this._container=this._createElement("shape");c.DomUtil.addClass(a,"leaflet-vml-shape");this.options.clickable&&c.DomUtil.addClass(a,"leaflet-clickable");a.coordsize="1 1";this._path=this._createElement("path");a.appendChild(this._path);this._map._pathRoot.appendChild(a)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var a=this._stroke,b=this._fill,c=this.options,d=this._container;d.stroked=c.stroke;d.filled=c.fill;c.stroke?(a||(a=this._stroke=this._createElement("stroke"),
a.endcap="round",d.appendChild(a)),a.weight=c.weight+"px",a.color=c.color,a.opacity=c.opacity,a.dashStyle=c.dashArray?c.dashArray instanceof Array?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):""):a&&(d.removeChild(a),this._stroke=null);c.fill?(b||(b=this._fill=this._createElement("fill"),d.appendChild(b)),b.color=c.fillColor||c.color,b.opacity=c.fillOpacity):b&&(d.removeChild(b),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none";this._path.v=this.getPathString()+
" ";a.display=""}});c.Map.include(c.Browser.svg||!c.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var a=this._pathRoot=f.createElement("div");a.className="leaflet-vml-container";this._panes.overlayPane.appendChild(a);this.on("moveend",this._updatePathViewport);this._updatePathViewport()}}});c.Browser.canvas=!!f.createElement("canvas").getContext;c.Path=c.Path.SVG&&!d.L_PREFER_CANVAS||!c.Browser.canvas?c.Path:c.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&
(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(a){return c.setOptions(this,a),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(a){a.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this);this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this));this._requestUpdate();this._map=null},_requestUpdate:function(){this._map&&!c.Path._updateRequest&&(c.Path._updateRequest=
c.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){c.Path._updateRequest=null;this.fire("moveend")},_initElements:function(){this._map._initPathRoot();this._ctx=this._map._canvasCtx},_updateStyle:function(){var a=this.options;a.stroke&&(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color);a.fill&&(this._ctx.fillStyle=a.fillColor||a.color)},_drawPath:function(){var a,b,e,d,f,k;this._ctx.beginPath();a=0;for(e=this._parts.length;e>a;a++){b=0;for(d=this._parts[a].length;d>
b;b++)f=this._parts[a][b],k=(0===b?"move":"line")+"To",this._ctx[k](f.x,f.y);this instanceof c.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var a=this._ctx,b=this.options;this._drawPath();a.save();this._updateStyle();b.fill&&(a.globalAlpha=b.fillOpacity,a.fill());b.stroke&&(a.globalAlpha=b.opacity,a.stroke());a.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,
this),this._map.on("click",this._onClick,this))},_onClick:function(a){this._containsPoint(a.layerPoint)&&this.fire("click",a)},_onMouseMove:function(a){this._map&&!this._map._animatingZoom&&(this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a)))}});c.Map.include(c.Path.SVG&&!d.L_PREFER_CANVAS||!c.Browser.canvas?{}:{_initPathRoot:function(){var a,
b=this._pathRoot;b||(b=this._pathRoot=f.createElement("canvas"),b.style.position="absolute",a=this._canvasCtx=b.getContext("2d"),a.lineCap="round",a.lineJoin="round",this._panes.overlayPane.appendChild(b),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();
var a=this._pathViewport,b=a.min,a=a.max.subtract(b),e=this._pathRoot;c.DomUtil.setPosition(e,b);e.width=a.x;e.height=a.y;e.getContext("2d").translate(-b.x,-b.y)}}});c.LineUtil={simplify:function(a,b){if(!b||!a.length)return a.slice();var c=b*b;return a=this._reducePoints(a,c),this._simplifyDP(a,c)},pointToSegmentDistance:function(a,b,c){return Math.sqrt(this._sqClosestPointOnSegment(a,b,c,!0))},closestPointOnSegment:function(a,b,c){return this._sqClosestPointOnSegment(a,b,c)},_simplifyDP:function(a,
b){var c=a.length,d=new (typeof Uint8Array!=m+""?Uint8Array:Array)(c);d[0]=d[c-1]=1;this._simplifyDPStep(a,d,b,0,c-1);var f,k=[];for(f=0;c>f;f++)d[f]&&k.push(a[f]);return k},_simplifyDPStep:function(a,b,c,d,f){var k,m,y,F=0;for(m=d+1;f-1>=m;m++)y=this._sqClosestPointOnSegment(a[m],a[d],a[f],!0),y>F&&(k=m,F=y);F>c&&(b[k]=1,this._simplifyDPStep(a,b,c,d,k),this._simplifyDPStep(a,b,c,k,f))},_reducePoints:function(a,b){for(var c=[a[0]],d=1,f=0,k=a.length;k>d;d++)this._sqDist(a[d],a[f])>b&&(c.push(a[d]),
f=d);return k-1>f&&c.push(a[k-1]),c},clipSegment:function(a,b,c,d){var f,k,m=d?this._lastCode:this._getBitCode(a,c),y=this._getBitCode(b,c);for(this._lastCode=y;;){if(!(m|y))return[a,b];if(m&y)return!1;d=m||y;f=this._getEdgeIntersection(a,b,d,c);k=this._getBitCode(f,c);d===m?(a=f,m=k):(b=f,y=k)}},_getEdgeIntersection:function(a,b,e,d){var f=b.x-a.x;b=b.y-a.y;var k=d.min;d=d.max;return 8&e?new c.Point(a.x+f*(d.y-a.y)/b,d.y):4&e?new c.Point(a.x+f*(k.y-a.y)/b,k.y):2&e?new c.Point(d.x,a.y+b*(d.x-a.x)/
f):1&e?new c.Point(k.x,a.y+b*(k.x-a.x)/f):void 0},_getBitCode:function(a,b){var c=0;return a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2),a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8),c},_sqDist:function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d},_sqClosestPointOnSegment:function(a,b,e,d){var f,k=b.x;b=b.y;var m=e.x-k,y=e.y-b,F=m*m+y*y;return 0<F&&(f=((a.x-k)*m+(a.y-b)*y)/F,1<f?(k=e.x,b=e.y):0<f&&(k+=m*f,b+=y*f)),m=a.x-k,y=a.y-b,d?m*m+y*y:new c.Point(k,b)}};c.Polyline=c.Path.extend({initialize:function(a,b){c.Path.prototype.initialize.call(this,
b);this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,b=this._latlngs.length;b>a;a++)this._originalPoints[a]=this._map.latLngToLayerPoint(this._latlngs[a])},getPathString:function(){for(var a=0,b=this._parts.length,c="";b>a;a++)c+=this._getPathPartStr(this._parts[a]);return c},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._latlngs=this._convertLatLngs(a),this.redraw()},addLatLng:function(a){return this._latlngs.push(c.latLng(a)),
this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),a},closestLayerPoint:function(a){for(var b,e,d=1/0,f=this._parts,k=null,m=0,y=f.length;y>m;m++)for(var F=f[m],v=1,M=F.length;M>v;v++){b=F[v-1];e=F[v];var I=c.LineUtil._sqClosestPointOnSegment(a,b,e,!0);d>I&&(d=I,k=c.LineUtil._sqClosestPointOnSegment(a,b,e))}return k&&(k.distance=Math.sqrt(d)),k},getBounds:function(){return new c.LatLngBounds(this.getLatLngs())},
_convertLatLngs:function(a,b){var e,d,f=b?a:[];e=0;for(d=a.length;d>e;e++){if(c.Util.isArray(a[e])&&"number"!=typeof a[e][0])return;f[e]=c.latLng(a[e])}return f},_initEvents:function(){c.Path.prototype._initEvents.call(this)},_getPathPartStr:function(a){for(var b,e=c.Path.VML,d=0,f=a.length,k="";f>d;d++)b=a[d],e&&b._round(),k+=(d?"L":"M")+b.x+" "+b.y;return k},_clipPoints:function(){var a,b,e,d=this._originalPoints,f=d.length;if(this.options.noClip)return this._parts=[d],void 0;var k=this._parts=
[],m=this._map._pathViewport,y=c.LineUtil;for(b=a=0;f-1>a;a++)(e=y.clipSegment(d[a],d[a+1],m,a))&&(k[b]=k[b]||[],k[b].push(e[0]),(e[1]!==d[a+1]||a===f-2)&&(k[b].push(e[1]),b++))},_simplifyPoints:function(){for(var a=this._parts,b=c.LineUtil,e=0,d=a.length;d>e;e++)a[e]=b.simplify(a[e],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),c.Path.prototype._updatePath.call(this))}});c.polyline=function(a,b){return new c.Polyline(a,b)};c.PolyUtil={};
c.PolyUtil.clipPolygon=function(a,b){var e,d,f,k,m,y,F,v,M=[1,4,2,8],I=c.LineUtil;d=0;for(y=a.length;y>d;d++)a[d]._code=I._getBitCode(a[d],b);for(k=0;4>k;k++){F=M[k];e=[];d=0;y=a.length;for(f=y-1;y>d;f=d++)m=a[d],f=a[f],m._code&F?f._code&F||(v=I._getEdgeIntersection(f,m,F,b),v._code=I._getBitCode(v,b),e.push(v)):(f._code&F&&(v=I._getEdgeIntersection(f,m,F,b),v._code=I._getBitCode(v,b),e.push(v)),e.push(m));a=e}return a};c.Polygon=c.Polyline.extend({options:{fill:!0},initialize:function(a,b){var e,
d,f;if(c.Polyline.prototype.initialize.call(this,a,b),a&&c.Util.isArray(a[0])&&"number"!=typeof a[0][0])for(this._latlngs=this._convertLatLngs(a[0]),this._holes=a.slice(1),e=0,d=this._holes.length;d>e;e++)f=this._holes[e]=this._convertLatLngs(this._holes[e]),f[0].equals(f[f.length-1])&&f.pop();a=this._latlngs;2<=a.length&&a[0].equals(a[a.length-1])&&a.pop()},projectLatlngs:function(){if(c.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var a,b,e,d;a=0;for(e=this._holes.length;e>
a;a++)for(this._holePoints[a]=[],b=0,d=this._holes[a].length;d>b;b++)this._holePoints[a][b]=this._map.latLngToLayerPoint(this._holes[a][b])}},_clipPoints:function(){var a=[];if(this._parts=[this._originalPoints].concat(this._holePoints),!this.options.noClip){for(var b=0,e=this._parts.length;e>b;b++){var d=c.PolyUtil.clipPolygon(this._parts[b],this._map._pathViewport);d.length&&a.push(d)}this._parts=a}},_getPathPartStr:function(a){return c.Polyline.prototype._getPathPartStr.call(this,a)+(c.Browser.svg?
"z":"x")}});c.polygon=function(a,b){return new c.Polygon(a,b)};(function(){function a(a){return c.FeatureGroup.extend({initialize:function(a,b){this._layers={};this._options=b;this.setLatLngs(a)},setLatLngs:function(c){var d=0,f=c.length;for(this.eachLayer(function(a){f>d?a.setLatLngs(c[d++]):this.removeLayer(a)},this);f>d;)this.addLayer(new a(c[d++],this._options));return this},getLatLngs:function(){var a=[];return this.eachLayer(function(b){a.push(b.getLatLngs())}),a}})}c.MultiPolyline=a(c.Polyline);
c.MultiPolygon=a(c.Polygon);c.multiPolyline=function(a,e){return new c.MultiPolyline(a,e)};c.multiPolygon=function(a,e){return new c.MultiPolygon(a,e)}})();c.Rectangle=c.Polygon.extend({initialize:function(a,b){c.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=c.latLngBounds(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});c.rectangle=function(a,b){return new c.Rectangle(a,
b)};c.Circle=c.Path.extend({initialize:function(a,b,e){c.Path.prototype.initialize.call(this,e);this._latlng=c.latLng(a);this._mRadius=b},options:{fill:!0},setLatLng:function(a){return this._latlng=c.latLng(a),this.redraw()},setRadius:function(a){return this._mRadius=a,this.redraw()},projectLatlngs:function(){var a=this._getLngRadius(),b=this._latlng,a=this._map.latLngToLayerPoint([b.lat,b.lng-a]);this._point=this._map.latLngToLayerPoint(b);this._radius=Math.max(this._point.x-a.x,1)},getBounds:function(){var a=
this._getLngRadius(),b=this._mRadius/40075017*360,e=this._latlng;return new c.LatLngBounds([e.lat-b,e.lng-a],[e.lat+b,e.lng+a])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,b=this._radius;return this._checkIfEmpty()?"":c.Browser.svg?"M"+a.x+","+(a.y-b)+"A"+b+","+b+",0,1,1,"+(a.x-0.1)+","+(a.y-b)+" z":(a._round(),b=Math.round(b),"AL "+a.x+","+a.y+" "+b+","+b+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/
40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(c.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var a=this._map._pathViewport,b=this._radius,c=this._point;return c.x-b>a.max.x||c.y-b>a.max.y||c.x+b<a.min.x||c.y+b<a.min.y}});c.circle=function(a,b,e){return new c.Circle(a,b,e)};c.CircleMarker=c.Circle.extend({options:{radius:10,weight:2},initialize:function(a,b){c.Circle.prototype.initialize.call(this,a,null,b);this._radius=this.options.radius},
projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){c.Circle.prototype._updateStyle.call(this);this.setRadius(this.options.radius)},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()}});c.circleMarker=function(a,b){return new c.CircleMarker(a,b)};c.Polyline.include(c.Path.CANVAS?{_containsPoint:function(a,b){var e,d,f,k,m,y,F,v=this.options.weight/2;c.Browser.touch&&(v+=10);e=0;for(k=this._parts.length;k>e;e++)for(F=
this._parts[e],d=0,m=F.length,f=m-1;m>d;f=d++)if((b||0!==d)&&(y=c.LineUtil.pointToSegmentDistance(a,F[f],F[d]),v>=y))return!0;return!1}}:{});c.Polygon.include(c.Path.CANVAS?{_containsPoint:function(a){var b,e,d,f,k,m,y,F=!1;if(c.Polyline.prototype._containsPoint.call(this,a,!0))return!0;f=0;for(m=this._parts.length;m>f;f++)for(b=this._parts[f],k=0,y=b.length,d=y-1;y>k;d=k++)e=b[k],d=b[d],e.y>a.y!=d.y>a.y&&a.x<(d.x-e.x)*(a.y-e.y)/(d.y-e.y)+e.x&&(F=!F);return F}}:{});c.Circle.include(c.Path.CANVAS?
{_drawPath:function(){var a=this._point;this._ctx.beginPath();this._ctx.arc(a.x,a.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(a){var b=this.options.stroke?this.options.weight/2:0;return a.distanceTo(this._point)<=this._radius+b}}:{});c.CircleMarker.include(c.Path.CANVAS?{_updateStyle:function(){c.Path.prototype._updateStyle.call(this)}}:{});c.GeoJSON=c.FeatureGroup.extend({initialize:function(a,b){c.setOptions(this,b);this._layers={};a&&this.addData(a)},addData:function(a){var b,e,d=c.Util.isArray(a)?
a:a.features;if(d){a=0;for(b=d.length;b>a;a++)e=d[a],(e.geometries||e.geometry||e.features||e.coordinates)&&this.addData(d[a]);return this}d=this.options;if(!d.filter||d.filter(a))return b=c.GeoJSON.geometryToLayer(a,d.pointToLayer,d.coordsToLatLng),b.feature=c.GeoJSON.asFeature(a),b.defaultOptions=b.options,this.resetStyle(b),d.onEachFeature&&d.onEachFeature(a,b),this.addLayer(b)},resetStyle:function(a){var b=this.options.style;b&&(c.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,
b))},setStyle:function(a){this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){"function"==typeof b&&(b=b(a.feature));a.setStyle&&a.setStyle(b)}});c.extend(c.GeoJSON,{geometryToLayer:function(a,b,e){var d,f,k,m="Feature"===a.type?a.geometry:a,y=m.coordinates,F=[];switch(e=e||this.coordsToLatLng,m.type){case "Point":return d=e(y),b?b(a,d):new c.Marker(d);case "MultiPoint":f=0;for(k=y.length;k>f;f++)d=e(y[f]),d=b?b(a,d):new c.Marker(d),F.push(d);return new c.FeatureGroup(F);
case "LineString":return f=this.coordsToLatLngs(y,0,e),new c.Polyline(f);case "Polygon":return f=this.coordsToLatLngs(y,1,e),new c.Polygon(f);case "MultiLineString":return f=this.coordsToLatLngs(y,1,e),new c.MultiPolyline(f);case "MultiPolygon":return f=this.coordsToLatLngs(y,2,e),new c.MultiPolygon(f);case "GeometryCollection":f=0;for(k=m.geometries.length;k>f;f++)d=this.geometryToLayer({geometry:m.geometries[f],type:"Feature",properties:a.properties},b,e),F.push(d);return new c.FeatureGroup(F);
default:throw Error("Invalid GeoJSON object.");}},coordsToLatLng:function(a){return new c.LatLng(a[1],a[0])},coordsToLatLngs:function(a,b,c){var d,f,k,m=[];f=0;for(k=a.length;k>f;f++)d=b?this.coordsToLatLngs(a[f],b-1,c):(c||this.coordsToLatLng)(a[f]),m.push(d);return m},latLngToCoords:function(a){return[a.lng,a.lat]},latLngsToCoords:function(a){for(var b=[],e=0,d=a.length;d>e;e++)b.push(c.GeoJSON.latLngToCoords(a[e]));return b},getFeature:function(a,b){return a.feature?c.extend({},a.feature,{geometry:b}):
c.GeoJSON.asFeature(b)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var y={toGeoJSON:function(){return c.GeoJSON.getFeature(this,{type:"Point",coordinates:c.GeoJSON.latLngToCoords(this.getLatLng())})}};c.Marker.include(y);c.Circle.include(y);c.CircleMarker.include(y);c.Polyline.include({toGeoJSON:function(){return c.GeoJSON.getFeature(this,{type:"LineString",coordinates:c.GeoJSON.latLngsToCoords(this.getLatLngs())})}});c.Polygon.include({toGeoJSON:function(){var a,
b,e,d=[c.GeoJSON.latLngsToCoords(this.getLatLngs())];if(d[0].push(d[0][0]),this._holes)for(a=0,b=this._holes.length;b>a;a++)e=c.GeoJSON.latLngsToCoords(this._holes[a]),e.push(e[0]),d.push(e);return c.GeoJSON.getFeature(this,{type:"Polygon",coordinates:d})}});(function(){function a(a,e){a.include({toGeoJSON:function(){var a=[];return this.eachLayer(function(b){a.push(b.toGeoJSON().geometry.coordinates)}),c.GeoJSON.getFeature(this,{type:e,coordinates:a})}})}a(c.MultiPolyline,"MultiLineString");a(c.MultiPolygon,
"MultiPolygon")})();c.LayerGroup.include({toGeoJSON:function(){var a=[];return this.eachLayer(function(b){b.toGeoJSON&&a.push(c.GeoJSON.asFeature(b.toGeoJSON()))}),{type:"FeatureCollection",features:a}}});c.geoJson=function(a,b){return new c.GeoJSON(a,b)};c.DomEvent={addListener:function(a,b,e,d){var f,k,m,y=c.stamp(e),F="_leaflet_"+b+y;return a[F]?this:(f=function(b){return e.call(d||a,b||c.DomEvent._getEvent())},c.Browser.msTouch&&0===b.indexOf("touch")?this.addMsTouchListener(a,b,f,y):(c.Browser.touch&&
"dblclick"===b&&this.addDoubleTapListener&&this.addDoubleTapListener(a,f,y),"addEventListener"in a?"mousewheel"===b?(a.addEventListener("DOMMouseScroll",f,!1),a.addEventListener(b,f,!1)):"mouseenter"===b||"mouseleave"===b?(k=f,m="mouseenter"===b?"mouseover":"mouseout",f=function(b){return c.DomEvent._checkMouse(a,b)?k(b):void 0},a.addEventListener(m,f,!1)):"click"===b&&c.Browser.android?(k=f,f=function(a){return c.DomEvent._filterClick(a,k)},a.addEventListener(b,f,!1)):a.addEventListener(b,f,!1):
"attachEvent"in a&&a.attachEvent("on"+b,f),a[F]=f,this))},removeListener:function(a,b,e){e=c.stamp(e);var d="_leaflet_"+b+e,f=a[d];return f?(c.Browser.msTouch&&0===b.indexOf("touch")?this.removeMsTouchListener(a,b,e):c.Browser.touch&&"dblclick"===b&&this.removeDoubleTapListener?this.removeDoubleTapListener(a,e):"removeEventListener"in a?"mousewheel"===b?(a.removeEventListener("DOMMouseScroll",f,!1),a.removeEventListener(b,f,!1)):"mouseenter"===b||"mouseleave"===b?a.removeEventListener("mouseenter"===
b?"mouseover":"mouseout",f,!1):a.removeEventListener(b,f,!1):"detachEvent"in a&&a.detachEvent("on"+b,f),a[d]=null,this):this},stopPropagation:function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this},disableClickPropagation:function(a){for(var b=c.DomEvent.stopPropagation,e=c.Draggable.START.length-1;0<=e;e--)c.DomEvent.addListener(a,c.Draggable.START[e],b);return c.DomEvent.addListener(a,"click",c.DomEvent._fakeStop).addListener(a,"dblclick",b)},preventDefault:function(a){return a.preventDefault?
a.preventDefault():a.returnValue=!1,this},stop:function(a){return c.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,b){var e=c.Browser.ie7,d=f.body,k=f.documentElement,d=new c.Point(a.pageX?a.pageX-d.scrollLeft-k.scrollLeft:a.clientX,a.pageY?a.pageY-d.scrollTop-k.scrollTop:a.clientY),m=b.getBoundingClientRect(),k=m.left-b.clientLeft,m=m.top-b.clientTop;return c.DomUtil.documentIsLtr()||!c.Browser.webkit&&!e||(k+=b.scrollWidth-b.clientWidth,e&&"hidden"!==c.DomUtil.getStyle(b,
"overflow-y")&&"hidden"!==c.DomUtil.getStyle(b,"overflow")&&(k+=17)),d._subtract(new c.Point(k,m))},getWheelDelta:function(a){var b=0;return a.wheelDelta&&(b=a.wheelDelta/120),a.detail&&(b=-a.detail/3),b},_skipEvents:{},_fakeStop:function(a){c.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var b=this._skipEvents[a.type];return this._skipEvents[a.type]=!1,b},_checkMouse:function(a,b){var c=b.relatedTarget;if(!c)return!0;try{for(;c&&c!==a;)c=c.parentNode}catch(d){return!1}return c!==a},_getEvent:function(){var a=
d.event;if(!a)for(var b=arguments.callee.caller;b&&(a=b.arguments[0],!a||d.Event!==a.constructor);)b=b.caller;return a},_filterClick:function(a,b){var e=a.timeStamp||a.originalEvent.timeStamp,d=c.DomEvent._lastClick&&e-c.DomEvent._lastClick;return d&&100<d&&1E3>d||a.target._simulatedClick&&!a._simulated?(c.DomEvent.stop(a),void 0):(c.DomEvent._lastClick=e,b(a))}};c.DomEvent.on=c.DomEvent.addListener;c.DomEvent.off=c.DomEvent.removeListener;c.Draggable=c.Class.extend({includes:c.Mixin.Events,statics:{START:c.Browser.touch?
["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b){this._element=a;this._dragStartTarget=b||a},enable:function(){if(!this._enabled){for(var a=c.Draggable.START.length-1;0<=a;a--)c.DomEvent.on(this._dragStartTarget,c.Draggable.START[a],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var a=c.Draggable.START.length-
1;0<=a;a--)c.DomEvent.off(this._dragStartTarget,c.Draggable.START[a],this._onDown,this);this._moved=this._enabled=!1}},_onDown:function(a){if(!a.shiftKey&&(1===a.which||1===a.button||a.touches)&&(c.DomEvent.stopPropagation(a),!c.Draggable._disabled)){c.DomUtil.disableImageDrag();c.DomUtil.disableTextSelection();var b=a.touches?a.touches[0]:a,e=b.target;c.Browser.touch&&"a"===e.tagName.toLowerCase()&&c.DomUtil.addClass(e,"leaflet-active");this._moved=!1;this._moving||(this._startPoint=new c.Point(b.clientX,
b.clientY),this._startPos=this._newPos=c.DomUtil.getPosition(this._element),c.DomEvent.on(f,c.Draggable.MOVE[a.type],this._onMove,this).on(f,c.Draggable.END[a.type],this._onUp,this))}},_onMove:function(a){if(!(a.touches&&1<a.touches.length)){var b=a.touches&&1===a.touches.length?a.touches[0]:a,b=(new c.Point(b.clientX,b.clientY)).subtract(this._startPoint);(b.x||b.y)&&(c.DomEvent.preventDefault(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=c.DomUtil.getPosition(this._element).subtract(b),
c.Browser.touch||c.DomUtil.addClass(f.body,"leaflet-dragging")),this._newPos=this._startPos.add(b),this._moving=!0,c.Util.cancelAnimFrame(this._animRequest),this._animRequest=c.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))}},_updatePosition:function(){this.fire("predrag");c.DomUtil.setPosition(this._element,this._newPos);this.fire("drag")},_onUp:function(){c.Browser.touch||c.DomUtil.removeClass(f.body,"leaflet-dragging");for(var a in c.Draggable.MOVE)c.DomEvent.off(f,
c.Draggable.MOVE[a],this._onMove).off(f,c.Draggable.END[a],this._onUp);c.DomUtil.enableImageDrag();c.DomUtil.enableTextSelection();this._moved&&(c.Util.cancelAnimFrame(this._animRequest),this.fire("dragend"));this._moving=!1}});c.Handler=c.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}});c.Map.mergeOptions({dragging:!0,
inertia:!c.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:c.Browser.touch?32:18,easeLinearity:0.25,worldCopyJump:!1});c.Map.Drag=c.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new c.Draggable(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,
this),this._onViewReset())}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop();a.fire("movestart").fire("dragstart");a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var a=this._lastTime=+new Date,b=this._lastPos=this._draggable._newPos;this._positions.push(b);this._times.push(a);200<a-
this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,f=(d-b+c)%a+b-c,a=(d+b+c)%a-b-c,c=Math.abs(f+c)<Math.abs(a+c)?f:a;this._draggable._newPos.x=c},_onDragEnd:function(){var a=
this._map,b=a.options,e=+new Date-this._lastTime,d=!b.inertia||e>b.inertiaThreshold||!this._positions[0];if(a.fire("dragend"),d)a.fire("moveend");else{var d=this._lastPos.subtract(this._positions[0]),f=b.easeLinearity,d=d.multiplyBy(f/((this._lastTime+e-this._times[0])/1E3)),k=d.distanceTo([0,0]),e=Math.min(b.inertiaMaxSpeed,k),d=d.multiplyBy(e/k),m=e/(b.inertiaDeceleration*f),y=d.multiplyBy(-m/2).round();y.x&&y.y?c.Util.requestAnimFrame(function(){a.panBy(y,{duration:m,easeLinearity:f,noMoveStart:!0})}):
a.fire("moveend")}}});c.Map.addInitHook("addHandler","dragging",c.Map.Drag);c.Map.mergeOptions({doubleClickZoom:!0});c.Map.DoubleClickZoom=c.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick)},_onDoubleClick:function(a){this.setZoomAround(a.containerPoint,this._zoom+1)}});c.Map.addInitHook("addHandler","doubleClickZoom",c.Map.DoubleClickZoom);c.Map.mergeOptions({scrollWheelZoom:!0});c.Map.ScrollWheelZoom=
c.Handler.extend({addHooks:function(){c.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);c.DomEvent.on(this._map._container,"MozMousePixelScroll",c.DomEvent.preventDefault);this._delta=0},removeHooks:function(){c.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll);c.DomEvent.off(this._map._container,"MozMousePixelScroll",c.DomEvent.preventDefault)},_onWheelScroll:function(a){var b=c.DomEvent.getWheelDelta(a);this._delta+=b;this._lastMousePos=this._map.mouseEventToContainerPoint(a);
this._startTime||(this._startTime=+new Date);b=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(c.bind(this._performZoom,this),b);c.DomEvent.preventDefault(a);c.DomEvent.stopPropagation(a)},_performZoom:function(){var a=this._map,b=this._delta,c=a.getZoom(),b=0<b?Math.ceil(b):Math.floor(b),b=Math.max(Math.min(b,4),-4),b=a._limitZoom(c+b)-c;this._delta=0;this._startTime=null;b&&a.setZoomAround(this._lastMousePos,c+b)}});c.Map.addInitHook("addHandler","scrollWheelZoom",
c.Map.ScrollWheelZoom);c.extend(c.DomEvent,{_touchstart:c.Browser.msTouch?"MSPointerDown":"touchstart",_touchend:c.Browser.msTouch?"MSPointerUp":"touchend",addDoubleTapListener:function(a,b,e){function d(a){var b;if(c.Browser.msTouch?(I.push(a.pointerId),b=I.length):b=a.touches.length,!(1<b)){b=Date.now();var e=b-(m||b);y=a.touches?a.touches[0]:a;N=0<e&&F>=e;m=b}}function k(a){if(c.Browser.msTouch){a=I.indexOf(a.pointerId);if(-1===a)return;I.splice(a,1)}if(N){if(c.Browser.msTouch){var e={},d;for(d in y)a=
y[d],e[d]="function"==typeof a?a.bind(y):a;y=e}y.type="dblclick";b(y);m=null}}var m,y,N=!1,F=250,v=this._touchstart,M=this._touchend,I=[];a["_leaflet_"+v+e]=d;a["_leaflet_"+M+e]=k;e=c.Browser.msTouch?f.documentElement:a;return a.addEventListener(v,d,!1),e.addEventListener(M,k,!1),c.Browser.msTouch&&e.addEventListener("MSPointerCancel",k,!1),this},removeDoubleTapListener:function(a,b){return a.removeEventListener(this._touchstart,a["_leaflet_"+this._touchstart+b],!1),(c.Browser.msTouch?f.documentElement:
a).removeEventListener(this._touchend,a["_leaflet_"+this._touchend+b],!1),c.Browser.msTouch&&f.documentElement.removeEventListener("MSPointerCancel",a["_leaflet_"+this._touchend+b],!1),this}});c.extend(c.DomEvent,{_msTouches:[],_msDocumentListener:!1,addMsTouchListener:function(a,b,c,d){switch(b){case "touchstart":return this.addMsTouchListenerStart(a,b,c,d);case "touchend":return this.addMsTouchListenerEnd(a,b,c,d);case "touchmove":return this.addMsTouchListenerMove(a,b,c,d);default:throw"Unknown touch event type";
}},addMsTouchListenerStart:function(a,b,c,d){var k=this._msTouches;b=function(a){for(var b=!1,d=0;d<k.length;d++)if(k[d].pointerId===a.pointerId){b=!0;break}b||k.push(a);a.touches=k.slice();a.changedTouches=[a];c(a)};(a["_leaflet_touchstart"+d]=b,a.addEventListener("MSPointerDown",b,!1),this._msDocumentListener)||(a=function(a){for(var b=0;b<k.length;b++)if(k[b].pointerId===a.pointerId){k.splice(b,1);break}},f.documentElement.addEventListener("MSPointerUp",a,!1),f.documentElement.addEventListener("MSPointerCancel",
a,!1),this._msDocumentListener=!0);return this},addMsTouchListenerMove:function(a,b,c,d){function f(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE||0!==a.buttons){for(var b=0;b<k.length;b++)if(k[b].pointerId===a.pointerId){k[b]=a;break}a.touches=k.slice();a.changedTouches=[a];c(a)}}var k=this._msTouches;return a["_leaflet_touchmove"+d]=f,a.addEventListener("MSPointerMove",f,!1),this},addMsTouchListenerEnd:function(a,b,c,d){var f=this._msTouches;b=function(a){for(var b=0;b<f.length;b++)if(f[b].pointerId===
a.pointerId){f.splice(b,1);break}a.touches=f.slice();a.changedTouches=[a];c(a)};return a["_leaflet_touchend"+d]=b,a.addEventListener("MSPointerUp",b,!1),a.addEventListener("MSPointerCancel",b,!1),this},removeMsTouchListener:function(a,b,c){c=a["_leaflet_"+b+c];switch(b){case "touchstart":a.removeEventListener("MSPointerDown",c,!1);break;case "touchmove":a.removeEventListener("MSPointerMove",c,!1);break;case "touchend":a.removeEventListener("MSPointerUp",c,!1),a.removeEventListener("MSPointerCancel",
c,!1)}return this}});c.Map.mergeOptions({touchZoom:c.Browser.touch&&!c.Browser.android23});c.Map.TouchZoom=c.Handler.extend({addHooks:function(){c.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){c.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&!b._animatingZoom&&!this._zooming){var e=b.mouseEventToLayerPoint(a.touches[0]),d=b.mouseEventToLayerPoint(a.touches[1]),
k=b._getCenterLayerPoint();this._startCenter=e.add(d)._divideBy(2);this._startDist=e.distanceTo(d);this._moved=!1;this._zooming=!0;this._centerOffset=k.subtract(this._startCenter);b._panAnim&&b._panAnim.stop();c.DomEvent.on(f,"touchmove",this._onTouchMove,this).on(f,"touchend",this._onTouchEnd,this);c.DomEvent.preventDefault(a)}},_onTouchMove:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&this._zooming){var e=b.mouseEventToLayerPoint(a.touches[0]),d=b.mouseEventToLayerPoint(a.touches[1]);
this._scale=e.distanceTo(d)/this._startDist;this._delta=e._add(d)._divideBy(2)._subtract(this._startCenter);1!==this._scale&&(this._moved||(c.DomUtil.addClass(b._mapPane,"leaflet-touching"),b.fire("movestart").fire("zoomstart"),this._moved=!0),c.Util.cancelAnimFrame(this._animRequest),this._animRequest=c.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),c.DomEvent.preventDefault(a))}},_updateOnMove:function(){var a=this._map,b=this._getScaleOrigin(),b=a.layerPointToLatLng(b),
c=a.getScaleZoom(this._scale);a._animateZoom(b,c,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return this._zooming=!1,void 0;var a=this._map;this._zooming=!1;c.DomUtil.removeClass(a._mapPane,"leaflet-touching");c.Util.cancelAnimFrame(this._animRequest);c.DomEvent.off(f,"touchmove",this._onTouchMove).off(f,"touchend",this._onTouchEnd);var b=this._getScaleOrigin(),e=a.layerPointToLatLng(b),d=a.getZoom(),k=a.getScaleZoom(this._scale)-d,k=0<k?Math.ceil(k):
Math.floor(k),d=a._limitZoom(d+k),k=a.getZoomScale(d)/this._scale;a._animateZoom(e,d,b,k)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}});c.Map.addInitHook("addHandler","touchZoom",c.Map.TouchZoom);c.Map.mergeOptions({tap:!0,tapTolerance:15});c.Map.Tap=c.Handler.extend({addHooks:function(){c.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){c.DomEvent.off(this._map._container,
"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches){if(c.DomEvent.preventDefault(a),this._fireClick=!0,1<a.touches.length)return this._fireClick=!1,clearTimeout(this._holdTimeout),void 0;var b=a.touches[0];a=b.target;this._startPos=this._newPos=new c.Point(b.clientX,b.clientY);"a"===a.tagName.toLowerCase()&&c.DomUtil.addClass(a,"leaflet-active");this._holdTimeout=setTimeout(c.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",b))},
this),1E3);c.DomEvent.on(f,"touchmove",this._onMove,this).on(f,"touchend",this._onUp,this)}},_onUp:function(a){if(clearTimeout(this._holdTimeout),c.DomEvent.off(f,"touchmove",this._onMove,this).off(f,"touchend",this._onUp,this),this._fireClick&&a&&a.changedTouches){a=a.changedTouches[0];var b=a.target;"a"===b.tagName.toLowerCase()&&c.DomUtil.removeClass(b,"leaflet-active");this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},
_onMove:function(a){a=a.touches[0];this._newPos=new c.Point(a.clientX,a.clientY)},_simulateEvent:function(a,b){var c=f.createEvent("MouseEvents");c._simulated=!0;b.target._simulatedClick=!0;c.initMouseEvent(a,!0,!0,d,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(c)}});c.Browser.touch&&!c.Browser.msTouch&&c.Map.addInitHook("addHandler","tap",c.Map.Tap);c.Map.mergeOptions({boxZoom:!0});c.Map.BoxZoom=c.Handler.extend({initialize:function(a){this._map=a;this._container=
a._container;this._pane=a._panes.overlayPane},addHooks:function(){c.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){c.DomEvent.off(this._container,"mousedown",this._onMouseDown)},_onMouseDown:function(a){return!a.shiftKey||1!==a.which&&1!==a.button?!1:(c.DomUtil.disableTextSelection(),c.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(a),this._box=c.DomUtil.create("div","leaflet-zoom-box",this._pane),c.DomUtil.setPosition(this._box,
this._startLayerPoint),this._container.style.cursor="crosshair",c.DomEvent.on(f,"mousemove",this._onMouseMove,this).on(f,"mouseup",this._onMouseUp,this).on(f,"keydown",this._onKeyDown,this),this._map.fire("boxzoomstart"),void 0)},_onMouseMove:function(a){var b=this._startLayerPoint,e=this._box,d=this._map.mouseEventToLayerPoint(a);a=d.subtract(b);b=new c.Point(Math.min(d.x,b.x),Math.min(d.y,b.y));c.DomUtil.setPosition(e,b);e.style.width=Math.max(0,Math.abs(a.x)-4)+"px";e.style.height=Math.max(0,Math.abs(a.y)-
4)+"px"},_finish:function(){this._pane.removeChild(this._box);this._container.style.cursor="";c.DomUtil.enableTextSelection();c.DomUtil.enableImageDrag();c.DomEvent.off(f,"mousemove",this._onMouseMove).off(f,"mouseup",this._onMouseUp).off(f,"keydown",this._onKeyDown)},_onMouseUp:function(a){this._finish();var b=this._map;a=b.mouseEventToLayerPoint(a);this._startLayerPoint.equals(a)||(a=new c.LatLngBounds(b.layerPointToLatLng(this._startLayerPoint),b.layerPointToLatLng(a)),b.fitBounds(a),b.fire("boxzoomend",
{boxZoomBounds:a}))},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});c.Map.addInitHook("addHandler","boxZoom",c.Map.BoxZoom);c.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1});c.Map.Keyboard=c.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61],zoomOut:[189,109,173]},initialize:function(a){this._map=a;this._setPanOffset(a.options.keyboardPanOffset);this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;
-1===a.tabIndex&&(a.tabIndex="0");c.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this);this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;c.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this);this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var a=
f.body,b=f.documentElement,c=a.scrollTop||b.scrollTop,a=a.scrollLeft||b.scrollLeft;this._map._container.focus();d.scrollTo(a,c)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanOffset:function(a){var b,c,d=this._panKeys={},f=this.keyCodes;b=0;for(c=f.left.length;c>b;b++)d[f.left[b]]=[-1*a,0];b=0;for(c=f.right.length;c>b;b++)d[f.right[b]]=[a,0];b=0;for(c=f.down.length;c>b;b++)d[f.down[b]]=[0,a];b=0;for(c=f.up.length;c>
b;b++)d[f.up[b]]=[0,-1*a]},_setZoomOffset:function(a){var b,c,d=this._zoomKeys={},f=this.keyCodes;b=0;for(c=f.zoomIn.length;c>b;b++)d[f.zoomIn[b]]=a;b=0;for(c=f.zoomOut.length;c>b;b++)d[f.zoomOut[b]]=-a},_addHooks:function(){c.DomEvent.on(f,"keydown",this._onKeyDown,this)},_removeHooks:function(){c.DomEvent.off(f,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){var b=a.keyCode,e=this._map;if(b in this._panKeys){if(e._panAnim&&e._panAnim._inProgress)return;e.panBy(this._panKeys[b]);e.options.maxBounds&&
e.panInsideBounds(e.options.maxBounds)}else{if(!(b in this._zoomKeys))return;e.setZoom(e.getZoom()+this._zoomKeys[b])}c.DomEvent.stop(a)}});c.Map.addInitHook("addHandler","keyboard",c.Map.Keyboard);c.Handler.MarkerDrag=c.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new c.Draggable(a,a));this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this);this._draggable.enable()},
removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this);this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var a=this._marker,b=a._shadow,e=c.DomUtil.getPosition(a._icon),d=a._map.layerPointToLatLng(e);b&&c.DomUtil.setPosition(b,e);a._latlng=d;a.fire("move",{latlng:d}).fire("drag")},
_onDragEnd:function(){this._marker.fire("moveend").fire("dragend")}});c.Control=c.Class.extend({options:{position:"topright"},initialize:function(a){c.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;return b&&b.removeControl(this),this.options.position=a,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this._map=a;var b=this._container=this.onAdd(a),e=this.getPosition();a=a._controlCorners[e];
return c.DomUtil.addClass(b,"leaflet-control"),-1!==e.indexOf("bottom")?a.insertBefore(b,a.firstChild):a.appendChild(b),this},removeFrom:function(a){var b=this.getPosition();return a._controlCorners[b].removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(a),this}});c.control=function(a){return new c.Control(a)};c.Map.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.removeFrom(this),this},_initControlPos:function(){function a(a,f){b[a+
f]=c.DomUtil.create("div",e+a+" "+e+f,d)}var b=this._controlCorners={},e="leaflet-",d=this._controlContainer=c.DomUtil.create("div",e+"control-container",this._container);a("top","left");a("top","right");a("bottom","left");a("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}});c.Control.Zoom=c.Control.extend({options:{position:"topleft"},onAdd:function(a){var b=c.DomUtil.create("div","leaflet-control-zoom leaflet-bar");return this._map=a,this._zoomInButton=
this._createButton("+","Zoom in","leaflet-control-zoom-in",b,this._zoomIn,this),this._zoomOutButton=this._createButton("-","Zoom out","leaflet-control-zoom-out",b,this._zoomOut,this),a.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(a,b,e,d,f,k){e=c.DomUtil.create("a",e,d);
e.innerHTML=a;e.href="#";e.title=b;a=c.DomEvent.stopPropagation;return c.DomEvent.on(e,"click",a).on(e,"mousedown",a).on(e,"dblclick",a).on(e,"click",c.DomEvent.preventDefault).on(e,"click",f,k),e},_updateDisabled:function(){var a=this._map;c.DomUtil.removeClass(this._zoomInButton,"leaflet-disabled");c.DomUtil.removeClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMinZoom()&&c.DomUtil.addClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMaxZoom()&&c.DomUtil.addClass(this._zoomInButton,
"leaflet-disabled")}});c.Map.mergeOptions({zoomControl:!0});c.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new c.Control.Zoom,this.addControl(this.zoomControl))});c.control.zoom=function(a){return new c.Control.Zoom(a)};c.Control.Attribution=c.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){c.setOptions(this,a);this._attributions={}},onAdd:function(a){return this._container=
c.DomUtil.create("div","leaflet-control-attribution"),c.DomEvent.disableClickPropagation(this._container),a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),
this):void 0},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):void 0},_update:function(){if(this._map){var a=[],b;for(b in this._attributions)this._attributions[b]&&a.push(b);b=[];this.options.prefix&&b.push(this.options.prefix);a.length&&b.push(a.join(", "));this._container.innerHTML=b.join(" | ")}},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&
this.removeAttribution(a.layer.getAttribution())}});c.Map.mergeOptions({attributionControl:!0});c.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new c.Control.Attribution).addTo(this))});c.control.attribution=function(a){return new c.Control.Attribution(a)};c.Control.Scale=c.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(a){this._map=a;var b=c.DomUtil.create("div","leaflet-control-scale"),e=
this.options;return this._addScales(e,"leaflet-control-scale",b),a.on(e.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),b},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,e){a.metric&&(this._mScale=c.DomUtil.create("div",b+"-line",e));a.imperial&&(this._iScale=c.DomUtil.create("div",b+"-line",e))},_update:function(){var a=this._map.getBounds(),b=a.getCenter().lat,a=6378137*Math.PI*Math.cos(b*Math.PI/
180)*(a.getNorthEast().lng-a.getSouthWest().lng)/180,b=this._map.getSize(),c=this.options,d=0;0<b.x&&(d=c.maxWidth/b.x*a);this._updateScales(c,d)},_updateScales:function(a,b){a.metric&&b&&this._updateMetric(b);a.imperial&&b&&this._updateImperial(b)},_updateMetric:function(a){var b=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(b/a)+"px";this._mScale.innerHTML=1E3>b?b+" m":b/1E3+" km"},_updateImperial:function(a){var b,c,d;a*=3.2808399;var f=this._iScale;5280<a?(b=a/5280,c=this._getRoundNum(b),
f.style.width=this._getScaleWidth(c/b)+"px",f.innerHTML=c+" mi"):(d=this._getRoundNum(a),f.style.width=this._getScaleWidth(d/a)+"px",f.innerHTML=d+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1);a/=b;return a=10<=a?10:5<=a?5:3<=a?3:2<=a?2:1,b*a}});c.control.scale=function(a){return new c.Control.Scale(a)};c.Control.Layers=c.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},
initialize:function(a,b,e){c.setOptions(this,e);this._layers={};this._lastZIndex=0;this._handlingClick=!1;for(var d in a)this._addLayer(a[d],d);for(d in b)this._addLayer(b[d],d,!0)},onAdd:function(a){return this._initLayout(),this._update(),a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._update(),
this},addOverlay:function(a,b){return this._addLayer(a,b,!0),this._update(),this},removeLayer:function(a){a=c.stamp(a);return delete this._layers[a],this._update(),this},_initLayout:function(){var a=this._container=c.DomUtil.create("div","leaflet-control-layers");a.setAttribute("aria-haspopup",!0);c.Browser.touch?c.DomEvent.on(a,"click",c.DomEvent.stopPropagation):(c.DomEvent.disableClickPropagation(a),c.DomEvent.on(a,"mousewheel",c.DomEvent.stopPropagation));var b=this._form=c.DomUtil.create("form",
"leaflet-control-layers-list");if(this.options.collapsed){c.Browser.android||c.DomEvent.on(a,"mouseover",this._expand,this).on(a,"mouseout",this._collapse,this);var e=this._layersLink=c.DomUtil.create("a","leaflet-control-layers-toggle",a);e.href="#";e.title="Layers";c.Browser.touch?c.DomEvent.on(e,"click",c.DomEvent.stop).on(e,"click",this._expand,this):c.DomEvent.on(e,"focus",this._expand,this);this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=c.DomUtil.create("div",
"leaflet-control-layers-base",b);this._separator=c.DomUtil.create("div","leaflet-control-layers-separator",b);this._overlaysList=c.DomUtil.create("div","leaflet-control-layers-overlays",b);a.appendChild(b)},_addLayer:function(a,b,e){var d=c.stamp(a);this._layers[d]={layer:a,name:b,overlay:e};this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="";this._overlaysList.innerHTML="";var a,b,c=!1,
d=!1;for(a in this._layers)b=this._layers[a],this._addItem(b),d=d||b.overlay,c=c||!b.overlay;this._separator.style.display=d&&c?"":"none"}},_onLayerChange:function(a){var b=this._layers[c.stamp(a.layer)];b&&(this._handlingClick||this._update(),(a=b.overlay?"layeradd"===a.type?"overlayadd":"overlayremove":"layeradd"===a.type?"baselayerchange":null)&&this._map.fire(a,b))},_createRadioElement:function(a,b){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"';b&&(c+=' checked="checked"');
var c=c+"/>",d=f.createElement("div");return d.innerHTML=c,d.firstChild},_addItem:function(a){var b,e=f.createElement("label"),d=this._map.hasLayer(a.layer);a.overlay?(b=f.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=d):b=this._createRadioElement("leaflet-base-layers",d);b.layerId=c.stamp(a.layer);c.DomEvent.on(b,"click",this._onInputClick,this);d=f.createElement("span");d.innerHTML=" "+a.name;e.appendChild(b);e.appendChild(d);return(a.overlay?
this._overlaysList:this._baseLayersList).appendChild(e),e},_onInputClick:function(){var a,b,c,d=this._form.getElementsByTagName("input"),f=d.length;this._handlingClick=!0;for(a=0;f>a;a++)b=d[a],c=this._layers[b.layerId],b.checked&&!this._map.hasLayer(c.layer)?this._map.addLayer(c.layer):!b.checked&&this._map.hasLayer(c.layer)&&this._map.removeLayer(c.layer);this._handlingClick=!1},_expand:function(){c.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=
this._container.className.replace(" leaflet-control-layers-expanded","")}});c.control.layers=function(a,b,e){return new c.Control.Layers(a,b,e)};c.PosAnimation=c.Class.extend({includes:c.Mixin.Events,run:function(a,b,e,d){this.stop();this._el=a;this._inProgress=!0;this._newPos=b;this.fire("start");a.style[c.DomUtil.TRANSITION]="all "+(e||0.25)+"s cubic-bezier(0,0,"+(d||0.5)+",1)";c.DomEvent.on(a,c.DomUtil.TRANSITION_END,this._onTransitionEnd,this);c.DomUtil.setPosition(a,b);c.Util.falseFn(a.offsetWidth);
this._stepTimer=setInterval(c.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(c.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),c.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();return a?(this._el._leaflet_pos=a,this.fire("step"),void 0):(this._onTransitionEnd(),void 0)},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var a,b,e=d.getComputedStyle(this._el);if(c.Browser.any3d){if(b=e[c.DomUtil.TRANSFORM].match(this._transformRe),
!b)return;a=parseFloat(b[1]);b=parseFloat(b[2])}else a=parseFloat(e.left),b=parseFloat(e.top);return new c.Point(a,b,!0)},_onTransitionEnd:function(){c.DomEvent.off(this._el,c.DomUtil.TRANSITION_END,this._onTransitionEnd,this);this._inProgress&&(this._inProgress=!1,this._el.style[c.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}});c.Map.include({setView:function(a,b,e){if(b=this._limitZoom(b),a=c.latLng(a),e=e||{},this._panAnim&&
this._panAnim.stop(),this._loaded&&!e.reset&&!0!==e)if(e.animate!==m&&(e.zoom=c.extend({animate:e.animate},e.zoom),e.pan=c.extend({animate:e.animate},e.pan)),this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,e.zoom):this._tryAnimatedPan(a,e.pan))return clearTimeout(this._sizeTimer),this;return this._resetView(a,b),this},panBy:function(a,b){if(a=c.point(a).round(),b=b||{},!a.x&&!a.y)return this;if(this._panAnim||(this._panAnim=new c.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,
end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),!1!==b.animate){c.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var e=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,e,b.duration||0.25,b.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){c.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(a,
b){var c=this._getCenterOffset(a)._floor();return!0===(b&&b.animate)||this.getSize().contains(c)?(this.panBy(c,b),!0):!1}});c.PosAnimation=c.DomUtil.TRANSITION?c.PosAnimation:c.PosAnimation.extend({run:function(a,b,e,d){this.stop();this._el=a;this._inProgress=!0;this._duration=e||0.25;this._easeOutPower=1/Math.max(d||0.5,0.2);this._startPos=c.DomUtil.getPosition(a);this._offset=b.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&
(this._step(),this._complete())},_animate:function(){this._animId=c.Util.requestAnimFrame(this._animate,this);this._step()},_step:function(){var a=+new Date-this._startTime,b=1E3*this._duration;b>a?this._runFrame(this._easeOut(a/b)):(this._runFrame(1),this._complete())},_runFrame:function(a){a=this._startPos.add(this._offset.multiplyBy(a));c.DomUtil.setPosition(this._el,a);this.fire("step")},_complete:function(){c.Util.cancelAnimFrame(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(a){return 1-
Math.pow(1-a,this._easeOutPower)}});c.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});c.DomUtil.TRANSITION&&c.Map.addInitHook(function(){(this._zoomAnimated=this.options.zoomAnimation&&c.DomUtil.TRANSITION&&c.Browser.any3d&&!c.Browser.android23&&!c.Browser.mobileOpera)&&c.DomEvent.on(this._mapPane,c.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)});c.Map.include(c.DomUtil.TRANSITION?{_catchTransitionEnd:function(){this._animatingZoom&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},
_tryAnimatedZoom:function(a,b,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||!1===c.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b),f=this._getCenterOffset(a)._divideBy(1-1/d),k=this._getCenterLayerPoint()._add(f);return!0===c.animate||this.getSize().contains(f)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(a,b,k,d,null,!0),!0):!1},_animateZoom:function(a,b,e,d,f,k){this._animatingZoom=
!0;c.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim");this._animateToCenter=a;this._animateToZoom=b;c.Draggable&&(c.Draggable._disabled=!0);this.fire("zoomanim",{center:a,zoom:b,origin:e,scale:d,delta:f,backwards:k})},_onZoomTransitionEnd:function(){this._animatingZoom=!1;c.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim");this._resetView(this._animateToCenter,this._animateToZoom,!0,!0);c.Draggable&&(c.Draggable._disabled=!1)}}:{});c.TileLayer.include({_animateZoom:function(a){this._animating||
(this._animating=!0,this._prepareBgBuffer());var b=this._bgBuffer,e=c.DomUtil.TRANSFORM,d=a.delta?c.DomUtil.getTranslateString(a.delta):b.style[e],f=c.DomUtil.getScaleString(a.scale,a.origin);b.style[e]=a.backwards?f+" "+d:d+" "+f},_endZoomAnim:function(){var a=this._tileContainer,b=this._bgBuffer;a.style.visibility="";a.parentNode.appendChild(a);c.Util.falseFn(b.offsetWidth);this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML=
"",this._bgBuffer.style[c.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var a=this._tileContainer,b=this._bgBuffer,e=this._getLoadedTilesPercentage(b),d=this._getLoadedTilesPercentage(a);return b&&0.5<e&&0.5>d?(a.style.visibility="hidden",this._stopLoadingImages(a),void 0):(b.style.visibility="hidden",b.style[c.DomUtil.TRANSFORM]="",this._tileContainer=b,b=this._bgBuffer=a,this._stopLoadingImages(b),clearTimeout(this._clearBgBufferTimer),void 0)},_getLoadedTilesPercentage:function(a){var b,
c=a.getElementsByTagName("img"),d=0;a=0;for(b=c.length;b>a;a++)c[a].complete&&d++;return d/b},_stopLoadingImages:function(a){var b,e,d=Array.prototype.slice.call(a.getElementsByTagName("img"));a=0;for(b=d.length;b>a;a++)e=d[a],e.complete||(e.onload=c.Util.falseFn,e.onerror=c.Util.falseFn,e.src=c.Util.emptyImageUrl,e.parentNode.removeChild(e))}});c.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1E4,maximumAge:0,enableHighAccuracy:!1},locate:function(a){if(a=this._locateOptions=
c.extend(this._defaultLocateOptions,a),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=c.bind(this._handleGeolocationResponse,this),e=c.bind(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,e,a):navigator.geolocation.getCurrentPosition(b,e,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&
(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){var b=a.code;a=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:b,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(a){var b=a.coords.latitude,e=a.coords.longitude,d=new c.LatLng(b,e),f=180*a.coords.accuracy/40075017,k=f/Math.cos(c.LatLng.DEG_TO_RAD*b),b=c.latLngBounds([b-f,e-k],
[b+f,e+k]),e=this._locateOptions;e.setView&&(e=Math.min(this.getBoundsZoom(b),e.maxZoom),this.setView(d,e));var d={latlng:d,bounds:b},m;for(m in a.coords)"number"==typeof a.coords[m]&&(d[m]=a.coords[m]);this.fire("locationfound",d)}})}(window,document);var Rickshaw={namespace:function(d,f){for(var m=d.split("."),k=Rickshaw,c=1,y=m.length;c<y;c++){var a=m[c];k[a]=k[a]||{};k=k[a]}return k},keys:function(d){var f=[],m;for(m in d)f.push(m);return f},extend:function(d,f){for(var m in f)d[m]=f[m];return d},clone:function(d){return JSON.parse(JSON.stringify(d))}};if("undefined"!==typeof module&&module.exports){var d3=require("d3");module.exports=Rickshaw}
(function(d){function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function m(a){if(k(a)!==F)throw new TypeError;var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b}function k(a){switch(a){case null:return p;case void 0:return q}switch(typeof a){case "boolean":return K;case "number":return B;case "string":return N}return F}function c(a){a=a.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");
return 1!=a.length||a[0]?a:[]}function y(c,e){return function(){var d=a([b(c,this)],arguments);return e.apply(this,d)}}function a(a,b){for(var c=a.length,e=b.length;e--;)a[c+e]=b[e];return a}function b(b,c){if(2>arguments.length&&"undefined"===typeof arguments[0])return this;var e=b,d=v.call(arguments,2);return function(){var b;b=d;var f=arguments;b=v.call(b,0);b=a(b,f);return e.apply(c,b)}}var e=Object.prototype.toString,p="Null",q="Undefined",K="Boolean",B="Number",N="String",F="Object",v=Array.prototype.slice,
M=function(){},I=function(){function a(){}var d=function(){for(var a in{toString:1})if("toString"===a)return!1;return!0}();return{create:function(){function b(){this.initialize.apply(this,arguments)}var c=null,d=[].slice.apply(arguments);"[object Function]"===e.call(d[0])&&(c=d.shift());f(b,I.Methods);b.superclass=c;b.subclasses=[];if(c){a.prototype=c.prototype;b.prototype=new a;try{c.subclasses.push(b)}catch(k){}}for(var c=0,m=d.length;c<m;c++)b.addMethods(d[c]);b.prototype.initialize||(b.prototype.initialize=
M);return b.prototype.constructor=b},Methods:{addMethods:function(a){var f=this.superclass&&this.superclass.prototype,k=m(a);d&&(a.toString!=Object.prototype.toString&&k.push("toString"),a.valueOf!=Object.prototype.valueOf&&k.push("valueOf"));for(var p=0,q=k.length;p<q;p++){var v=k[p],B=a[v];if(f&&"[object Function]"===e.call(B)&&"$super"==c(B)[0]){var C=B,B=y(function(a){return function(){return f[a].apply(this,arguments)}}(v),C);B.valueOf=b(C.valueOf,C);B.toString=b(C.toString,C)}this.prototype[v]=
B}return this}}}}();d.exports?d.exports.Class=I:d.Class=I})(Rickshaw);Rickshaw.namespace("Rickshaw.Compat.ClassList");
Rickshaw.Compat.ClassList=function(){"undefined"===typeof document||"classList"in document.createElement("a")||function(d){d=(d.HTMLElement||d.Element).prototype;var f=Object,m=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},k=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},c=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},y=function(a,b){if(""===b)throw new c("SYNTAX_ERR","An invalid or illegal string was specified");
if(/\s/.test(b))throw new c("INVALID_CHARACTER_ERR","String contains an invalid character");return k.call(a,b)},a=function(a){for(var b=m.call(a.className),b=b?b.split(/\s+/):[],c=0,e=b.length;c<e;c++)this.push(b[c]);this._updateClassName=function(){a.className=this.toString()}},b=a.prototype=[],e=function(){return new a(this)};c.prototype=Error.prototype;b.item=function(a){return this[a]||null};b.contains=function(a){return-1!==y(this,a+"")};b.add=function(a){a+="";-1===y(this,a)&&(this.push(a),
this._updateClassName())};b.remove=function(a){a=y(this,a+"");-1!==a&&(this.splice(a,1),this._updateClassName())};b.toggle=function(a){a+="";-1===y(this,a)?this.add(a):this.remove(a)};b.toString=function(){return this.join(" ")};if(f.defineProperty){b={get:e,enumerable:!0,configurable:!0};try{f.defineProperty(d,"classList",b)}catch(p){-2146823252===p.number&&(b.enumerable=!1,f.defineProperty(d,"classList",b))}}else f.prototype.__defineGetter__&&d.__defineGetter__("classList",e)}(window)};
("undefined"!==typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"===typeof RICKSHAW_NO_COMPAT)&&new Rickshaw.Compat.ClassList;Rickshaw.namespace("Rickshaw.Graph");
Rickshaw.Graph=function(d){if(!d.element)throw"Rickshaw.Graph needs a reference to an element";this.element=d.element;this.series=d.series;this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1};Rickshaw.keys(this.defaults).forEach(function(f){this[f]=d[f]||this.defaults[f]},this);this.window={};this.updateCallbacks=[];var f=this;this.initialize=function(d){this.validateSeries(d.series);this.series.active=function(){return f.series.filter(function(c){return!c.disabled})};
this.setSize({width:d.width,height:d.height});this.element.classList.add("rickshaw_graph");this.vis=d3.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height);for(var k in Rickshaw.Graph.Renderer)if(k&&Rickshaw.Graph.Renderer.hasOwnProperty(k)){var c=Rickshaw.Graph.Renderer[k];c&&c.prototype&&c.prototype.render&&f.registerRenderer(new c({graph:f}))}this.setRenderer(d.renderer||"stack",d);this.discoverRange()};this.validateSeries=function(d){if(!(Array.isArray(d)||
d instanceof Rickshaw.Series))throw"series is not an array: "+Object.prototype.toString.apply(d);d.forEach(function(d){if(!(d instanceof Object))throw"series element is not an object: "+d;if(!d.data)throw"series has no data: "+JSON.stringify(d);if(!Array.isArray(d.data))throw"series data is not an array: "+JSON.stringify(d.data);var c=d.data[0].x,f=d.data[0].y;if("number"!=typeof c||"number"!=typeof f&&null!==f)throw"x and y properties of points should be numbers instead of "+typeof c+" and "+typeof f;
if(3<=d.data.length&&(d.data[2].x<d.data[1].x||d.data[1].x<d.data[0].x||d.data[d.data.length-1].x<d.data[0].x))throw"series data needs to be sorted on x values for series name: "+d.name;},this)};this.dataDomain=function(){var d=this.series.map(function(c){return c.data}),f=d3.min(d.map(function(c){return c[0].x})),d=d3.max(d.map(function(c){return c[c.length-1].x}));return[f,d]};this.discoverRange=function(){var d=this.renderer.domain();this.x=d3.scale.linear().domain(d.x).range([0,this.width]);this.y=
d3.scale.linear().domain(d.y).range([this.height,0]);this.y.magnitude=d3.scale.linear().domain([d.y[0]-d.y[0],d.y[1]-d.y[0]]).range([0,this.height])};this.update=this.render=function(){this.stackData();this.discoverRange();this.renderer.render();this.updateCallbacks.forEach(function(d){d()})};this.stackData=function(){var d=this.series.active().map(function(a){return a.data}).map(function(a){return a.filter(function(a){return this._slice(a)},this)},this),k=this.preserve;k||this.series.forEach(function(a){a.scale&&
(k=!0)});d=k?Rickshaw.clone(d):d;this.series.active().forEach(function(a,c){if(a.scale){var f=d[c];f&&f.forEach(function(c){c.y=a.scale(c.y)})}});this.stackData.hooks.data.forEach(function(a){d=a.f.apply(f,[d])});var c;if(!this.renderer.unstack){this._validateStackable();var y=d3.layout.stack();y.offset(f.offset);c=y(d)}c=c||d;this.stackData.hooks.after.forEach(function(a){c=a.f.apply(f,[d])});var a=0;this.series.forEach(function(b){b.disabled||(b.stack=c[a++])});return this.stackedData=c};this._validateStackable=
function(){var d;this.series.forEach(function(f){if((d=d||f.data.length)&&f.data.length!=d)throw"stacked series cannot have differing numbers of points: "+d+" vs "+f.data.length+"; see Rickshaw.Series.fill()";},this)};this.stackData.hooks={data:[],after:[]};this._slice=function(d){if(this.window.xMin||this.window.xMax){var f=!0;this.window.xMin&&d.x<this.window.xMin&&(f=!1);this.window.xMax&&d.x>this.window.xMax&&(f=!1);return f}return!0};this.onUpdate=function(d){this.updateCallbacks.push(d)};this.registerRenderer=
function(d){this._renderers=this._renderers||{};this._renderers[d.name]=d};this.configure=function(d){(d.width||d.height)&&this.setSize(d);Rickshaw.keys(this.defaults).forEach(function(f){this[f]=f in d?d[f]:f in this?this[f]:this.defaults[f]},this);this.setRenderer(d.renderer||this.renderer.name,d)};this.setRenderer=function(d,k){if("function"==typeof d)this.renderer=new d({graph:f}),this.registerRenderer(this.renderer);else{if(!this._renderers[d])throw"couldn't find renderer "+d;this.renderer=this._renderers[d]}"object"==
typeof k&&this.renderer.configure(k)};this.setSize=function(d){d=d||{};if(void 0!==typeof window)var f=window.getComputedStyle(this.element,null),c=parseInt(f.getPropertyValue("width"),10),f=parseInt(f.getPropertyValue("height"),10);this.width=d.width||c||400;this.height=d.height||f||250;this.vis&&this.vis.attr("width",this.width).attr("height",this.height)};this.initialize(d)};Rickshaw.namespace("Rickshaw.Fixtures.Color");
Rickshaw.Fixtures.Color=function(){this.schemes={};this.schemes.spectrum14="#ecb796 #dc8f70 #b2a470 #92875a #716c49 #d2ed82 #bbe468 #a1d05d #e7cbe6 #d8aad6 #a888c2 #9dc2d3 #649eb9 #387aa3".split(" ").reverse();this.schemes.spectrum2000="#57306f #514c76 #646583 #738394 #6b9c7d #84b665 #a7ca50 #bfe746 #e2f528 #fff726 #ecdd00 #d4b11d #de8800 #de4800 #c91515 #9a0000 #7b0429 #580839 #31082b".split(" ");this.schemes.spectrum2001="#2f243f #3c2c55 #4a3768 #565270 #6b6b7c #72957f #86ad6e #a1bc5e #b8d954 #d3e04e #ccad2a #cc8412 #c1521d #ad3821 #8a1010 #681717 #531e1e #3d1818 #320a1b".split(" ");
this.schemes.classic9="#423d4f #4a6860 #848f39 #a2b73c #ddcb53 #c5a32f #7d5836 #963b20 #7c2626 #491d37 #2f254a".split(" ").reverse();this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"};this.schemes.colorwheel="#b5b6a9 #858772 #785f43 #96557e #4682b4 #65b9ac #73c03a #cb513a".split(" ").reverse();
this.schemes.cool="#5e9d2f #73c03a #4682b4 #7bc3b8 #a9884e #c1b266 #a47493 #c09fb5".split(" ");this.schemes.munin="#00cc00 #0066b3 #ff8000 #ffcc00 #330099 #990099 #ccff00 #ff0000 #808080 #008f00 #00487d #b35a00 #b38f00 #6b006b #8fb300 #b30000 #bebebe #80ff80 #80c9ff #ffc080 #ffe680 #aa80ff #ee00cc #ff8080 #666600 #ffbfff #00ffcc #cc6699 #999900".split(" ")};Rickshaw.namespace("Rickshaw.Fixtures.RandomData");
Rickshaw.Fixtures.RandomData=function(d){d=d||1;var f=200,m=Math.floor((new Date).getTime()/1E3);this.addData=function(k){var c=100*Math.random()+15+f,y=k[0].length,a=1;k.forEach(function(b){var e=20*Math.random(),f=c/25+a++ +15*(Math.cos(y*a*11/960)+2)+7*(Math.cos(y/7)+2)+1*(Math.cos(y/17)+2);b.push({x:y*d+m,y:f+e})});f=0.85*c};this.removeData=function(f){f.forEach(function(c){c.shift()});m+=d}};Rickshaw.namespace("Rickshaw.Fixtures.Time");
Rickshaw.Fixtures.Time=function(){(new Date).getTimezoneOffset();var d=this;this.months="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");this.units=[{name:"decade",seconds:315576E3,formatter:function(d){return 10*parseInt(d.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(d){return d.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(f){return d.months[f.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(f){return d.formatDate(f)}},
{name:"day",seconds:86400,formatter:function(d){return d.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(f){return d.formatTime(f)}},{name:"hour",seconds:3600,formatter:function(f){return d.formatTime(f)}},{name:"15 minute",seconds:900,formatter:function(f){return d.formatTime(f)}},{name:"minute",seconds:60,formatter:function(d){return d.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(d){return d.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(d){return d.getUTCSeconds()+
"s"}},{name:"decisecond",seconds:0.1,formatter:function(d){return d.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:0.01,formatter:function(d){return d.getUTCMilliseconds()+"ms"}}];this.unit=function(d){return this.units.filter(function(m){return d==m.name}).shift()};this.formatDate=function(d){return d3.time.format("%b %e")(d)};this.formatTime=function(d){return d.toUTCString().match(/(\d+:\d+):/)[1]};this.ceil=function(d,m){var k,c;return"month"==m.name?(k=new Date(1E3*(d+m.seconds-1)),
c=new Date(0),c.setUTCFullYear(k.getUTCFullYear()),c.setUTCMonth(k.getUTCMonth()),c.setUTCDate(1),c.setUTCHours(0),c.setUTCMinutes(0),c.setUTCSeconds(0),c.setUTCMilliseconds(0),c.getTime()/1E3):"year"==m.name?(k=new Date(1E3*(d+m.seconds-1)),c=new Date(0),c.setUTCFullYear(k.getUTCFullYear()),c.setUTCMonth(0),c.setUTCDate(1),c.setUTCHours(0),c.setUTCMinutes(0),c.setUTCSeconds(0),c.setUTCMilliseconds(0),c.getTime()/1E3):Math.ceil(d/m.seconds)*m.seconds}};Rickshaw.namespace("Rickshaw.Fixtures.Time.Local");
Rickshaw.Fixtures.Time.Local=function(){(new Date).getTimezoneOffset();var d=this;this.months="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");this.units=[{name:"decade",seconds:315576E3,formatter:function(d){return 10*parseInt(d.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(d){return d.getFullYear()}},{name:"month",seconds:2635200,formatter:function(f){return d.months[f.getMonth()]}},{name:"week",seconds:604800,formatter:function(f){return d.formatDate(f)}},
{name:"day",seconds:86400,formatter:function(d){return d.getDate()}},{name:"6 hour",seconds:21600,formatter:function(f){return d.formatTime(f)}},{name:"hour",seconds:3600,formatter:function(f){return d.formatTime(f)}},{name:"15 minute",seconds:900,formatter:function(f){return d.formatTime(f)}},{name:"minute",seconds:60,formatter:function(d){return d.getMinutes()}},{name:"15 second",seconds:15,formatter:function(d){return d.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(d){return d.getSeconds()+
"s"}},{name:"decisecond",seconds:0.1,formatter:function(d){return d.getMilliseconds()+"ms"}},{name:"centisecond",seconds:0.01,formatter:function(d){return d.getMilliseconds()+"ms"}}];this.unit=function(d){return this.units.filter(function(m){return d==m.name}).shift()};this.formatDate=function(d){return d3.time.format("%b %e")(d)};this.formatTime=function(d){return d.toString().match(/(\d+:\d+):/)[1]};this.ceil=function(d,m){var k,c;return"day"==m.name?(k=new Date(1E3*(d+m.seconds-1)),c=new Date(0),
c.setMilliseconds(0),c.setSeconds(0),c.setMinutes(0),c.setHours(0),c.setDate(k.getDate()),c.setMonth(k.getMonth()),c.setFullYear(k.getFullYear()),c.getTime()/1E3):"month"==m.name?(k=new Date(1E3*(d+m.seconds-1)),c=new Date(0),c.setMilliseconds(0),c.setSeconds(0),c.setMinutes(0),c.setHours(0),c.setDate(1),c.setMonth(k.getMonth()),c.setFullYear(k.getFullYear()),c.getTime()/1E3):"year"==m.name?(k=new Date(1E3*(d+m.seconds-1)),c=new Date(0),c.setFullYear(k.getFullYear()),c.setMilliseconds(0),c.setSeconds(0),
c.setMinutes(0),c.setHours(0),c.setDate(1),c.setMonth(0),c.getTime()/1E3):Math.ceil(d/m.seconds)*m.seconds}};Rickshaw.namespace("Rickshaw.Fixtures.Number");Rickshaw.Fixtures.Number.formatKMBT=function(d){var f=Math.abs(d);return 1E12<=f?d/1E12+"T":1E9<=f?d/1E9+"B":1E6<=f?d/1E6+"M":1E3<=f?d/1E3+"K":1>f&&0<d?d.toFixed(2):0===f?"":d};
Rickshaw.Fixtures.Number.formatBase1024KMGTP=function(d){var f=Math.abs(d);return 0x4000000000000<=f?d/0x4000000000000+"P":1099511627776<=f?d/1099511627776+"T":1073741824<=f?d/1073741824+"G":1048576<=f?d/1048576+"M":1024<=f?d/1024+"K":1>f&&0<d?d.toFixed(2):0===f?"":d};Rickshaw.namespace("Rickshaw.Color.Palette");
Rickshaw.Color.Palette=function(d){var f=new Rickshaw.Fixtures.Color;d=d||{};this.schemes={};this.scheme=f.schemes[d.scheme]||d.scheme||f.schemes.colorwheel;this.generatorIndex=this.runningIndex=0;if(d.interpolatedStopCount){var f=this.scheme.length-1,m,k,c=[];for(m=0;m<f;m++){c.push(this.scheme[m]);var y=d3.interpolateHsl(this.scheme[m],this.scheme[m+1]);for(k=1;k<d.interpolatedStopCount;k++)c.push(y(1/d.interpolatedStopCount*k))}c.push(this.scheme[this.scheme.length-1]);this.scheme=c}this.rotateCount=
this.scheme.length;this.color=function(a){return this.scheme[a]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"};this.interpolateColor=function(){if(Array.isArray(this.scheme)){var a;this.generatorIndex==2*this.rotateCount-1?(a=d3.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(0.5),this.generatorIndex=0,this.rotateCount*=2):(a=d3.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(0.5),this.generatorIndex++);this.scheme.push(a);
return a}}};Rickshaw.namespace("Rickshaw.Graph.Ajax");
Rickshaw.Graph.Ajax=Rickshaw.Class.create({initialize:function(d){this.dataURL=d.dataURL;this.onData=d.onData||function(d){return d};this.onComplete=d.onComplete||function(){};this.onError=d.onError||function(){};this.args=d;this.request()},request:function(){$.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL);this.onError(this)},success:function(d,f){d=this.onData(d);this.args.series=
this._splice({data:d,series:this.args.series});this.graph=this.graph||new Rickshaw.Graph(this.args);this.graph.render();this.onComplete(this)},_splice:function(d){var f=d.data,m=d.series;if(!d.series)return f;m.forEach(function(d){var c=d.key||d.name;if(!c)throw"series needs a key or a name";f.forEach(function(f){var a=f.key||f.name;if(!a)throw"data needs a key or a name";c==a&&["color","name","data"].forEach(function(a){f[a]&&(d[a]=f[a])})})});return m}});Rickshaw.namespace("Rickshaw.Graph.Annotate");
Rickshaw.Graph.Annotate=function(d){this.graph=d.graph;this.elements={timeline:d.element};var f=this;this.data={};this.elements.timeline.classList.add("rickshaw_annotation_timeline");this.add=function(d,k,c){f.data[d]=f.data[d]||{boxes:[]};f.data[d].boxes.push({content:k,end:c})};this.update=function(){Rickshaw.keys(f.data).forEach(function(d){var k=f.data[d],c=f.graph.x(d);if(0>c||c>f.graph.x.range()[1])k.element&&(k.line.classList.add("offscreen"),k.element.style.display="none"),k.boxes.forEach(function(a){a.rangeElement&&
a.rangeElement.classList.add("offscreen")});else{if(!k.element){var y=k.element=document.createElement("div");y.classList.add("annotation");this.elements.timeline.appendChild(y);y.addEventListener("click",function(a){y.classList.toggle("active");k.line.classList.toggle("active");k.boxes.forEach(function(a){a.rangeElement&&a.rangeElement.classList.toggle("active")})},!1)}k.element.style.left=c+"px";k.element.style.display="block";k.boxes.forEach(function(a){var b=a.element;b||(b=a.element=document.createElement("div"),
b.classList.add("content"),b.innerHTML=a.content,k.element.appendChild(b),k.line=document.createElement("div"),k.line.classList.add("annotation_line"),f.graph.element.appendChild(k.line),a.end&&(a.rangeElement=document.createElement("div"),a.rangeElement.classList.add("annotation_range"),f.graph.element.appendChild(a.rangeElement)));if(a.end){var b=c,d=Math.min(f.graph.x(a.end),f.graph.x.range()[1]);b>d&&(d=c,b=Math.max(f.graph.x(a.end),f.graph.x.range()[0]));a.rangeElement.style.left=b+"px";a.rangeElement.style.width=
d-b+"px";a.rangeElement.classList.remove("offscreen")}k.line.classList.remove("offscreen");k.line.style.left=c+"px"})}},this)};this.graph.onUpdate(function(){f.update()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Time");
Rickshaw.Graph.Axis.Time=function(d){var f=this;this.graph=d.graph;this.elements=[];this.ticksTreatment=d.ticksTreatment||"plain";this.fixedTimeUnit=d.timeUnit;var m=d.timeFixture||new Rickshaw.Fixtures.Time;this.appropriateTimeUnit=function(){var d,c=m.units,f=this.graph.x.domain(),a=f[1]-f[0];c.forEach(function(b){2<=Math.floor(a/b.seconds)&&(d=d||b)});return d||m.units[m.units.length-1]};this.tickOffsets=function(){for(var d=this.graph.x.domain(),c=this.fixedTimeUnit||this.appropriateTimeUnit(),
f=Math.ceil((d[1]-d[0])/c.seconds),d=d[0],a=[],b=0;b<f;b++){var e=m.ceil(d,c),d=e+c.seconds/2;a.push({value:e,unit:c})}return a};this.render=function(){this.elements.forEach(function(d){d.parentNode.removeChild(d)});this.elements=[];this.tickOffsets().forEach(function(d){if(!(f.graph.x(d.value)>f.graph.x.range()[1])){var c=document.createElement("div");c.style.left=f.graph.x(d.value)+"px";c.classList.add("x_tick");c.classList.add(f.ticksTreatment);var m=document.createElement("div");m.classList.add("title");
m.innerHTML=d.unit.formatter(new Date(1E3*d.value));c.appendChild(m);f.graph.element.appendChild(c);f.elements.push(c)}})};this.graph.onUpdate(function(){f.render()})};Rickshaw.namespace("Rickshaw.Graph.Axis.X");
Rickshaw.Graph.Axis.X=function(d){var f=this;this.initialize=function(d){this.graph=d.graph;this.orientation=d.orientation||"top";this.pixelsPerTick=d.pixelsPerTick||75;d.ticks&&(this.staticTicks=d.ticks);d.tickValues&&(this.tickValues=d.tickValues);this.tickSize=d.tickSize||4;this.ticksTreatment=d.ticksTreatment||"plain";d.element?(this.element=d.element,this._discoverSize(d.element,d),this.vis=d3.select(d.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class",
"rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:d.width,height:d.height})):this.vis=this.graph.vis;this.graph.onUpdate(function(){f.render()})};this.setSize=function(d){d=d||{};this.element&&(this._discoverSize(this.element.parentNode,d),this.vis.attr("height",this.height).attr("width",1.1*this.width),this.element.style.left=-1*Math.floor(0.1*this.width/2)+"px")};this.render=function(){void 0!==this._renderWidth&&this.graph.width!==
this._renderWidth&&this.setSize({auto:!0});var f=d3.svg.axis().scale(this.graph.x).orient(this.orientation);f.tickFormat(d.tickFormat||function(c){return c});this.tickValues&&f.tickValues(this.tickValues);this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var k=Math.floor(0.1*this.width/2)||0,k="top"==this.orientation?"translate("+k+","+(this.height||this.graph.height)+")":"translate("+k+", 0)";this.element&&this.vis.selectAll("*").remove();this.vis.append("svg:g").attr("class",
["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",k).call(f.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));k=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(f.ticks(this.ticks).tickSubdivide(0).tickSize(k));this._renderHeight=this.graph.height};this._discoverSize=function(d,f){if("undefined"!==typeof window){var c=window.getComputedStyle(d,null),y=parseInt(c.getPropertyValue("height"),10);if(!f.auto)var a=
parseInt(c.getPropertyValue("width"),10)}this.width=1.1*(f.width||a||this.graph.width);this.height=f.height||y||40};this.initialize(d)};Rickshaw.namespace("Rickshaw.Graph.Axis.Y");
Rickshaw.Graph.Axis.Y=Rickshaw.Class.create({initialize:function(d){this.graph=d.graph;this.orientation=d.orientation||"right";this.pixelsPerTick=d.pixelsPerTick||75;d.ticks&&(this.staticTicks=d.ticks);d.tickValues&&(this.tickValues=d.tickValues);this.tickSize=d.tickSize||4;this.ticksTreatment=d.ticksTreatment||"plain";this.tickFormat=d.tickFormat||function(d){return d};this.berthRate=0.1;d.element?(this.element=d.element,this.vis=d3.select(d.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),
this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:d.width,height:d.height})):this.vis=this.graph.vis;var f=this;this.graph.onUpdate(function(){f.render()})},setSize:function(d){d=d||{};if(this.element){if("undefined"!==typeof window){var f=window.getComputedStyle(this.element.parentNode,null),m=parseInt(f.getPropertyValue("width"),10);if(!d.auto)var k=parseInt(f.getPropertyValue("height"),10)}this.width=d.width||m||this.graph.width*this.berthRate;this.height=d.height||
k||this.graph.height;this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));d=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*d+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0});this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var d=this._drawAxis(this.graph.y);this._drawGrid(d);this._renderHeight=this.graph.height},_drawAxis:function(d){d=d3.svg.axis().scale(d).orient(this.orientation);
d.tickFormat(this.tickFormat);this.tickValues&&d.tickValues(this.tickValues);if("left"==this.orientation)var f="translate("+this.width+", "+this.height*this.berthRate+")";this.element&&this.vis.selectAll("*").remove();this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",f).call(d.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));return d},_drawGrid:function(d){var f=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class",
"y_grid").call(d.ticks(this.ticks).tickSubdivide(0).tickSize(f))}});Rickshaw.namespace("Rickshaw.Graph.Axis.Y.Scaled");
Rickshaw.Graph.Axis.Y.Scaled=Rickshaw.Class.create(Rickshaw.Graph.Axis.Y,{initialize:function($super,f){if("undefined"===typeof f.scale)throw Error("Scaled requires scale");this.scale=f.scale;this.grid="undefined"===typeof f.grid?!0:f.grid;$super(f)},_drawAxis:function($super,f){var m=this.scale.domain(),k=this.graph.renderer.domain().y,c=[Math.min.apply(Math,m),Math.max.apply(Math,m)],y=d3.scale.linear().domain([0,1]).range(c),k=[y(k[0]),y(k[1])],c=d3.scale.linear().domain(c).range(k),m=this.scale.copy().domain(m.map(c)).range(f.range());
return $super(m)},_drawGrid:function($super,f){this.grid&&$super(f)}});Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Highlight");
Rickshaw.Graph.Behavior.Series.Highlight=function(d){this.graph=d.graph;this.legend=d.legend;var f=this,m={},k=null,c=d.disabledColor||function(c){return d3.interpolateRgb(c,d3.rgb("#d8d8d8"))(0.8).toString()};this.addHighlightEvents=function(d){d.element.addEventListener("mouseover",function(a){k||(k=d,f.legend.lines.forEach(function(a){if(d===a){if(f.graph.renderer.unstack&&(a.series.renderer?a.series.renderer.unstack:1)){var e=f.graph.series.indexOf(a.series);a.originalIndex=e;a=f.graph.series.splice(e,
1)[0];f.graph.series.push(a)}}else m[a.series.name]=m[a.series.name]||a.series.color,a.series.color=c(a.series.color)}),f.graph.update())},!1);d.element.addEventListener("mouseout",function(a){k&&(k=null,f.legend.lines.forEach(function(a){if(d===a&&a.hasOwnProperty("originalIndex")){var c=f.graph.series.pop();f.graph.series.splice(a.originalIndex,0,c);delete a.originalIndex}m[a.series.name]&&(a.series.color=m[a.series.name])}),f.graph.update())},!1)};this.legend&&this.legend.lines.forEach(function(c){f.addHighlightEvents(c)})};
Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Order");
Rickshaw.Graph.Behavior.Series.Order=function(d){this.graph=d.graph;this.legend=d.legend;var f=this;if("undefined"==typeof window.$)throw"couldn't find jQuery at window.$";if("undefined"==typeof window.$.ui)throw"couldn't find jQuery UI at window.$.ui";$(function(){$(f.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(d,k){var c=[];$(f.legend.list).find("li").each(function(a,b){b.series&&c.push(b.series)});for(var y=f.graph.series.length-1;0<=y;y--)f.graph.series[y]=
c.shift();f.graph.update()}});$(f.legend.list).disableSelection()});this.graph.onUpdate(function(){var d=window.getComputedStyle(f.legend.element).height;f.legend.element.style.height=d})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Toggle");
Rickshaw.Graph.Behavior.Series.Toggle=function(d){this.graph=d.graph;this.legend=d.legend;var f=this;this.addAnchor=function(d){var k=document.createElement("a");k.innerHTML='<i class="glyphicon glyphicon-cog" style="font-size:13px;"></i>';k.classList.add("action");d.element.insertBefore(k,d.element.firstChild);k.onclick=function(c){d.series.disabled?(d.series.enable(),d.element.classList.remove("disabled")):1>=this.graph.series.filter(function(c){return!c.disabled}).length||(d.series.disable(),d.element.classList.add("disabled"))}.bind(this);
d.element.getElementsByTagName("span")[0].onclick=function(c){c=d.series.disabled;if(!c)for(var k=0;k<f.legend.lines.length;k++){var a=f.legend.lines[k];if(d.series!==a.series&&!a.series.disabled){c=!0;break}}c?(d.series.enable(),d.element.classList.remove("disabled"),f.legend.lines.forEach(function(a){d.series!==a.series&&(a.series.disable(),a.element.classList.add("disabled"))})):f.legend.lines.forEach(function(a){a.series.enable();a.element.classList.remove("disabled")})}};this.legend&&("undefined"!=
typeof $&&$(this.legend.list).sortable&&$(this.legend.list).sortable({start:function(d,f){f.item.bind("no.onclick",function(c){c.preventDefault()})},stop:function(d,f){setTimeout(function(){f.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(d){f.addAnchor(d)}));this._addBehavior=function(){this.graph.series.forEach(function(d){d.disable=function(){if(1>=f.graph.series.length)throw"only one series left";d.disabled=!0;f.graph.update()};d.enable=function(){d.disabled=!1;f.graph.update()}})};
this._addBehavior();this.updateBehaviour=function(){this._addBehavior()}};Rickshaw.namespace("Rickshaw.Graph.HoverDetail");
Rickshaw.Graph.HoverDetail=Rickshaw.Class.create({initialize:function(d){var f=this.graph=d.graph;this.xFormatter=d.xFormatter||function(d){return(new Date(1E3*d)).toUTCString()};this.yFormatter=d.yFormatter||function(d){return null===d?d:d.toFixed(2)};var m=this.element=document.createElement("div");m.className="detail";this.visible=!0;f.element.appendChild(m);this.lastEvent=null;this._addListeners();this.onShow=d.onShow;this.onHide=d.onHide;this.onRender=d.onRender;this.formatter=d.formatter||this.formatter},
formatter:function(d,f,m,k,c,y){return d.name+":&nbsp;"+c},update:function(d){if(d=d||this.lastEvent)if(this.lastEvent=d,d.target.nodeName.match(/^(path|svg|rect|circle)$/)){var f=this.graph,m=d.offsetX||d.layerX,k=d.offsetY||d.layerY,c=0,y=[],a;this.graph.series.active().forEach(function(b){var d=this.graph.stackedData[c++];if(d.length){var q=f.x.invert(m),K=d3.scale.linear().domain([d[0].x,d.slice(-1)[0].x]).range([0,d.length-1]),B=Math.round(K(q));B==d.length-1&&B--;for(K=Math.min(B||0,d.length-
1);B<d.length-1&&d[B]&&d[B+1];){if(d[B].x<=q&&d[B+1].x>q){K=Math.abs(q-d[B].x)<Math.abs(q-d[B+1].x)?B:B+1;break}d[B+1].x<=q?B++:B--}0>K&&(K=0);q=d[K];d=Math.sqrt(Math.pow(Math.abs(f.x(q.x)-m),2)+Math.pow(Math.abs(f.y(q.y+q.y0)-k),2));K=b.yFormatter||this.yFormatter;b={formattedXValue:(b.xFormatter||this.xFormatter)(q.x),formattedYValue:K(b.scale?b.scale.invert(q.y):q.y),series:b,value:q,distance:d,order:c,name:b.name};if(!a||d<a.distance)a=b;y.push(b)}},this);if(a){a.active=!0;d=a.value.x;var b=a.formattedXValue;
this.element.innerHTML="";this.element.style.left=f.x(d)+"px";this.visible&&this.render({points:y,detail:y,mouseX:m,mouseY:k,formattedXValue:b,domainX:d})}}},hide:function(){this.visible=!1;this.element.classList.add("inactive");if("function"==typeof this.onHide)this.onHide()},show:function(){this.visible=!0;this.element.classList.remove("inactive");if("function"==typeof this.onShow)this.onShow()},render:function(d){var f=this.graph,m=d.points.filter(function(a){return a.active}).shift();if(null!==
m.value.y){var k=m.formattedXValue,c=m.formattedYValue;this.element.innerHTML="";this.element.style.left=f.x(m.value.x)+"px";f=document.createElement("div");f.className="x_label";f.innerHTML=k;this.element.appendChild(f);var y=document.createElement("div");y.className="item";var a=m.series,b=a.scale?a.scale.invert(m.value.y):m.value.y;y.innerHTML=this.formatter(a,m.value.x,b,k,c,m);y.style.top=this.graph.y(m.value.y0+m.value.y)+"px";this.element.appendChild(y);k=document.createElement("div");k.className=
"dot";k.style.top=y.style.top;k.style.borderColor=a.color;this.element.appendChild(k);m.active&&(y.classList.add("active"),k.classList.add("active"));m=[f,y];m.forEach(function(a){a.classList.add("left")});this.show();k=this._calcLayoutError(m);0<k&&(m.forEach(function(a){a.classList.remove("left");a.classList.add("right")}),this._calcLayoutError(m)>k&&m.forEach(function(a){a.classList.remove("right");a.classList.add("left")}));if("function"==typeof this.onRender)this.onRender(d)}},_calcLayoutError:function(d){var f=
this.element.parentNode.getBoundingClientRect(),m=0;d.forEach(function(d){d=d.getBoundingClientRect();d.width&&(d.right>f.right&&(m+=d.right-f.right),d.left<f.left&&(m+=f.left-d.left))});return m},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(d){this.visible=!0;this.update(d)}.bind(this),!1);this.graph.onUpdate(function(){this.update()}.bind(this));this.graph.element.addEventListener("mouseout",function(d){!d.relatedTarget||d.relatedTarget.compareDocumentPosition(this.graph.element)&
Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}});Rickshaw.namespace("Rickshaw.Graph.JSONP");Rickshaw.Graph.JSONP=Rickshaw.Class.create(Rickshaw.Graph.Ajax,{request:function(){$.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}});Rickshaw.namespace("Rickshaw.Graph.Legend");
Rickshaw.Graph.Legend=Rickshaw.Class.create({className:"rickshaw_legend",initialize:function(d){this.element=d.element;this.graph=d.graph;this.naturalOrder=d.naturalOrder;this.element.classList.add(this.className);this.list=document.createElement("ul");this.element.appendChild(this.list);this.render();this.graph.onUpdate(function(){})},render:function(){for(var d=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var f=this.graph.series.map(function(d){return d});
this.naturalOrder||(f=f.reverse());f.forEach(function(f){d.addLine(f)})},addLine:function(d){var f=document.createElement("li");f.className="line";d.disabled&&(f.className+=" disabled");var m=document.createElement("div");m.className="swatch "+d.className;m.style.backgroundColor=d.color;f.appendChild(m);m=document.createElement("span");m.className="label";m.innerHTML=d.name;f.appendChild(m);this.list.appendChild(f);f.series=d;d.noLegend&&(f.style.display="none");d={element:f,series:d};this.shelving&&
(this.shelving.addAnchor(d),this.shelving.updateBehaviour());this.highlighter&&this.highlighter.addHighlightEvents(d);this.lines.push(d);return f}});Rickshaw.namespace("Rickshaw.Graph.RangeSlider");
Rickshaw.Graph.RangeSlider=Rickshaw.Class.create({initialize:function(d){this.element=d.element;d=this.graph=d.graph;this.build();d.onUpdate(function(){this.update()}.bind(this))},build:function(){var d=this.element,f=this.graph,m=f.dataDomain();$(function(){$(d).slider({range:!0,min:m[0],max:m[1],values:[m[0],m[1]],slide:function(d,c){if(!(c.values[1]<=c.values[0])){f.window.xMin=c.values[0];f.window.xMax=c.values[1];f.update();var m=f.dataDomain();m[0]==c.values[0]&&(f.window.xMin=void 0);m[1]==
c.values[1]&&(f.window.xMax=void 0)}}})});$(d)[0].style.width=f.width+"px"},update:function(){var d=this.element,f=this.graph,m=$(d).slider("option","values"),k=f.dataDomain();$(d).slider("option","min",k[0]);$(d).slider("option","max",k[1]);null==f.window.xMin&&(m[0]=k[0]);null==f.window.xMax&&(m[1]=k[1]);$(d).slider("option","values",m)}});Rickshaw.namespace("Rickshaw.Graph.Renderer");
Rickshaw.Graph.Renderer=Rickshaw.Class.create({initialize:function(d){this.graph=d.graph;this.tension=d.tension||this.tension;this.graph.unstacker=this.graph.unstacker||new Rickshaw.Graph.Unstacker({graph:this.graph});this.configure(d)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:0.8,strokeWidth:2,unstack:!0,padding:{top:0.01,right:0,bottom:0.01,left:0},stroke:!1,fill:!1}},domain:function(d){d=d||this.graph.stackedData||this.graph.stackData();
var f=d[0][0];if(void 0===f)return{x:[null,null],y:[null,null]};var m=f.x,k=f.x,c=f.y+f.y0,y=f.y+f.y0;d.forEach(function(a){a.forEach(function(a){null!=a.y&&(a=a.y+a.y0,a<c&&(c=a),a>y&&(y=a))});a.length&&(a[0].x<m&&(m=a[0].x),a[a.length-1].x>k&&(k=a[a.length-1].x))});m-=(k-m)*this.padding.left;k+=(k-m)*this.padding.right;c="auto"===this.graph.min?c:this.graph.min||0;y=void 0===this.graph.max?y:this.graph.max;if("auto"===this.graph.min||0>c)c-=(y-c)*this.padding.bottom;void 0===this.graph.max&&(y+=
(y-c)*this.padding.top);return{x:[m,k],y:[c,y]}},render:function(d){d=d||{};var f=this.graph,m=d.series||f.series;d=d.vis||f.vis;d.selectAll("*").remove();var f=m.filter(function(c){return!c.disabled}).map(function(c){return c.stack}),k=d.selectAll("path").data(f).enter().append("svg:path").attr("d",this.seriesPathFactory()),c=0;m.forEach(function(d){d.disabled||(d.path=k[0][c++],this._styleSeries(d))},this)},_styleSeries:function(d){var f=this.stroke?d.color:"none";d.path.setAttribute("fill",this.fill?
d.color:"none");d.path.setAttribute("stroke",f);d.path.setAttribute("stroke-width",this.strokeWidth);d.path.setAttribute("class",d.className)},configure:function(d){d=d||{};Rickshaw.keys(this.defaults()).forEach(function(f){d.hasOwnProperty(f)?"object"==typeof this.defaults()[f]?Rickshaw.keys(this.defaults()[f]).forEach(function(m){this[f][m]=void 0!==d[f][m]?d[f][m]:void 0!==this[f][m]?this[f][m]:this.defaults()[f][m]},this):this[f]=void 0!==d[f]?d[f]:void 0!==this[f]?this[f]:void 0!==this.graph[f]?
this.graph[f]:this.defaults()[f]:this[f]=this[f]||this.graph[f]||this.defaults()[f]},this)},setStrokeWidth:function(d){void 0!==d&&(this.strokeWidth=d)},setTension:function(d){void 0!==d&&(this.tension=d)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Line");
Rickshaw.Graph.Renderer.Line=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"line",defaults:function($super){return Rickshaw.extend($super(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var d=this.graph,f=d3.svg.line().x(function(f){return d.x(f.x)}).y(function(f){return d.y(f.y)}).interpolate(this.graph.interpolation).tension(this.tension);f.defined&&f.defined(function(d){return null!==d.y});return f}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Stack");
Rickshaw.Graph.Renderer.Stack=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"stack",defaults:function($super){return Rickshaw.extend($super(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var d=this.graph,f=d3.svg.area().x(function(f){return d.x(f.x)}).y0(function(f){return d.y(f.y0)}).y1(function(f){return d.y(f.y+f.y0)}).interpolate(this.graph.interpolation).tension(this.tension);f.defined&&f.defined(function(d){return null!==d.y});return f}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Bar");
Rickshaw.Graph.Renderer.Bar=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"bar",defaults:function($super){var f=Rickshaw.extend($super(),{gapSize:0.05,unstack:!1});delete f.tension;return f},initialize:function($super,f){f=f||{};this.gapSize=f.gapSize||this.gapSize;$super(f)},domain:function($super){var f=$super(),m=this._frequentInterval(this.graph.stackedData.slice(-1).shift());f.x[1]+=Number(m.magnitude);return f},barWidth:function(d){var f=this._frequentInterval(d.stack);return this.graph.x(d.stack[0].x+
f.magnitude*(1-this.gapSize))},render:function(d){d=d||{};var f=this.graph,m=d.series||f.series,k=d.vis||f.vis;k.selectAll("*").remove();d=this.barWidth(m.active()[0]);var c=0,y=m.filter(function(a){return!a.disabled}).length,a=this.unstack?d/y:d,b=function(a){return"matrix("+[1,0,0,0>a.y?-1:1,0,0>a.y?2*f.y.magnitude(Math.abs(a.y)):0].join()+")"};m.forEach(function(d){if(!d.disabled){this.barWidth(d);var m=k.selectAll("path").data(d.stack.filter(function(a){return null!==a.y})).enter().append("svg:rect").attr("x",
function(a){return f.x(a.x)+c}).attr("y",function(a){return f.y(a.y0+Math.abs(a.y))*(0>a.y?-1:1)}).attr("width",a).attr("height",function(a){return f.y.magnitude(Math.abs(a.y))}).attr("transform",b);Array.prototype.forEach.call(m[0],function(a){a.setAttribute("fill",d.color)});this.unstack&&(c+=a)}},this)},_frequentInterval:function(d){for(var f={},m=0;m<d.length-1;m++){var k=d[m+1].x-d[m].x;f[k]=f[k]||0;f[k]++}var c={count:0,magnitude:1};Rickshaw.keys(f).forEach(function(d){c.count<f[d]&&(c={count:f[d],
magnitude:d})});return c}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Area");
Rickshaw.Graph.Renderer.Area=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"area",defaults:function($super){return Rickshaw.extend($super(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var d=this.graph,f=d3.svg.area().x(function(f){return d.x(f.x)}).y0(function(f){return d.y(f.y0)}).y1(function(f){return d.y(f.y+f.y0)}).interpolate(d.interpolation).tension(this.tension);f.defined&&f.defined(function(d){return null!==d.y});return f},seriesStrokeFactory:function(){var d=this.graph,
f=d3.svg.line().x(function(f){return d.x(f.x)}).y(function(f){return d.y(f.y+f.y0)}).interpolate(d.interpolation).tension(this.tension);f.defined&&f.defined(function(d){return null!==d.y});return f},render:function(d){d=d||{};var f=this.graph,m=d.series||f.series;d=d.vis||f.vis;d.selectAll("*").remove();var f=this.unstack?"append":"insert",k=m.filter(function(a){return!a.disabled}).map(function(a){return a.stack}),c=d.selectAll("path").data(k).enter()[f]("svg:g","g");c.append("svg:path").attr("d",
this.seriesPathFactory()).attr("class","area");this.stroke&&c.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var y=0;m.forEach(function(a){a.disabled||(a.path=c[0][y++],this._styleSeries(a))},this)},_styleSeries:function(d){d.path&&(d3.select(d.path).select(".area").attr("fill",d.color),this.stroke&&d3.select(d.path).select(".line").attr("fill","none").attr("stroke",d.stroke||d3.interpolateRgb(d.color,"black")(0.125)).attr("stroke-width",this.strokeWidth),d.className&&
d.path.setAttribute("class",d.className))}});Rickshaw.namespace("Rickshaw.Graph.Renderer.ScatterPlot");
Rickshaw.Graph.Renderer.ScatterPlot=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"scatterplot",defaults:function($super){return Rickshaw.extend($super(),{unstack:!0,fill:!0,stroke:!1,padding:{top:0.01,right:0.01,bottom:0.01,left:0.01},dotSize:4})},initialize:function($super,f){$super(f)},render:function(d){d=d||{};var f=this.graph,m=d.series||f.series,k=d.vis||f.vis,c=this.dotSize;k.selectAll("*").remove();m.forEach(function(d){if(!d.disabled){var a=k.selectAll("path").data(d.stack.filter(function(a){return null!==
a.y})).enter().append("svg:circle").attr("cx",function(a){return f.x(a.x)}).attr("cy",function(a){return f.y(a.y)}).attr("r",function(a){return"r"in a?a.r:c});Array.prototype.forEach.call(a[0],function(a){a.setAttribute("fill",d.color)})}},this)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Multi");
Rickshaw.Graph.Renderer.Multi=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"multi",initialize:function($super,f){$super(f)},defaults:function($super){return Rickshaw.extend($super(),{unstack:!0,fill:!1,stroke:!0})},configure:function($super,f){this.config=f=f||{};$super(f)},domain:function($super){this.graph.stackData();var f=[],m=this._groups();this._stack(m);m.forEach(function(a){a=a.series.filter(function(a){return!a.disabled}).map(function(a){return a.stack});a.length&&(a=$super(a),f.push(a))});
var m=d3.min(f.map(function(a){return a.x[0]})),k=d3.max(f.map(function(a){return a.x[1]})),c=d3.min(f.map(function(a){return a.y[0]})),y=d3.max(f.map(function(a){return a.y[1]}));return{x:[m,k],y:[c,y]}},_groups:function(){var d=this.graph,f={};d.series.forEach(function(k){if(!k.disabled){if(!f[k.renderer]){var c=document.createElementNS("http://www.w3.org/2000/svg","g");d.vis[0][0].appendChild(c);var m=d._renderers[k.renderer],a={};[this.defaults(),m.defaults(),this.config,this.graph].forEach(function(b){Rickshaw.extend(a,
b)});m.configure(a);f[k.renderer]={renderer:m,series:[],vis:d3.select(c)}}f[k.renderer].series.push(k)}},this);var m=[];Object.keys(f).forEach(function(d){m.push(f[d])});return m},_stack:function(d){d.forEach(function(d){var m=d.series.filter(function(c){return!c.disabled}),k=m.map(function(c){return c.stack});if(!d.renderer.unstack){d=d3.layout.stack();var c=Rickshaw.clone(d(k));m.forEach(function(d,a){d._stack=Rickshaw.clone(c[a])})}},this);return d},render:function(){this.graph.series.forEach(function(d){if(!d.renderer)throw Error("Each series needs a renderer for graph 'multi' renderer");
});this.graph.vis.selectAll("*").remove();var d=this._groups(),d=this._stack(d);d.forEach(function(d){var m=d.series.filter(function(d){return!d.disabled});m.active=function(){return m};d.renderer.render({series:m,vis:d.vis});m.forEach(function(d){d.stack=d._stack||d.stack||d.data})})}});Rickshaw.namespace("Rickshaw.Graph.Renderer.LinePlot");
Rickshaw.Graph.Renderer.LinePlot=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"lineplot",defaults:function($super){return Rickshaw.extend($super(),{unstack:!0,fill:!1,stroke:!0,padding:{top:0.01,right:0.01,bottom:0.01,left:0.01},dotSize:3,strokeWidth:2})},initialize:function($super,f){$super(f)},seriesPathFactory:function(){var d=this.graph,f=d3.svg.line().x(function(f){return d.x(f.x)}).y(function(f){return d.y(f.y)}).interpolate(this.graph.interpolation).tension(this.tension);f.defined&&
f.defined(function(d){return null!==d.y});return f},_renderDots:function(){var d=this.graph;d.series.forEach(function(f){if(!f.disabled){var m=d.vis.selectAll("x").data(f.stack.filter(function(d){return null!==d.y})).enter().append("svg:circle").attr("cx",function(f){return d.x(f.x)}).attr("cy",function(f){return d.y(f.y)}).attr("r",function(f){return"r"in f?f.r:d.renderer.dotSize});Array.prototype.forEach.call(m[0],function(d){d&&(d.setAttribute("data-color",f.color),d.setAttribute("fill","white"),
d.setAttribute("stroke",f.color),d.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)},_renderLines:function(){var d=this.graph,f=d.vis.selectAll("path").data(this.graph.stackedData).enter().append("svg:path").attr("d",this.seriesPathFactory()),m=0;d.series.forEach(function(d){d.disabled||(d.path=f[0][m++],this._styleSeries(d))},this)},render:function(){this.graph.vis.selectAll("*").remove();this._renderLines();this._renderDots()}});Rickshaw.namespace("Rickshaw.Graph.Smoother");
Rickshaw.Graph.Smoother=Rickshaw.Class.create({initialize:function(d){this.graph=d.graph;this.element=d.element;this.aggregationScale=1;this.build();this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var d=this;this.element&&$(function(){$(d.element).slider({min:1,max:100,slide:function(f,m){d.setScale(m.value);d.graph.update()}})})},setScale:function(d){if(1>d)throw"scale out of range: "+d;this.aggregationScale=d;this.graph.update()},
transformer:function(d){if(1==this.aggregationScale)return d;var f=[];d.forEach(function(d){for(var k=[];d.length;){var c=0,y=0,a=d.splice(0,this.aggregationScale);a.forEach(function(b){c+=b.x/a.length;y+=b.y/a.length});k.push({x:c,y:y})}f.push(k)}.bind(this));return f}});Rickshaw.namespace("Rickshaw.Graph.Socketio");Rickshaw.Graph.Socketio=Rickshaw.Class.create(Rickshaw.Graph.Ajax,{request:function(){var d=io.connect(this.dataURL);thisData=this;d.on("rickshaw",function(d){thisData.success(d)})}});
Rickshaw.namespace("Rickshaw.Graph.Unstacker");Rickshaw.Graph.Unstacker=function(d){this.graph=d.graph;var f=this;this.graph.stackData.hooks.after.push({name:"unstacker",f:function(d){if(!f.graph.renderer.unstack)return d;d.forEach(function(d){d.forEach(function(c){c.y0=0})});return d}})};Rickshaw.namespace("Rickshaw.Series");
Rickshaw.Series=Rickshaw.Class.create(Array,{initialize:function(d,f,m){m=m||{};this.palette=new Rickshaw.Color.Palette(f);this.timeBase="undefined"===typeof m.timeBase?Math.floor((new Date).getTime()/1E3):m.timeBase;this.setTimeInterval("undefined"==typeof m.timeInterval?1E3:m.timeInterval);d&&"object"==typeof d&&Array.isArray(d)&&d.forEach(function(d){this.addItem(d)},this)},addItem:function(d){if("undefined"===typeof d.name)throw"addItem() needs a name";d.color=d.color||this.palette.color(d.name);
d.data=d.data||[];0===d.data.length&&this.length&&0<this.getIndex()?this[0].data.forEach(function(f){d.data.push({x:f.x,y:0})}):0===d.data.length&&d.data.push({x:this.timeBase-(this.timeInterval||0),y:0});this.push(d);this.legend&&this.legend.addLine(this.itemByName(d.name))},addData:function(d,f){var m=this.getIndex();Rickshaw.keys(d).forEach(function(d){this.itemByName(d)||this.addItem({name:d})},this);this.forEach(function(k){k.data.push({x:f||(m*this.timeInterval||1)+this.timeBase,y:d[k.name]||
0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(d){for(var f=0;f<this.length;f++)if(this[f].name==d)return this[f]},setTimeInterval:function(d){this.timeInterval=d/1E3},setTimeBase:function(d){this.timeBase=d},dump:function(){var d={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};this.forEach(function(f){var m={color:f.color,name:f.name,data:[]};f.data.forEach(function(d){m.data.push({x:d.x,y:d.y})});d.items.push(m)});
return d},load:function(d){d.timeInterval&&(this.timeInterval=d.timeInterval);d.timeBase&&(this.timeBase=d.timeBase);d.items&&d.items.forEach(function(d){this.push(d);this.legend&&this.legend.addLine(this.itemByName(d.name))},this)}});Rickshaw.Series.zeroFill=function(d){Rickshaw.Series.fill(d,0)};
Rickshaw.Series.fill=function(d,f){for(var m,k=0,c=d.map(function(c){return c.data});k<Math.max.apply(null,c.map(function(c){return c.length}));)m=Math.min.apply(null,c.filter(function(c){return c[k]}).map(function(c){return c[k].x})),c.forEach(function(c){c[k]&&c[k].x==m||c.splice(k,0,{x:m,y:f})}),k++};Rickshaw.namespace("Rickshaw.Series.FixedDuration");
Rickshaw.Series.FixedDuration=Rickshaw.Class.create(Rickshaw.Series,{initialize:function(d,f,m){m=m||{};if("undefined"===typeof m.timeInterval)throw Error("FixedDuration series requires timeInterval");if("undefined"===typeof m.maxDataPoints)throw Error("FixedDuration series requires maxDataPoints");this.palette=new Rickshaw.Color.Palette(f);this.timeBase="undefined"===typeof m.timeBase?Math.floor((new Date).getTime()/1E3):m.timeBase;this.setTimeInterval(m.timeInterval);this[0]&&this[0].data&&this[0].data.length?
(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):this.currentIndex=this.currentSize=0;this.maxDataPoints=m.maxDataPoints;d&&"object"==typeof d&&Array.isArray(d)&&(d.forEach(function(c){this.addItem(c)},this),this.currentSize+=1,this.currentIndex+=1);this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval;if("undefined"!==typeof this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var k=this.maxDataPoints-this.currentSize-1;1<k;k--)this.currentSize+=
1,this.currentIndex+=1,this.forEach(function(c){c.data.unshift({x:((k-1)*this.timeInterval||1)+this.timeBase,y:0,i:k})},this)},addData:function($super,f,m){$super(f,m);this.currentSize+=1;this.currentIndex+=1;if(void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(d){d.data.splice(0,1)});this.currentSize-=1},getIndex:function(){return this.currentIndex}});window._d_={Collections:{},Models:{},Views:{},getColor:function(d){return 99==d?"#000000":0.9<=d?"#703f29":0.8<=d?"#955436":0.7<=d?"#b05e32":0.6<=d?"#d56c2a":0.5<=d?"#ea8435":0.4<=d?"#f89e5d":0.3<=d?"#fbb885":0.2<=d?"#fdd3b1":0.1<=d?"#fee6d3":0<d?"#fff3ea":"#8b8682"},getValue:function(d){if(void 0===d)return 99;d=_.where(d,{name:_d_.appVars.get("curYear")});return void 0===d[0]?99:d[0].children[0][_d_.appVars.get("curRelig")]},getPercent:function(d){if(void 0===d)return"No Data";d=_.where(d,{name:_d_.appVars.get("curYear")});
return void 0===d[0]?"No Data":d3.format(".2%")(d[0].children[0][_d_.appVars.get("curRelig")])},onEachFeature:function(d,f){f.on({contextmenu:_d_.mobileLongClick,mouseover:_d_.highlightFeature,mouseout:_d_.resetHighlight,click:_d_.selectState})},mobileLongClick:function(d){_d_.mapView.mapInfo.update(d.target.feature.properties)},highlightFeature:function(d){d=d.target;d.setStyle({weight:2,color:"grey",dashArray:"",fillOpacity:0.9});L.Browser.ie||L.Browser.opera||d.bringToFront();_d_.mapView.mapInfo.update(d.feature.properties)},
resetHighlight:function(d){_d_.mapView.geojson.resetStyle(d.target)},selectState:function(d){_d_.chartVars.set("dataObj",d.target.feature.properties.data);_d_.setChartData()},setChartData:function(){var d=_d_.chartVars.get("dataObj"),f=_.max(d,function(d){return d.children[0].year});yearMin=_.min(d,function(d){return d.children[0].year});dataArray=[];dataSum=0;series=[];seriesObj={};seriesData=[];seriesElemData={};seriesElem={};religArray="chrstprot chrstcat chrstorth chrstang chrstothr judorth judcons judref islmsun islmshi islmibd islmnat islmalw islmahm islmothr budmah budthr budothr zorogen hindgen sikhgen shntgen bahgen taogen jaingen confgen syncgen anmgen nonrelig othrgen".split(" ");
d&&(_.each(d,function(d){dataArray.push(d.children[0])}),_.each(religArray,function(d){if(dataSum=_.reduce(_.pluck(dataArray,d),function(d,c){return d+c},0))seriesData=[],_.each(dataArray,function(f){seriesElemData=_.pick(f,"epoch",d);seriesElem={x:seriesElemData.epoch,y:seriesElemData[d]};seriesData.push(seriesElem)}),seriesObj={name:_d_.getSeriesName(d),data:seriesData,className:d},series.push(seriesObj)}),_d_.chartVars.set({stateName:d[0].children[0].statename,fipsCode:d[0].children[0].fips,yearMin:yearMin.children[0].year,
yearMax:f.children[0].year,series:series}))},getReligStr:function(d){return{chrstprotpct:"Christianity - Protestant",chrstcatpct:"Christianity - Catholic",chrstorthpct:"Christianity - Eastern Orthodox",chrstangpct:"Christianity - Anglican",chrstothrpct:"Christianity - Other",chrstgenpct:"Christianity",judorthpct:"Judaism - Orthodx",judconspct:"Judaism - Conservative",judrefpct:"Judaism - Reform",judothrpct:"Judasim - Other",judgenpct:"Judaism",islmsunpct:"Islam - Sunni",islmshipct:"Islam - Shi\u2019a",
islmibdpct:"Islam - Ibadhi",islmnatpct:"Islam - Nation of Islam",islmalwpct:"islam - Alawite",islmahmpct:"Islam - Ahmadiyya",islmothrpct:"Islam - Other",islmgenpct:"Islam",budmahpct:"Buddhism - Mahayana",budthrpct:"Buddhism - Theravada",budothrpct:"Buddhism - Other",budgenpct:"Buddhism",zorogenpct:"Zoroastrian",hindgenpct:"Hinduism",sikhgenpct:"Sikh",shntgenpct:"Shinto",bahgenpct:"Baha\u2019i",taogenpct:"Taoism",jaingenpct:"Jain",confgenpct:"Confucianism",syncgenpct:"Syncretic Religions",anmgenpct:"Animist",
nonreligpct:"Non-Religious",othrgenpct:"Other"}[d]},getSeriesName:function(d){return{chrstprot:"Christianity - Protestant",chrstcat:"Christianity - Catholic",chrstorth:"Christianity - Eastern Orthodox",chrstang:"Christianity - Anglican",chrstothr:"Christianity - Other",chrstgen:"Christianity",judorth:"Judaism - Orthodx",judcons:"Judaism - Conservative",judref:"Judaism - Reform",judothr:"Judasim - Other",judgen:"Judaism",islmsun:"Islam - Sunni",islmshi:"Islam - Shi\u2019a",islmibd:"Islam - Ibadhi",
islmnat:"Islam - Nation of Islam",islmalw:"islam - Alawite",islmahm:"Islam - Ahmadiyya",islmothr:"Islam - Other",islmgen:"Islam",budmah:"Buddhism - Mahayana",budthr:"Buddhism - Theravada",budothr:"Buddhism - Other",budgen:"Buddhism",zorogen:"Zoroastrian",hindgen:"Hinduism",sikhgen:"Sikh",shntgen:"Shinto",bahgen:"Baha\u2019i",taogen:"Taoism",jaingen:"Jain",confgen:"Confucianism",syncgen:"Syncretic Religions",anmgen:"Animist",nonrelig:"Non-Religious",othrgen:"Other"}[d]}};_d_.Views.ChartContainer=Backbone.View.extend({id:"chart-anchor",tagName:"div",className:"col-md-12",render:function(){$(this.el).html($("#chart-template").html());$("#chart-container").append(this.$el);this.listenTo(_d_.testColl,"reset",this.remove);this.renderChart();return this},renderChart:function(d){(new _d_.Views.Chart({el:"#chart-anchor"})).render();(new _d_.Views.ChartHeader({el:"#chart-header"})).render()}});_d_.Views.ChartHeader=Backbone.View.extend({template:Handlebars.compile($("#header-template").html()),render:function(){this.$el.html(this.template(_d_.chartVars.attributes));return this}});_d_.Views.Chart=Backbone.View.extend({events:{"click .offset-group":"setOffset"},render:function(){this.graph=new Rickshaw.Graph({element:document.querySelector("#multi-chart"),width:this.getChartWidth(),height:500,renderer:"area",offset:_d_.chartVars.get("offset"),series:_d_.chartVars.get("series")});this.x_axis=new Rickshaw.Graph.Axis.Time({graph:this.graph});this.y_axis=new Rickshaw.Graph.Axis.Y({graph:this.graph,orientation:"left",tickFormat:Rickshaw.Fixtures.Number.formatKMBT,element:document.getElementById("chart-y-axis")});
this.legend=new Rickshaw.Graph.Legend({element:document.querySelector("#chart-legend"),graph:this.graph});"expand"!==_d_.chartVars.get("offset")&&(this.shelving=new Rickshaw.Graph.Behavior.Series.Toggle({graph:this.graph,legend:this.legend}));this.hoverDetail=new Rickshaw.Graph.HoverDetail({graph:this.graph,xFormatter:function(d){return(new Date(1E3*d)).getFullYear()},yFormatter:function(d){return"expand"===_d_.chartVars.get("offset")?d3.format(".2%")(d):d3.format(",")(Math.floor(d))}});this.graph.render();
this.changeClass();this.listenTo(_d_.appVars,"change:winWidth",this.resizeChart);setTimeout(this.attached,0)},attached:function(){renderApp()},changeClass:function(){$(".offset-group").removeClass("selected");$("#"+_d_.chartVars.get("offset")).addClass("selected")},getChartWidth:function(){var d=$(window).width();return 1200<=d?848:992<=d?648:768<=d?438:725<=d?393:650<=d?308:600<=d?263:197},resizeChart:function(){this.graph.configure({width:this.getChartWidth()});this.graph.render()},setOffset:function(d){_d_.chartVars.set("offset",
$(d.currentTarget).attr("id"));_d_.setChartData()}});_d_.Views.Map=Backbone.View.extend({events:{"click .year-group":"filterYear"},filterYear:function(d){$(".year-group").removeClass("selected");$(d.target).addClass("selected");_d_.appVars.set("curYear",$(d.target).attr("id"))},template:_.template($("#map-template").html()),render:function(){this.$el.html(this.template());this.map=L.map(this.$("#mapContainer")[0],{center:[33,0],zoom:2});L.tileLayer("http://{s}.tile.cloudmade.com/{key}/{styleId}/256/{z}/{x}/{y}.png",{attribution:"&copy; 2013 OpenStreetMap &copy; 2013 CloudMade",
key:"201db536dac5474c9eed000778739c8e",styleId:113049}).addTo(this.map);this.mapInfo=L.control();this.mapInfo.onAdd=function(d){this._div=L.DomUtil.create("div","infoBox");this.update();return this._div};this.mapInfo.update=function(d){this._div.innerHTML="<h5>World Religion Project (WRP)</h5><h5>"+_d_.getReligStr(_d_.appVars.get("curRelig"))+" - "+_d_.appVars.get("curYear").substring(4)+"</h5>"+(d?"<b>"+d.CntryName+"</b> ("+d.FipsCntry+") - "+_d_.getPercent(d.data):"Hover over a country")};this.mapInfo.addTo(this.map);
this.legend=L.control({position:"bottomright"});this.legend.onAdd=function(d){d=L.DomUtil.create("div","info legend");d.innerHTML=$("#map-legend-template").html();return d};this.legend.addTo(this.map);this.addLayer();setTimeout(this.attached,0)},attached:function(){renderApp()},addLayer:function(){this.geojson=L.geoJson(_d_.wrp.toJSON(),{style:this.style,onEachFeature:_d_.onEachFeature}).addTo(this.map)},switchLayer:function(){that=this;this.geojson.eachLayer(function(d){that.map._layers[d._leaflet_id].setStyle({fillColor:_d_.getColor(_d_.getValue(d.feature.properties.data))})});
this.mapInfo.update()},style:function(d){return{fillColor:_d_.getColor(_d_.getValue(d.properties.data)),weight:1,opacity:1,color:"lightgrey",dashArray:"3",fillOpacity:1}}});_d_.Views.ReligBtn=Backbone.View.extend({events:{"click .relig-btn":"filterRelig","click .relig-btn-drop":"filterRelig","click .relig-drop-itm":"filterRelig"},render:function(){this.$el.html($("#relig-btn-template").html())},filterRelig:function(d){_d_.appVars.set("curRelig",$(d.target).attr("value"))}});_d_.mapView=new _d_.Views.Map({el:"#mapAnchor"});_d_.religBtnView=new _d_.Views.ReligBtn({el:"#religBtnAnchor"});_d_.Models.AppVars=Backbone.Model.extend({defaults:{curYear:"year2010",curRelig:"chrstgenpct",winWidth:1200}});_d_.Models.ChartVars=Backbone.Model.extend({defaults:{dataObj:{},series:{},stateName:"",fipsCode:"",maxYear:2010,minYear:1945,offset:"zero"}});
_d_.Collections.WRP=Backbone.Collection.extend({url:"/data/religions.json",initialize:function(){this.on("reset",function(){$(".loading-bar").width(400);_d_.religBtnView.render();_d_.mapView.render();_d_.chartVars.set("dataObj",_d_.wrp.getData());_d_.setChartData()})},getData:function(){return this.toJSON()[232].properties.data}});var renderApp=_.after(2,displayViews);
function displayViews(){$(".loading-bar").width(500);setTimeout(function(){$("#progressAnchor").empty();$("#mapAnchor").fadeTo("slow",1);$("#religBtnAnchor").fadeTo("slow",1);$("#chart-container").fadeTo("slow",1);$("#chart-header").fadeTo("slow",1)},800)}$(".loading-bar").width(300);_d_.testColl=new Backbone.Collection;_d_.chartVars=new _d_.Models.ChartVars;_d_.appVars=new _d_.Models.AppVars;_d_.wrp=new _d_.Collections.WRP;_d_.wrp.fetch({reset:!0});
_d_.mapView.listenTo(_d_.appVars,"change:curYear",_d_.mapView.switchLayer);_d_.mapView.listenTo(_d_.appVars,"change:curRelig",_d_.mapView.switchLayer);_d_.chartVars.on("change:series",function(){_d_.testColl.reset();(new _d_.Views.ChartContainer).render()});Handlebars.registerHelper("getNote",function(d){return _.contains(["BM","CU","HA","JA","SL"],d)?"Note: Country reports dual religions.  Population figures inflated.":""});
$(document).ready(function(){function d(){_d_.appVars.set("winWidth",$(window).width())}var f;$(window).resize(function(){clearTimeout(f);f=setTimeout(d,100)})});